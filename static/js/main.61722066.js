/*! For license information please see main.61722066.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,ke=null;function Te(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function xe(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Pe(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==ke)&&(Pe(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function Le(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,o,a,s,u){Me=!1,Fe=null,Le.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,Et,kt,Tt,xt=!1,It=[],Ct=null,Pt=null,At=null,Dt=new Map,Nt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function jt(){xt=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==Pt&&Vt(Pt)&&(Pt=null),null!==At&&Vt(At)&&(At=null),Dt.forEach(Ut),Nt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Pt&&Bt(Pt,e),null!==At&&Bt(At,e),Dt.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Wt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Pt=Mt(Pt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dt.set(o,Mt(Dt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Mt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=F({},cn,{view:0,detail:0}),hn=on(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),vn=on(F({},dn,{dataTransfer:0})),mn=on(F({},fn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(gn),wn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return kn}var xn=F({},fn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(xn),Cn=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(Dn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Vr(e,0)}function $n(e){if(G(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,_e(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},kr={};function Tr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}l&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var xr=Tr("animationend"),Ir=Tr("animationiteration"),Cr=Tr("animationstart"),Pr=Tr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Or=Dr[Rr];Nr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Nr(xr,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=gi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}De((function(){var r=o,i=_e(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case xr:case Ir:case Cr:u=yn;break;case Pr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:wi(u),d=null==c?s:wi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(a,s,u,l,!1),null!==c&&null!==f&&Qr(a,f,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Hn(s))if(Xn)m=ar;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Kn(a,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Vr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ne(n,o))&&a.unshift(Kr(n,u,s)):i||null!=(u=Ne(n,o))&&a.push(Kr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[di]||null}var Si=[],Ei=-1;function ki(e){return{current:e}}function Ti(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function xi(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ii={},Ci=ki(Ii),Pi=ki(!1),Ai=Ii;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Pi),Ti(Ci)}function Oi(e,t,n){if(Ci.current!==Ii)throw Error(o(168));xi(Ci,t),xi(Pi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ci.current,xi(Ci,e),xi(Pi,Pi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Pi),Ti(Ci),xi(Ci,e)):Ti(Pi),xi(Pi,n)}var Vi=null,Ui=!1,ji=!1;function Bi(e){null===Vi?Vi=[e]:Vi.push(e)}function zi(){if(!ji&&null!==Vi){ji=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,ji=!1}}return null}var qi=[],Hi=0,Ki=null,Wi=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Hi++]=Wi,qi[Hi++]=Ki,Ki=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Wi=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var go=ki(null),bo=null,wo=null,_o=null;function So(){_o=wo=bo=null}function Eo(e){var t=go.current;Ti(go),e._currentValue=t}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function xo(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Io=null;function Co(e){null===Io?Io=[e]:Io.push(e)}function Po(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Do=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fu|=a,e.lanes=a,e.memoizedState=f}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var jo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(rc(t,e,r,n),Mo(t,e,r))}};function qo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Ho(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=xo(o):(i=Ni(t)?Ai:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=jo,No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=xo(o):(o=Ni(t)?Ai:Ci.current,i.context=Di(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),Vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===jo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&$o(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case S:return(t=Uc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),io&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return io&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),io&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),io&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return io&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),io&&Ji(i,m),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&$o(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Go(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((o=Mc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Lc(a.type,a.key,a.props,null,r.mode,u)).ref=Go(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,u)).return=r,r=o}return s(r);case N:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(L(a))return m(r,o,a,u);Qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Vc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Xo=Yo(!0),Jo=Yo(!1),Zo={},ea=ki(Zo),ta=ki(Zo),na=ki(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(xi(na,t),xi(ta,e),xi(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(ea),xi(ea,t)}function oa(){Ti(ea),Ti(ta),Ti(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(xi(ta,e),xi(ea,n))}function sa(e){ta.current===e&&(Ti(ea),Ti(ta))}var ua=ki(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=w.ReactCurrentDispatcher,da=w.ReactCurrentBatchConfig,pa=0,va=null,ma=null,ya=null,ga=!1,ba=!1,wa=0,_a=0;function Sa(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ya=ma=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==ma&&null!==ma.next,pa=0,ya=ma=va=null,ga=!1,t)throw Error(o(300));return e}function Ta(){var e=0!==wa;return wa=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?va.memoizedState=ya=e:ya=ya.next=e,ya}function Ia(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ya?va.memoizedState:ya.next;if(null!==t)ya=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ya?va.memoizedState=ya=e:ya=ya.next=e}return ya}function Ca(e,t){return"function"===typeof t?t(e):t}function Pa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((pa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,va.lanes|=f,Fu|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Fu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Da(){}function Na(e,t){var n=va,r=Ia(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Ha(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Ua(9,Oa.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(o(349));0!==(30&pa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&Fa(e)}function La(e,t,n){return n((function(){Ma(t)&&Fa(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fa(e){var t=Ao(e,1);null!==t&&rc(t,e,1,-1)}function Va(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ja(){return Ia().memoizedState}function Ba(e,t,n,r){var i=xa();va.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}va.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function qa(e,t){return Ba(8390656,8,e,t)}function Ha(e,t){return za(2048,8,e,t)}function Ka(e,t){return za(4,2,e,t)}function Wa(e,t){return za(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Ga.bind(null,t,e),n)}function $a(){}function Ya(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Fu|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function es(){return Ia().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Po(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Co(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Po(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var as={readContext:xo,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:xo,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:xo,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Va,useDebugValue:$a,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Va(!1),t=e[0];return e=Za.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=xa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Au)throw Error(o(349));0!==(30&pa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(La.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Au.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_a++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:xo,useCallback:Ya,useContext:xo,useEffect:Ha,useImperativeHandle:Qa,useInsertionEffect:Ka,useLayoutEffect:Wa,useMemo:Xa,useReducer:Pa,useRef:ja,useState:function(){return Pa(Ca)},useDebugValue:$a,useDeferredValue:function(e){return Ja(Ia(),ma.memoizedState,e)},useTransition:function(){return[Pa(Ca)[0],Ia().memoizedState]},useMutableSource:Da,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1},cs={readContext:xo,useCallback:Ya,useContext:xo,useEffect:Ha,useImperativeHandle:Qa,useInsertionEffect:Ka,useLayoutEffect:Wa,useMemo:Xa,useReducer:Aa,useRef:ja,useState:function(){return Aa(Ca)},useDebugValue:$a,useDeferredValue:function(e){var t=Ia();return null===ma?t.memoizedState=e:Ja(t,ma.memoizedState,e)},useTransition:function(){return[Aa(Ca)[0],Ia().memoizedState]},useMutableSource:Da,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function _s(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=ka(e,t,n,r,o,i),n=Ta(),null===e||ws?(io&&n&&eo(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Is(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Ou,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Ou,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xi(Ou,Ru),Ru|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xi(Ou,Ru),Ru|=r;return _s(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var o=Ni(n)?Ai:Ci.current;return o=Di(t,o),To(t,i),n=ka(e,t,n,r,o,i),r=Ta(),null===e||ws?(io&&r&&eo(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Cs(e,t,n,r,i){if(Ni(n)){var o=!0;Mi(t)}else o=!1;if(To(t,i),null===t.stateNode)Hs(e,t),Ho(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=xo(c):c=Di(t,c=Ni(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Ko(t,a,r,c),Do=!1;var h=t.memoizedState;a.state=h,Vo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||Pi.current||Do?("function"===typeof l&&(Bo(t,n,l,r),u=t.memoizedState),(s=Do||qo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:yo(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=xo(u):u=Di(t,u=Ni(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&Ko(t,a,r,u),Do=!1,h=t.memoizedState,a.state=h,Vo(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||Pi.current||Do?("function"===typeof d&&(Bo(t,n,d,r),p=t.memoizedState),(c=Do||qo(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,o,i)}function Ps(e,t,n,r,i,o){xs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Ks(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):_s(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ia(e,t.containerInfo)}function Ds(e,t,n,r,i){return po(),vo(i),t.flags|=256,_s(e,t,n,r),t.child}var Ns,Rs,Os,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,js(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),rc(r,e,i,-1))}return mc(),js(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&vo(r),Xo(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ni(t.type)&&Ri(),Gs(t),null;case 3:return r=t.stateNode,oa(),Ti(Pi),Ti(Ci),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Rs(e,t),Gs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ge(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ge(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ti(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return oa(),Rs(e,t),null===e&&zr(t.stateNode.containerInfo),Gs(t),null;case 10:return Eo(t.type._context),Gs(t),null;case 19:if(Ti(ua),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ws(a,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Ws(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>qu&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Gs(t),null}else 2*Xe()-a.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ua.current,xi(ua,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $s(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ti(Pi),Ti(Ci),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ti(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ua),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,t,a),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(o(160));pu(a,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Tc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Tc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Tc(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Tc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){Tc(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Tc(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Tc(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,mu(t,e),Xs=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Tc(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){Su(h);continue}}null!==p?(p.return=d,Zs=p):Su(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Tc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Tc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(e,uu(e),a);break;default:throw Error(o(161))}}catch(s){Tc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=a,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(a=Zs).child,22===a.tag&&null!==a.memoizedState?Eu(i):null!==u?(u.return=a,Zs=u):Eu(i);for(;null!==o;)Zs=o,wu(o,t,n),o=o.sibling;Zs=i,Ys=s,Xs=c}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):_u(e)}}function _u(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&ou(t)}catch(d){Tc(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function Su(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Eu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Tc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Tc(t,i,u)}}var o=t.return;try{ou(t)}catch(u){Tc(t,o,u)}break;case 5:var a=t.return;try{ou(t)}catch(u){Tc(t,a,u)}}}catch(u){Tc(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var ku,Tu=Math.ceil,xu=w.ReactCurrentDispatcher,Iu=w.ReactCurrentOwner,Cu=w.ReactCurrentBatchConfig,Pu=0,Au=null,Du=null,Nu=0,Ru=0,Ou=ki(0),Lu=0,Mu=null,Fu=0,Vu=0,Uu=0,ju=null,Bu=null,zu=0,qu=1/0,Hu=null,Ku=!1,Wu=null,Gu=null,Qu=!1,$u=null,Yu=0,Xu=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Pu)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pu)&&0!==Nu?Nu&-Nu:null!==mo.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(o(185));yt(e,n,r),0!==(2&Pu)&&e===Au||(e===Au&&(0===(2&Pu)&&(Vu|=n),4===Lu&&uc(e,Nu)),ic(e,r),1===n&&0===Pu&&0===(1&t.mode)&&(qu=Xe()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Au?Nu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),ai((function(){0===(6&Pu)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zu=-1,ec=0,0!==(6&Pu))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Au?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Pu;Pu|=2;var a=vc();for(Au===e&&Nu===t||(Hu=null,qu=Xe()+500,dc(e,t));;)try{bc();break}catch(u){pc(e,u)}So(),xu.current=a,Pu=i,null!==Du?t=0:(Au=null,Nu=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Bu,Hu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Bu,Hu),t);break}Sc(e,Bu,Hu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Bu,Hu),r);break}Sc(e,Bu,Hu);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=ju;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bu,Bu=n,null!==t&&sc(t)),e}function sc(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function uc(e,t){for(t&=~Uu,t&=~Vu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Pu))throw Error(o(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Bu,Hu),ic(e,Xe()),null}function lc(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(qu=Xe()+500,Ui&&zi())}}function fc(e){null!==$u&&0===$u.tag&&0===(6&Pu)&&Ec();var t=Pu;Pu|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(Pu=t))&&zi()}}function hc(){Ru=Ou.current,Ti(Ou)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:oa(),Ti(Pi),Ti(Ci),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ti(ua);break;case 10:Eo(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Au=e,Du=e=Oc(e.current,null),Nu=Ru=t,Lu=0,Mu=null,Uu=Vu=Fu=0,Bu=ju=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return e}function pc(e,t){for(;;){var n=Du;try{if(So(),ha.current=as,ga){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ga=!1}if(pa=0,ya=ma=va=null,ba=!1,wa=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Du=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Nu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(a,l,t),mc();break e}c=Error(o(426))}else if(io&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==Lu&&(Lu=2),null===ju?ju=[a]:ju.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ps(0,c,t));break e;case 1:u=c;var g=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(w){t=w,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function vc(){var e=xu.current;return xu.current=as,null===e?as:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Au||0===(268435455&Fu)&&0===(268435455&Vu)||uc(Au,Nu)}function yc(e,t){var n=Pu;Pu|=2;var r=vc();for(Au===e&&Nu===t||(Hu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(So(),Pu=n,xu.current=r,null!==Du)throw Error(o(261));return Au=null,Nu=0,Lu}function gc(){for(;null!==Du;)wc(Du)}function bc(){for(;null!==Du&&!$e();)wc(Du)}function wc(e){var t=ku(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?_c(e):Du=t,Iu.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ru)))return void(Du=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Du=n);if(null===e)return Lu=6,void(Du=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Lu&&(Lu=5)}function Sc(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==$u);if(0!==(6&Pu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Au&&(Du=Au=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Ac(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=Pu;Pu|=4,Iu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:yo(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){Tc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Ye(),Pu=u,bt=s,Cu.transition=a}else e.current=n;if(Qu&&(Qu=!1,$u=e,Yu=i),a=e.pendingLanes,0===a&&(Gu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Wu,Wu=null,e;0!==(1&Yu)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,zi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function Ec(){if(null!==$u){var e=wt(Yu),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===$u)var r=!1;else{if(e=$u,$u=null,Yu=0,0!==(6&Pu))throw Error(o(331));var i=Pu;for(Pu|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,a)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(au(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Zs=g;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(S){Tc(u,u.return,S)}if(u===s){Zs=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Zs=_;break e}Zs=u.return}}if(Pu=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function kc(e,t,n){e=Lo(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Tc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Lo(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Nu&n)===n&&(4===Lu||3===Lu&&(130023424&Nu)===Nu&&500>Xe()-zu?dc(e,0):Uu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ao(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return Ge(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Dc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Mc(n.children,i,a,t);case k:s=8,i|=8;break;case T:return(e=Nc(12,n,t,2|i)).elementType=T,e.lanes=a,e;case P:return(e=Nc(13,n,t,i)).elementType=P,e.lanes=a,e;case A:return(e=Nc(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case I:s=9;break e;case C:s=11;break e;case D:s=14;break e;case N:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,a,s,u){return e=new jc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,o,a,s,u){return(e=Bc(n,r,!0,e,0,o,0,s,u)).context=zc(null),n=e.current,(o=Oo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(rc(e,i,a,o),Mo(e,i,a)),a}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}ku=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:aa(t);break;case 1:Ni(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(go,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vs(e,t,n):(xi(ua,1&ua.current),null!==(e=Ks(e,t,n))?e.sibling:null);xi(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Ks(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Di(t,Ci.current);To(t,n),i=ka(null,t,r,e,i,n);var a=Ta();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Ps(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Es(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ro(e,t),Vo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ds(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ds(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ks(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),xs(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Vs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,xi(go,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Pi.current){t=Ks(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Oo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ko(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ko(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=xo(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Es(e,t,r,i=yo(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Hs(e,t),t.tag=1,Ni(r)?(e=!0,Mi(t)):e=!1,To(t,n),Ho(t,r,i),Wo(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Kc(a);s.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Kc(a);o.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),fc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(a)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Hc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Pu)&&(qu=Xe()+500,zi()))}break;case 13:fc((function(){var t=Ao(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ao(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},kt=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Pe=fc;var tl={usingClientEntryPoint:!1,Events:[bi,wi,_i,xe,Ie,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=b.prototype=new g;w.constructor=b,v(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+C(u,0):o,_(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),P(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var l=o+C(s=e[c],c);u+=P(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,l=o+C(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function _(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,R(S);else{var t=r(l);null!==t&&O(_,t.startTime-e)}}function S(e,n){v=!1,m&&(m=!1,g(x),x=-1),p=!0;var o=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(_,f.startTime-n),u=!1}return u}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,T=null,x=-1,I=5,C=-1;function P(){return!(t.unstable_now()-C<I)}function A(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?E():(k=!1,T=null)}}else k=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,N=D.port2;D.port1.onmessage=A,E=function(){N.postMessage(null)}}else E=function(){y(A,0)};function R(e){T=e,k||(k=!0,E())}function O(e,n){x=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(m?(g(x),x=-1):m=!0,O(_,o-a))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(S))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),function(){var e=n(791),t=n(164);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=n(184),s=function(){return(0,a.jsx)("div",{className:"title",children:(0,a.jsx)("h1",{children:"Galeria Zdjec"})})};function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(){c=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new N(r||[]);return i(a,"_invoke",{value:C(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var p="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function b(){}function w(){}function _(){}var S={};f(S,a,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(R([])));k&&k!==n&&r.call(k,a)&&(S=k);var T=_.prototype=b.prototype=Object.create(S);function x(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function C(t,n,r){var i=p;return function(o,a){if(i===m)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?y:v,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(u(t)+" is not iterable")}return w.prototype=_,i(T,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:w,configurable:!0}),w.displayName=f(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,f(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},x(I.prototype),f(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new I(h(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(T),f(T,l,"Generator"),f(T,a,(function(){return this})),f(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;D(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))}}var h=function(e,t){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},h(e,t)};function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)};function v(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Sm){o(Sm)}}function s(e){try{u(r.throw(e))}catch(Sm){o(Sm)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function m(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(Sm){s=[6,Sm],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function y(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function b(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var w=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(w(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},S=function(e){return function(e){var t=w(e);return _.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function E(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&k(n)&&(e[n]=E(e[n],t[n]));return e}function k(e){return"__proto__"!==e}var T=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function x(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=p({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[S(JSON.stringify({alg:"none",type:"JWT"})),S(JSON.stringify(o)),""].join(".")}function I(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Sm){return!1}}var P=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,A.prototype.create),o}return d(t,e),t}(Error),A=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(D,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new P(i,s,r)},e}();var D=/\{\$([^}]+)}/g;function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function R(e,t){var n=new O(e,t);return n.subscribe.bind(n)}var O=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=L),void 0===r.error&&(r.error=L),void 0===r.complete&&(r.complete=L);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Sm){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Sm){"undefined"!==typeof console&&console.error&&console.error(Sm)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function L(){}function M(e){return e&&e._delegate?e._delegate:e}var F=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),V="[DEFAULT]",U=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new T;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Sm){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Sm){if(r)return null;throw Sm}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:V})}catch(Sm){}try{for(var r=y(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=g(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(Sm){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=V),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return v(this,void 0,void 0,(function(){var e;return m(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(b(b([],g(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),g(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=V),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=V),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=y(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=g(u.value,2),l=c[0],f=c[1];o===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=y(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===V?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(nm){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=V),this.component?this.component.multipleInstances?e:V:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var j,B=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new U(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function z(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var q,H=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(q||(q={}));var K,W={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},G=q.INFO,Q=((j={})[q.DEBUG]="log",j[q.VERBOSE]="log",j[q.INFO]="info",j[q.WARN]="warn",j[q.ERROR]="error",j),$=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Q[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,z(["["+i+"]  "+e.name+":"],n))}},Y=function(){function e(e){this.name=e,this._logLevel=G,this._logHandler=$,this._userLogHandler=null,H.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in q))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?W[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,z([this,q.DEBUG],e)),this._logHandler.apply(this,z([this,q.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,z([this,q.VERBOSE],e)),this._logHandler.apply(this,z([this,q.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,z([this,q.INFO],e)),this._logHandler.apply(this,z([this,q.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,z([this,q.WARN],e)),this._logHandler.apply(this,z([this,q.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,z([this,q.ERROR],e)),this._logHandler.apply(this,z([this,q.ERROR],e))},e}();function X(e){H.forEach((function(t){t.setLogLevel(e)}))}var J,Z=((K={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",K["bad-app-name"]="Illegal App name: '{$appName}",K["duplicate-app"]="Firebase App named '{$appName}' already exists",K["app-deleted"]="Firebase App named '{$appName}' already deleted",K["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",K["invalid-log-argument"]="First argument to `onLog` must be null or a function.",K),ee=new A("app","Firebase",Z),te="@firebase/app",ne="[DEFAULT]",re=((J={})[te]="fire-core",J["@firebase/analytics"]="fire-analytics",J["@firebase/app-check"]="fire-app-check",J["@firebase/auth"]="fire-auth",J["@firebase/database"]="fire-rtdb",J["@firebase/functions"]="fire-fn",J["@firebase/installations"]="fire-iid",J["@firebase/messaging"]="fire-fcm",J["@firebase/performance"]="fire-perf",J["@firebase/remote-config"]="fire-rc",J["@firebase/storage"]="fire-gcs",J["@firebase/firestore"]="fire-fst",J["fire-js"]="fire-js",J["firebase-wrapper"]="fire-js-all",J),ie=new Y("@firebase/app"),oe=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=E(void 0,e),this.container=new B(t.name),this._addComponent(new F("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=ne),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=ne),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(Sm){ie.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,Sm)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ee.create("app-deleted",{appName:this.name_})},e}();oe.prototype.name&&oe.prototype.options||oe.prototype.delete||console.log("dc");var ae="8.10.0";function se(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=ne);var a=o.name;if("string"!==typeof a||!a)throw ee.create("bad-app-name",{appName:String(a)});if(N(t,a))throw ee.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=re[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void ie.warn(u.join(" "))}o(new F(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:X,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw ee.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=W[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:q[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=H;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:ae,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!N(t,e=e||ne))throw ee.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return ie.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw ee.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&E(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var ue=function e(){var t=se(oe);return t.INTERNAL=p(p({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){E(t,e)},createSubscribe:R,ErrorFactory:A,deepExtend:E}),t}(),ce=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var le=self.firebase.SDK_VERSION;le&&le.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var fe=ue.initializeApp;ue.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return C()&&ie.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),fe.apply(void 0,e)};var he=ue;!function(e,t){e.INTERNAL.registerComponent(new F("platform-logger",(function(e){return new ce(e)}),"PRIVATE")),e.registerVersion(te,"0.6.30",t),e.registerVersion("fire-js","")}(he);var de=he,pe="8.10.1";de.registerVersion("firebase",pe,"app"),de.SDK_VERSION=pe;var ve="firebasestorage.googleapis.com",me="storageBucket",ye=function(e){function t(n,r){var i=e.call(this,ge(n),"Firebase Storage: "+r+" ("+ge(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return d(t,e),t.prototype._codeEquals=function(e){return ge(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(P);function ge(e){return"storage/"+e}function be(){return new ye("unknown","An unknown error occurred, please check the error payload for server response.")}function we(){return new ye("canceled","User canceled the upload/download.")}function _e(){return new ye("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Se(e){return new ye("invalid-argument",e)}function Ee(){return new ye("app-deleted","The Firebase app was deleted.")}function ke(e){return new ye("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Te(e,t){return new ye("invalid-format","String does not match format '"+e+"': "+t)}function xe(e){throw new ye("internal-error","Internal error: "+e)}var Ie={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ce=function(e,t){this.data=e,this.contentType=t||null};function Pe(e,t){switch(e){case Ie.RAW:return new Ce(Ae(t));case Ie.BASE64:case Ie.BASE64URL:return new Ce(De(e,t));case Ie.DATA_URL:return new Ce(function(e){var t=new Ne(e);return t.base64?De(Ie.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Sm){throw Te(Ie.DATA_URL,"Malformed data URL.")}return Ae(t)}(t.rest)}(t),new Ne(t).contentType)}throw be()}function Ae(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function De(e,t){switch(e){case Ie.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Te(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ie.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Te(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(Sm){throw Te(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Ne=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Te(Ie.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var Re,Oe={STATE_CHANGED:"state_changed"},Le={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Me(e){switch(e){case"running":case"pausing":case"canceling":return Le.RUNNING;case"paused":return Le.PAUSED;case"success":return Le.SUCCESS;case"canceled":return Le.CANCELED;default:return Le.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Re||(Re={}));var Fe=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Re.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Re.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Re.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw xe("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw xe("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw xe("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Sm){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw xe("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var Ve=function(){function e(){}return e.prototype.createConnection=function(){return new Fe},e}(),Ue=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Sm){return new e(t,"")}if(""===r.path)return r;throw new ye("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===ve?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new ye("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),je=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function Be(e){return"string"===typeof e||e instanceof String}function ze(e){return qe()&&e instanceof Blob}function qe(){return"undefined"!==typeof Blob}function He(e,t,n,r){if(r<t)throw Se("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Se("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Ke(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function We(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var Ge=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(Sm){o(Sm)}else null!==a?((r=be()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Ee():we()):o(r=new ye("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Qe(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(e||s()||o?c.call.apply(c,b([null,e],n)):(r<64&&(r*=2),1===a?(a=2,t=0):t=1e3*(r+Math.random()),l(t)))}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new Qe(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Re.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Qe(a,r))}else{var s=r.getErrorCode()===Re.ABORT;t(!1,new Qe(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Qe=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function $e(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$e();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(qe())return new Blob(e);throw new ye("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Xe=function(){function e(e,t){var n=0,r="";ze(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(ze(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(qe()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Ye.apply(null,r))}var i=t.map((function(e){return Be(e)?Pe(Ie.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Je(e){var t;try{t=JSON.parse(e)}catch(Sm){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Ze(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function et(e,t){return t}var tt=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||et},nt=null;function rt(){if(nt)return nt;var e=[];e.push(new tt("bucket")),e.push(new tt("generation")),e.push(new tt("metageneration")),e.push(new tt("name","fullPath",!0));var t=new tt("name");t.xform=function(e,t){return function(e){return!Be(e)||e.length<2?e:Ze(e)}(t)},e.push(t);var n=new tt("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new tt("timeCreated")),e.push(new tt("updated")),e.push(new tt("md5Hash",null,!0)),e.push(new tt("cacheControl",null,!0)),e.push(new tt("contentDisposition",null,!0)),e.push(new tt("contentEncoding",null,!0)),e.push(new tt("contentLanguage",null,!0)),e.push(new tt("contentType",null,!0)),e.push(new tt("metadata","customMetadata",!0)),nt=e}function it(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Ue(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ot(e,t,n){var r=Je(t);return null===r?null:it(e,r,n)}function at(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var st="prefixes",ut="items";function ct(e,t,n){var r=Je(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[st])for(var i=0,o=n[st];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Ue(t,a));r.prefixes.push(s)}if(n[ut])for(var u=0,c=n[ut];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Ue(t,l.name)),r.items.push(s)}return r}(e,t,r)}var lt=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ft(e){if(!e)throw be()}function ht(e,t){return function(n,r){var i=ot(e,r,t);return ft(null!==i),i}}function dt(e,t){return function(n,r){var i=ot(e,r,t);return ft(null!==i),function(e,t,n){var r=Je(t);if(null===r)return null;if(!Be(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Ke("/b/"+o(r)+"/o/"+o(i),n)+We({alt:"media",token:t})}))[0]}(i,r,e.host)}}function pt(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new ye("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ye("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new ye("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ye("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function vt(e){var t=pt(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new ye("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function mt(e,t,n){var r=Ke(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new lt(r,"GET",ht(e,n),i);return o.errorHandler=vt(t),o}function yt(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Ke(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new lt(a,"GET",function(e,t){return function(n,r){var i=ct(e,t,r);return ft(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=pt(t),u}function gt(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var bt=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function wt(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Sm){ft(!1)}return ft(!!n&&-1!==(t||["active"]).indexOf(n)),n}var _t=262144;function St(e,t,n,r,i,o,a,s){var u=new bt(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new ye("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,h);if(null===p)throw _e();var v=t.maxUploadRetryTime,m=new lt(n,"POST",(function(e,n){var i,a=wt(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?ht(t,o)(e,n):null,new bt(s,c,"final"===a,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=pt(e),m}var Et=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function kt(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Tt=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=rt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=gt(t,r,i),s={name:a.fullPath},u=Ke(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=at(a,n),f=e.maxUploadRetryTime,h=new lt(u,"POST",(function(e){var t;wt(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Sm){ft(!1)}return ft(Be(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=pt(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new lt(n,"POST",(function(e){var t=wt(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Sm){ft(!1)}n||ft(!1);var i=Number(n);return ft(!isNaN(i)),new bt(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=pt(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=_t*this._chunkMultiplier,n=new bt(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=St(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(Sm){return e._error=Sm,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){_t*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=mt(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=gt(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+at(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=Xe.getBlob(c,r,l);if(null===f)throw _e();var h={name:u.fullPath},d=Ke(o,e.host),p=e.maxUploadRetryTime,v=new lt(d,"POST",ht(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=pt(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=we(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Me(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Et(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Me(this._state)){case Le.SUCCESS:kt(this._resolve.bind(null,this.snapshot))();break;case Le.CANCELED:case Le.ERROR:kt(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Me(this._state)){case Le.RUNNING:case Le.PAUSED:e.next&&kt(e.next.bind(e,this.snapshot))();break;case Le.SUCCESS:e.complete&&kt(e.complete.bind(e))();break;default:e.error&&kt(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),xt=function(){function e(e,t){this._service=e,this._location=t instanceof Ue?t:Ue.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Ue(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Ze(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Ue(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw ke(e)},e}();function It(e){var t={prefixes:[],items:[]};return Ct(e,t).then((function(){return t}))}function Ct(e,t,n){return v(this,void 0,void 0,(function(){var r,i,o;return m(this,(function(a){switch(a.label){case 0:return[4,Pt(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Ct(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Pt(e,t){return v(this,void 0,void 0,(function(){var n,r;return m(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&He("options.maxResults",1,1e3,t.maxResults),n=t||{},r=yt(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function At(e,t){return v(this,void 0,void 0,(function(){var n;return m(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Ke(t.fullServerUrl(),e.host),o=at(n,r),a=e.maxOperationRetryTime,s=new lt(i,"PATCH",ht(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=vt(t),s}(e.storage,e._location,t,rt()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function Dt(e){return v(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Ke(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new lt(r,"GET",dt(e,n),i);return o.errorHandler=vt(t),o}(e.storage,e._location,rt()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new ye("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Nt(e){return v(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Ke(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new lt(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=vt(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function Rt(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Ue(e._location.bucket,n);return new xt(e.storage,r)}function Ot(e){return/^[A-Za-z]+:\/\//.test(e)}function Lt(e,t){if(e instanceof Vt){var n=e;if(null==n._bucket)throw new ye("no-default-bucket","No default bucket found. Did you set the '"+me+"' property when initializing the app?");var r=new xt(n,n._bucket);return null!=t?Lt(r,t):r}return void 0!==t?Rt(e,t):e}function Mt(e,t){if(t&&Ot(t)){if(e instanceof Vt)return new xt(e,t);throw Se("To use ref(service, url), the first argument must be a Storage instance.")}return Lt(e,t)}function Ft(e,t){var n=null===t||void 0===t?void 0:t[me];return null==n?null:Ue.makeFromBucketSpec(n,e)}var Vt=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=ve,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ue.makeFromBucketSpec(i,this._host):Ft(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Ue.makeFromBucketSpec(this._url,e):this._bucket=Ft(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){He("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){He("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return v(this,void 0,void 0,(function(){var e,t;return m(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return v(this,void 0,void 0,(function(){var e;return m(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new xt(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new je(Ee());var i=function(e,t,n,r,i,o){var a=We(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Ge(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return v(this,void 0,void 0,(function(){var t,n,r;return m(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function Ut(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Tt(e,new Xe(t),n)}(e=M(e),t,n)}function jt(e){return function(e){return v(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=mt(e.storage,e._location,rt()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=M(e))}function Bt(e,t){return Mt(e=M(e),t)}function zt(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:x(i,e.app.options.projectId))}(e,t,n,r)}var qt=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Ht=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new qt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new qt(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new qt(e,i,i._ref))}:{next:t.next?function(e){return t.next(new qt(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Kt=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Wt(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Wt(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Wt=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return Rt(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Ht(Ut(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Ie.RAW),this._throwIfRoot("putString");var r=Pe(t,e),i=p({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Ht(new Tt(this._delegate,new Xe(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return It(e=M(e))}(this._delegate).then((function(t){return new Kt(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return Pt(e=M(e),t)}(this._delegate,e||void 0).then((function(e){return new Kt(e,t.storage)}))},e.prototype.getMetadata=function(){return jt(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return At(e=M(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return Dt(e=M(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Nt(e=M(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw ke(e)},e}(),Gt=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Ot(e))throw Se("ref() expected a child path but got a URL, use refFromURL instead.");return new Wt(Bt(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Ot(e))throw Se("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ue.makeFromUrl(e,this._delegate.host)}catch(Sm){throw Se("refFromUrl() expected a valid full URL but got an invalid one.")}return new Wt(Bt(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),zt(this._delegate,e,t,n)},e}();function Qt(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Gt(r,new Vt(r,i,o,new Ve,n,de.SDK_VERSION))}!function(e){var t={TaskState:Le,TaskEvent:Oe,StringFormat:Ie,Storage:Vt,Reference:Wt};e.INTERNAL.registerComponent(new F("storage",Qt,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(de);var $t=function(e,t){return $t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},$t(e,t)};function Yt(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Xt,Jt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Zt=Zt||{},en=Jt||self;function tn(){}function nn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var on="closure_uid_"+(1e9*Math.random()>>>0),an=0;function sn(e,t,n){return e.call.apply(e.bind,arguments)}function un(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function cn(e,t,n){return(cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sn:un).apply(null,arguments)}function ln(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function fn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function hn(){this.s=this.s,this.o=this.o}var dn={};hn.prototype.s=!1,hn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,on)&&e[on]||(e[on]=++an)}(this);delete dn[e]}},hn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var pn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},vn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function mn(e){return Array.prototype.concat.apply([],arguments)}function yn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function gn(e){return/^[\s\xa0]*$/.test(e)}var bn,wn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function _n(e,t){return-1!=e.indexOf(t)}function Sn(e,t){return e<t?-1:e>t?1:0}e:{var En=en.navigator;if(En){var kn=En.userAgent;if(kn){bn=kn;break e}}bn=""}function Tn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function xn(e){var t={};for(var n in e)t[n]=e[n];return t}var In="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<In.length;o++)n=In[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Pn(e){return Pn[" "](e),e}Pn[" "]=tn;var An,Dn=_n(bn,"Opera"),Nn=_n(bn,"Trident")||_n(bn,"MSIE"),Rn=_n(bn,"Edge"),On=Rn||Nn,Ln=_n(bn,"Gecko")&&!(_n(bn.toLowerCase(),"webkit")&&!_n(bn,"Edge"))&&!(_n(bn,"Trident")||_n(bn,"MSIE"))&&!_n(bn,"Edge"),Mn=_n(bn.toLowerCase(),"webkit")&&!_n(bn,"Edge");function Fn(){var e=en.document;return e?e.documentMode:void 0}e:{var Vn="",Un=function(){var e=bn;return Ln?/rv:([^\);]+)(\)|;)/.exec(e):Rn?/Edge\/([\d\.]+)/.exec(e):Nn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Mn?/WebKit\/(\S+)/.exec(e):Dn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Un&&(Vn=Un?Un[1]:""),Nn){var jn=Fn();if(null!=jn&&jn>parseFloat(Vn)){An=String(jn);break e}}An=Vn}var Bn,zn={};function qn(){return function(e){var t=zn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=wn(String(An)).split("."),n=wn("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Sn(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Sn(0==o[2].length,0==a[2].length)||Sn(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(en.document&&Nn){var Hn=Fn();Bn=Hn||(parseInt(An,10)||void 0)}else Bn=void 0;var Kn=Bn,Wn=function(){if(!en.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{en.addEventListener("test",tn,t),en.removeEventListener("test",tn,t)}catch(n){}return e}();function Gn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Qn(e,t){if(Gn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ln){e:{try{Pn(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:$n[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Qn.Z.h.call(this)}}Gn.prototype.h=function(){this.defaultPrevented=!0},fn(Qn,Gn);var $n={2:"touch",3:"pen",4:"mouse"};Qn.prototype.h=function(){Qn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Yn="closure_listenable_"+(1e6*Math.random()|0),Xn=0;function Jn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Xn,this.ca=this.fa=!1}function Zn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function er(e){this.src=e,this.g={},this.h=0}function tr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=pn(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Zn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function nr(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}er.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=nr(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Jn(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var rr="closure_lm_"+(1e6*Math.random()|0),ir={};function or(e,t,n,r,i){if(r&&r.once)return sr(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)or(e,t[o],n,r,i);return null}return n=pr(n),e&&e[Yn]?e.N(t,n,rn(r)?!!r.capture:!!r,i):ar(e,t,n,!1,r,i)}function ar(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=rn(i)?!!i.capture:!!i,s=hr(e);if(s||(e[rr]=s=new er(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=fr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Wn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(lr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function sr(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)sr(e,t[o],n,r,i);return null}return n=pr(n),e&&e[Yn]?e.O(t,n,rn(r)?!!r.capture:!!r,i):ar(e,t,n,!0,r,i)}function ur(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ur(e,t[o],n,r,i);else r=rn(r)?!!r.capture:!!r,n=pr(n),e&&e[Yn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=nr(o=e.g[t],n,r,i))&&(Zn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=hr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=nr(t,n,r,i)),(n=-1<e?t[e]:null)&&cr(n))}function cr(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Yn])tr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(lr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=hr(t))?(tr(n,e),0==n.h&&(n.src=null,t[rr]=null)):Zn(e)}}}function lr(e){return e in ir?ir[e]:ir[e]="on"+e}function fr(e,t){if(e.ca)e=!0;else{t=new Qn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&cr(e),e=n.call(r,t)}return e}function hr(e){return(e=e[rr])instanceof er?e:null}var dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function pr(e){return"function"===typeof e?e:(e[dr]||(e[dr]=function(t){return e.handleEvent(t)}),e[dr])}function vr(){hn.call(this),this.i=new er(this),this.P=this,this.I=null}function mr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Gn(t,e);else if(t instanceof Gn)t.target=t.target||e;else{var i=t;Cn(t=new Gn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=yr(a,r,!0,t)&&i}if(i=yr(a=t.g=e,r,!0,t)&&i,i=yr(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=yr(a=t.g=n[o],r,!1,t)&&i}function yr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&tr(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}fn(vr,hn),vr.prototype[Yn]=!0,vr.prototype.removeEventListener=function(e,t,n,r){ur(this,e,t,n,r)},vr.prototype.M=function(){if(vr.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zn(n[r]);delete t.g[e],t.h--}}this.I=null},vr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},vr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gr=en.JSON.stringify;function br(){var e=Ir,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var wr,_r=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Sr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Sr=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Er}),(function(e){return e.reset()})),Er=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function kr(e){en.setTimeout((function(){throw e}),0)}function Tr(e,t){wr||function(){var e=en.Promise.resolve(void 0);wr=function(){e.then(Cr)}}(),xr||(wr(),xr=!0),Ir.add(e,t)}var xr=!1,Ir=new _r;function Cr(){for(var e;e=br();){try{e.h.call(e.g)}catch(n){kr(n)}var t=Sr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xr=!1}function Pr(e,t){vr.call(this),this.h=e||1,this.g=t||en,this.j=cn(this.kb,this),this.l=Date.now()}function Ar(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Dr(e,t,n){if("function"===typeof e)n&&(e=cn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=cn(e.handleEvent,e)}return 2147483647<Number(t)?-1:en.setTimeout(e,t||0)}function Nr(e){e.g=Dr((function(){e.g=null,e.i&&(e.i=!1,Nr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}fn(Pr,vr),(Xt=Pr.prototype).da=!1,Xt.S=null,Xt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mr(this,"tick"),this.da&&(Ar(this),this.start()))}},Xt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xt.M=function(){Pr.Z.M.call(this),Ar(this),delete this.g};var Rr=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}$t(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Nr(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(en.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(hn);function Or(e){hn.call(this),this.h=e,this.g={}}fn(Or,hn);var Lr=[];function Mr(e,t,n,r){Array.isArray(n)||(n&&(Lr[0]=n.toString()),n=Lr);for(var i=0;i<n.length;i++){var o=or(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Fr(e){Tn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&cr(e)}),e),e.g={}}function Vr(){this.g=!0}function Ur(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return gr(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Or.prototype.M=function(){Or.Z.M.call(this),Fr(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vr.prototype.Aa=function(){this.g=!1},Vr.prototype.info=function(){};var jr={},Br=null;function zr(){return Br=Br||new vr}function qr(e){Gn.call(this,jr.Ma,e)}function Hr(e){var t=zr();mr(t,new qr(t,e))}function Kr(e,t){Gn.call(this,jr.STAT_EVENT,e),this.stat=t}function Wr(e){var t=zr();mr(t,new Kr(t,e))}function Gr(e,t){Gn.call(this,jr.Na,e),this.size=t}function Qr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return en.setTimeout((function(){e()}),t)}jr.Ma="serverreachability",fn(qr,Gn),jr.STAT_EVENT="statevent",fn(Kr,Gn),jr.Na="timingevent",fn(Gr,Gn);var $r={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Yr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xr(){}function Jr(e){return e.h||(e.h=e.i())}function Zr(){}Xr.prototype.h=null;var ei,ti={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ni(){Gn.call(this,"d")}function ri(){Gn.call(this,"c")}function ii(){}function oi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Or(this),this.P=si,e=On?125:void 0,this.W=new Pr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}fn(ni,Gn),fn(ri,Gn),fn(ii,Xr),ii.prototype.g=function(){return new XMLHttpRequest},ii.prototype.i=function(){return{}},ei=new ii;var si=45e3,ui={},ci={};function li(e,t,n){e.K=1,e.v=Ri(Ii(t)),e.s=n,e.U=!0,fi(e,null)}function fi(e,t){e.F=Date.now(),vi(e),e.A=Ii(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Wi(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ai,e.g=$o(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Rr(cn(e.Ia,e,e.g),e.O)),Mr(e.V,e.g,"readystatechange",e.gb),t=e.H?xn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Hr(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function hi(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function di(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=pi(e,n))==ci){4==t&&(e.o=4,Wr(14),i=!1),Ur(e.j,e.m,null,"[Incomplete Response]");break}if(r==ui){e.o=4,Wr(15),Ur(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ur(e.j,e.m,r,null),wi(e,r)}hi(e)&&r!=ci&&r!=ui&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Wr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bo(t),t.L=!0,Wr(11))):(Ur(e.j,e.m,n,"[Invalid Chunked Response]"),bi(e),gi(e))}function pi(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ci:(n=Number(t.substring(n,r)),isNaN(n)?ui:(r+=1)+n>t.length?ci:(t=t.substr(r,n),e.C=r+n,t))}function vi(e){e.Y=Date.now()+e.P,mi(e,e.P)}function mi(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Qr(cn(e.eb,e),t)}function yi(e){e.B&&(en.clearTimeout(e.B),e.B=null)}function gi(e){0==e.l.G||e.I||Ho(e.l,e)}function bi(e){yi(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ar(e.W),Fr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function wi(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||eo(n.i,e)))if(n.I=e.N,!e.J&&eo(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;qo(n),No(n)}jo(n),Wr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Qr(cn(n.ab,n),6e3));if(1>=Zi(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Wo(n,11)}else if((e.J||n.g==e)&&qo(n),!gn(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(_n(l,"spdy")||_n(l,"quic")||_n(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(to(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ni(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Qo(r,r.H?r.la:null,r.W),d.J){no(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(yi(p),vi(p)),r.g=d}else Uo(r);0<n.l.length&&Lo(n)}else"stop"!=o[0]&&"close"!=o[0]||Wo(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Wo(n,7):Do(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Hr(4)}catch(o){}}function _i(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nn(e)||"string"===typeof e)vn(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(nn(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(nn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Si(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Si)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ei(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ki(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ki(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ki(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Xt=oi.prototype).setTimeout=function(e){this.P=e},Xt.gb=function(e){e=e.target;var t=this.L;t&&3==xo(e)?t.l():this.Ia(e)},Xt.Ia=function(e){try{if(e==this.g)e:{var t=xo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||On||this.g&&(this.h.h||this.g.ga()||Io(this.g)))){this.I||4!=t||7==n||Hr(8==n||0>=r?3:2),yi(this);var i=this.g.ba();this.N=i;t:if(hi(this)){var o=Io(this.g);e="";var a=o.length,s=4==xo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){bi(this),gi(this);var u="";break t}this.h.i=new en.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gn(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Wr(12),bi(this),gi(this);break e}Ur(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wi(this,i)}this.U?(di(this,t,u),On&&this.i&&3==t&&(Mr(this.V,this.W,"tick",this.fb),this.W.start())):(Ur(this.j,this.m,u,null),wi(this,u)),4==t&&bi(this),this.i&&!this.I&&(4==t?Ho(this.l,this):(this.i=!1,vi(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Wr(12)):(this.o=0,Wr(13)),bi(this),gi(this)}}}catch(t){}},Xt.fb=function(){if(this.g){var e=xo(this.g),t=this.g.ga();this.C<t.length&&(yi(this),di(this,e,t),this.i&&4!=e&&vi(this))}},Xt.cancel=function(){this.I=!0,bi(this)},Xt.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Hr(3),Wr(17)),bi(this),this.o=2,gi(this)):mi(this,this.Y-e)},(Xt=Si.prototype).R=function(){Ei(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Xt.T=function(){return Ei(this),this.g.concat()},Xt.get=function(e,t){return ki(this.h,e)?this.h[e]:t},Xt.set=function(e,t){ki(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Xt.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ti=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof xi){this.g=void 0!==t?t:e.g,Ci(this,e.j),this.s=e.s,Pi(this,e.i),Ai(this,e.m),this.l=e.l,t=e.h;var n=new zi;n.i=t.i,t.g&&(n.g=new Si(t.g),n.h=t.h),Di(this,n),this.o=e.o}else e&&(n=String(e).match(Ti))?(this.g=!!t,Ci(this,n[1]||"",!0),this.s=Oi(n[2]||""),Pi(this,n[3]||"",!0),Ai(this,n[4]),this.l=Oi(n[5]||"",!0),Di(this,n[6]||"",!0),this.o=Oi(n[7]||"")):(this.g=!!t,this.h=new zi(null,this.g))}function Ii(e){return new xi(e)}function Ci(e,t,n){e.j=n?Oi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Pi(e,t,n){e.i=n?Oi(t,!0):t}function Ai(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Di(e,t,n){t instanceof zi?(e.h=t,function(e,t){t&&!e.j&&(qi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Hi(this,t),Wi(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Li(t,ji)),e.h=new zi(t,e.g))}function Ni(e,t,n){e.h.set(t,n)}function Ri(e){return Ni(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Oi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Li(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Mi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Mi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Li(t,Fi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Li(t,Fi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Li(n,"/"==n.charAt(0)?Ui:Vi,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Li(n,Bi)),e.join("")};var Fi=/[#\/\?@]/g,Vi=/[#\?:]/g,Ui=/[#\?]/g,ji=/[#\?@]/g,Bi=/#/g;function zi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qi(e){e.g||(e.g=new Si,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Hi(e,t){qi(e),t=Gi(e,t),ki(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ki((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ei(e)))}function Ki(e,t){return qi(e),t=Gi(e,t),ki(e.g.h,t)}function Wi(e,t,n){Hi(e,t),0<n.length&&(e.i=null,e.g.set(Gi(e,t),yn(n)),e.h+=n.length)}function Gi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Xt=zi.prototype).add=function(e,t){qi(this),this.i=null,e=Gi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Xt.forEach=function(e,t){qi(this),this.g.forEach((function(n,r){vn(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Xt.T=function(){qi(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Xt.R=function(e){qi(this);var t=[];if("string"===typeof e)Ki(this,e)&&(t=mn(t,this.g.get(Gi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=mn(t,e[n])}return t},Xt.set=function(e,t){return qi(this),this.i=null,Ki(this,e=Gi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Xt.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Xt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Qi=function(e,t){this.h=e,this.g=t};function $i(e){this.l=e||Xi,en.PerformanceNavigationTiming?e=0<(e=en.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(en.g&&en.g.Ea&&en.g.Ea()&&en.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Yi,Xi=10;function Ji(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Zi(e){return e.h?1:e.g?e.g.size:0}function eo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function to(e,t){e.g?e.g.add(t):e.h=t}function no(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ro(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Yt(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return yn(e.i)}function io(){}function oo(){this.g=new io}function ao(e,t,n){var r=n||"";try{_i(e,(function(e,n){var i=e;rn(e)&&(i=gr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Sm){throw t.push(r+"type="+encodeURIComponent("_badmap")),Sm}}function so(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function uo(e){this.l=e.$b||null,this.j=e.ib||!1}function co(e,t){vr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=lo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$i.prototype.cancel=function(){var e,t;if(this.i=ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Yt(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},io.prototype.stringify=function(e){return en.JSON.stringify(e,void 0)},io.prototype.parse=function(e){return en.JSON.parse(e,void 0)},fn(uo,Xr),uo.prototype.g=function(){return new co(this.l,this.j)},uo.prototype.i=(Yi={},function(){return Yi}),fn(co,vr);var lo=0;function fo(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ho(e){e.readyState=4,e.l=null,e.j=null,e.A=null,po(e)}function po(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Xt=co.prototype).open=function(e,t){if(this.readyState!=lo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,po(this)},Xt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||en).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Xt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ho(this)),this.readyState=lo},Xt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof en.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fo(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Xt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ho(this):po(this),3==this.readyState&&fo(this)}},Xt.Ua=function(e){this.g&&(this.response=this.responseText=e,ho(this))},Xt.Ta=function(e){this.g&&(this.response=e,ho(this))},Xt.ha=function(){this.g&&ho(this)},Xt.setRequestHeader=function(e,t){this.v.append(e,t)},Xt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Xt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(co.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var vo=en.JSON.parse;function mo(e){vr.call(this),this.headers=new Si,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yo,this.K=this.L=!1}fn(mo,vr);var yo="",go=/^https?$/i,bo=["POST","PUT"];function wo(e){return"content-type"==e.toLowerCase()}function _o(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,So(e),ko(e)}function So(e){e.D||(e.D=!0,mr(e,"complete"),mr(e,"error"))}function Eo(e){if(e.h&&"undefined"!=typeof Zt&&(!e.C[1]||4!=xo(e)||2!=e.ba()))if(e.v&&4==xo(e))Dr(e.Fa,0,e);else if(mr(e,"readystatechange"),4==xo(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Ti)[1]||null;if(!o&&en.self&&en.self.location){var a=en.self.location.protocol;o=a.substr(0,a.length-1)}i=!go.test(o?o.toLowerCase():"")}t=i}if(t)mr(e,"complete"),mr(e,"success");else{e.m=6;try{var s=2<xo(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",So(e)}}finally{ko(e)}}}function ko(e,t){if(e.g){To(e);var n=e.g,r=e.C[0]?tn:null;e.g=null,e.C=null,t||mr(e,"ready");try{n.onreadystatechange=r}catch(Sm){}}}function To(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(en.clearTimeout(e.A),e.A=null)}function xo(e){return e.g?e.g.readyState:0}function Io(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case yo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Co(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Tn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ni(e,t,n))}function Po(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ao(e){this.za=0,this.l=[],this.h=new Vr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Po("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Po("baseRetryDelayMs",5e3,e),this.$a=Po("retryDelaySeedMs",1e4,e),this.Ya=Po("forwardChannelMaxRetries",2,e),this.ra=Po("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new $i(e&&e.concurrentRequestLimit),this.Ca=new oo,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Do(e){if(Ro(e),3==e.G){var t=e.V++,n=Ii(e.F);Ni(n,"SID",e.J),Ni(n,"RID",t),Ni(n,"TYPE","terminate"),Fo(e,n),(t=new oi(e,e.h,t,void 0)).K=2,t.v=Ri(Ii(n)),n=!1,en.navigator&&en.navigator.sendBeacon&&(n=en.navigator.sendBeacon(t.v.toString(),"")),!n&&en.Image&&((new Image).src=t.v,n=!0),n||(t.g=$o(t.l,null),t.g.ea(t.v)),t.F=Date.now(),vi(t)}Go(e)}function No(e){e.g&&(Bo(e),e.g.cancel(),e.g=null)}function Ro(e){No(e),e.u&&(en.clearTimeout(e.u),e.u=null),qo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&en.clearTimeout(e.m),e.m=null)}function Oo(e,t){e.l.push(new Qi(e.Za++,t)),3==e.G&&Lo(e)}function Lo(e){Ji(e.i)||e.m||(e.m=!0,Tr(e.Ha,e),e.C=0)}function Mo(e,t){var n;n=t?t.m:e.V++;var r=Ii(e.F);Ni(r,"SID",e.J),Ni(r,"RID",n),Ni(r,"AID",e.U),Fo(e,r),e.o&&e.s&&Co(r,e.o,e.s),n=new oi(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Vo(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),to(e.i,n),li(n,r,t)}function Fo(e,t){e.j&&_i({},(function(e,n){Ni(t,n,e)}))}function Vo(e,t,n){n=Math.min(e.l.length,n);var r=e.j?cn(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{ao(l,a,"req"+c+"_")}catch(Aa){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Uo(e){e.g||e.u||(e.Y=1,Tr(e.Ga,e),e.A=0)}function jo(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Qr(cn(e.Ga,e),Ko(e,e.A)),e.A++,!0)}function Bo(e){null!=e.B&&(en.clearTimeout(e.B),e.B=null)}function zo(e){e.g=new oi(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ii(e.oa);Ni(t,"RID","rpc"),Ni(t,"SID",e.J),Ni(t,"CI",e.N?"0":"1"),Ni(t,"AID",e.U),Fo(e,t),Ni(t,"TYPE","xmlhttp"),e.o&&e.s&&Co(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ri(Ii(t)),n.s=null,n.U=!0,fi(n,e)}function qo(e){null!=e.v&&(en.clearTimeout(e.v),e.v=null)}function Ho(e,t){var n=null;if(e.g==t){qo(e),Bo(e),e.g=null;var r=2}else{if(!eo(e.i,t))return;n=t.D,no(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;mr(r=zr(),new Gr(r,n,t,i)),Lo(e)}else Uo(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Zi(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Qr(cn(e.Ha,e,t),Ko(e,e.C)),e.C++,!0))}(e,t)||2==r&&jo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Wo(e,5);break;case 4:Wo(e,10);break;case 3:Wo(e,6);break;default:Wo(e,2)}}function Ko(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Wo(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=cn(e.jb,e);n||(n=new xi("//www.google.com/images/cleardot.gif"),en.location&&"http"==en.location.protocol||Ci(n,"https"),Ri(n)),function(e,t){var n=new Vr;if(en.Image){var r=new Image;r.onload=ln(so,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ln(so,n,r,"TestLoadImage: error",!1,t),r.onabort=ln(so,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ln(so,n,r,"TestLoadImage: timeout",!1,t),en.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Wr(2);e.G=0,e.j&&e.j.va(t),Go(e),Ro(e)}function Go(e){e.G=0,e.I=-1,e.j&&(0==ro(e.i).length&&0==e.l.length||(e.i.i.length=0,yn(e.l),e.l.length=0),e.j.ua())}function Qo(e,t,n){var r=function(e){return e instanceof xi?Ii(e):new xi(e,void 0)}(n);if(""!=r.i)t&&Pi(r,t+"."+r.i),Ai(r,r.m);else{var i=en.location;r=function(e,t,n,r){var i=new xi(null,void 0);return e&&Ci(i,e),t&&Pi(i,t),n&&Ai(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Tn(e.aa,(function(e,t){Ni(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ni(r,t,n),Ni(r,"VER",e.ma),Fo(e,r),r}function $o(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new mo(new uo({ib:!0})):new mo(e.qa)).L=e.H,t}function Yo(){}function Xo(){if(Nn&&!(10<=Number(Kn)))throw Error("Environmental error: no available transport.")}function Jo(e,t){vr.call(this),this.g=new Ao(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!gn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!gn(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ta(this)}function Zo(e){ni.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ea(){ri.call(this),this.status=1}function ta(e){this.g=e}(Xt=mo.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ei.g(),this.C=this.u?Jr(this.u):Jr(ei),this.g.onreadystatechange=cn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void _o(this,o)}e=n||"";var i=new Si(this.headers);r&&_i(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=wo,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=en.FormData&&e instanceof en.FormData,!(0<=pn(bo,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{To(this),0<this.B&&((this.K=function(e){return Nn&&qn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.pa,this)):this.A=Dr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){_o(this,o)}},Xt.pa=function(){"undefined"!=typeof Zt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mr(this,"timeout"),this.abort(8))},Xt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,mr(this,"complete"),mr(this,"abort"),ko(this))},Xt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ko(this,!0)),mo.Z.M.call(this)},Xt.Fa=function(){this.s||(this.F||this.v||this.l?Eo(this):this.cb())},Xt.cb=function(){Eo(this)},Xt.ba=function(){try{return 2<xo(this)?this.g.status:-1}catch(Yi){return-1}},Xt.ga=function(){try{return this.g?this.g.responseText:""}catch(Yi){return""}},Xt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),vo(t)}},Xt.Da=function(){return this.m},Xt.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Xt=Ao.prototype).ma=8,Xt.G=1,Xt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Xt.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new oi(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Cn(n=xn(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Vo(this,t,r),Ni(i=Ii(this.F),"RID",e),Ni(i,"CVER",22),this.D&&Ni(i,"X-HTTP-Session-Id",this.D),Fo(this,i),this.o&&n&&Co(i,this.o,n),to(this.i,t),this.Ra&&Ni(i,"TYPE","init"),this.ja?(Ni(i,"$req",r),Ni(i,"SID","null"),t.$=!0,li(t,i,null)):li(t,i,r),this.G=2}}else 3==this.G&&(e?Mo(this,e):0==this.l.length||Ji(this.i)||Mo(this))},Xt.Ga=function(){if(this.u=null,zo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Qr(cn(this.bb,this),e)}},Xt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Wr(10),No(this),zo(this))},Xt.ab=function(){null!=this.v&&(this.v=null,No(this),jo(this),Wr(19))},Xt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Wr(2)):(this.h.info("Failed to ping google.com"),Wr(1))},(Xt=Yo.prototype).xa=function(){},Xt.wa=function(){},Xt.va=function(){},Xt.ua=function(){},Xt.Oa=function(){},Xo.prototype.g=function(e,t){return new Jo(e,t)},fn(Jo,vr),Jo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Tr(cn(e.hb,e,t))),Wr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Qo(e,null,e.W),Lo(e)},Jo.prototype.close=function(){Do(this.g)},Jo.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Oo(this.g,t)}else this.v?((t={}).__data__=gr(e),Oo(this.g,t)):Oo(this.g,e)},Jo.prototype.M=function(){this.g.j=null,delete this.j,Do(this.g),delete this.g,Jo.Z.M.call(this)},fn(Zo,ni),fn(ea,ri),fn(ta,Yo),ta.prototype.xa=function(){mr(this.g,"a")},ta.prototype.wa=function(e){mr(this.g,new Zo(e))},ta.prototype.va=function(e){mr(this.g,new ea(e))},ta.prototype.ua=function(){mr(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,Jo.prototype.send=Jo.prototype.u,Jo.prototype.open=Jo.prototype.m,Jo.prototype.close=Jo.prototype.close,$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,Yr.COMPLETE="complete",Zr.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",vr.prototype.listen=vr.prototype.N,mo.prototype.listenOnce=mo.prototype.O,mo.prototype.getLastError=mo.prototype.La,mo.prototype.getLastErrorCode=mo.prototype.Da,mo.prototype.getStatus=mo.prototype.ba,mo.prototype.getResponseJson=mo.prototype.Qa,mo.prototype.getResponseText=mo.prototype.ga,mo.prototype.send=mo.prototype.ea;var na=function(){return new Xo},ra=function(){return zr()},ia=$r,oa=Yr,aa=jr,sa={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ua=uo,ca=Zr,la=mo,fa=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();fa.o=-1;var ha={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},da=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return d(t,e),t}(Error),pa=new Y("@firebase/firestore");function va(){return pa.logLevel}function ma(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pa.logLevel<=q.DEBUG){var r=t.map(ba);pa.debug.apply(pa,b(["Firestore (8.10.1): "+e],r))}}function ya(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pa.logLevel<=q.ERROR){var r=t.map(ba);pa.error.apply(pa,b(["Firestore (8.10.1): "+e],r))}}function ga(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pa.logLevel<=q.WARN){var r=t.map(ba);pa.warn.apply(pa,b(["Firestore (8.10.1): "+e],r))}}function ba(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function wa(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw ya(t),new Error(t)}function _a(e,t){e||wa()}function Sa(e,t){return e}function Ea(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ka=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Ea(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function Ta(e,t){return e<t?-1:e>t?1:0}function xa(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ia(e){return e+"\0"}var Ca=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new da(ha.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new da(ha.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new da(ha.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new da(ha.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Ta(this.nanoseconds,e.nanoseconds):Ta(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Pa=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Ca(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Aa(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Da(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Na(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ra=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&wa(),void 0===n?n=e.length-t:n>e.length-t&&wa(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new da(ha.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Ra),La=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ma=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return La.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new da(ha.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new da(ha.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new da(ha.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new da(ha.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Ra),Fa=function(){function e(e){this.fields=e,e.sort(Ma.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return xa(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Va=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Ta(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Va.EMPTY_BYTE_STRING=new Va("");var Ua=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(e){if(_a(!!e),"string"==typeof e){var t=0,n=Ua.exec(e);if(_a(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ba(e.seconds),nanos:Ba(e.nanos)}}function Ba(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function za(e){return"string"==typeof e?Va.fromBase64String(e):Va.fromUint8Array(e)}function qa(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ha(e){var t=e.mapValue.fields.__previous_value__;return qa(t)?Ha(t):t}function Ka(e){var t=ja(e.mapValue.fields.__local_write_time__.timestampValue);return new Ca(t.seconds,t.nanos)}function Wa(e){return null==e}function Ga(e){return 0===e&&1/e==-1/0}function Qa(e){return"number"==typeof e&&Number.isInteger(e)&&!Ga(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var $a=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Oa.fromString(t))},e.fromName=function(t){return new e(Oa.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Oa.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Oa.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Oa(t.slice()))},e}();function Ya(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qa(e)?4:10:wa()}function Xa(e,t){var n=Ya(e);if(n!==Ya(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ka(e).isEqual(Ka(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ja(e.timestampValue),r=ja(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return za(e.bytesValue).isEqual(za(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ba(e.geoPointValue.latitude)===Ba(t.geoPointValue.latitude)&&Ba(e.geoPointValue.longitude)===Ba(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ba(e.integerValue)===Ba(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ba(e.doubleValue),r=Ba(t.doubleValue);return n===r?Ga(n)===Ga(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xa(e.arrayValue.values||[],t.arrayValue.values||[],Xa);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Aa(n)!==Aa(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xa(n[i],r[i])))return!1;return!0}(e,t);default:return wa()}}function Ja(e,t){return void 0!==(e.values||[]).find((function(e){return Xa(e,t)}))}function Za(e,t){var n=Ya(e),r=Ya(t);if(n!==r)return Ta(n,r);switch(n){case 0:return 0;case 1:return Ta(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ba(e.integerValue||e.doubleValue),r=Ba(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return es(e.timestampValue,t.timestampValue);case 4:return es(Ka(e),Ka(t));case 5:return Ta(e.stringValue,t.stringValue);case 6:return function(e,t){var n=za(e),r=za(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ta(n[i],r[i]);if(0!==o)return o}return Ta(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ta(Ba(e.latitude),Ba(t.latitude));return 0!==n?n:Ta(Ba(e.longitude),Ba(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Za(n[i],r[i]);if(o)return o}return Ta(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Ta(r[a],o[a]);if(0!==s)return s;var u=Za(n[r[a]],i[o[a]]);if(0!==u)return u}return Ta(r.length,o.length)}(e.mapValue,t.mapValue);default:throw wa()}}function es(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ta(e,t);var n=ja(e),r=ja(t),i=Ta(n.seconds,r.seconds);return 0!==i?i:Ta(n.nanos,r.nanos)}function ts(e){return ns(e)}function ns(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ja(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?za(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,$a.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=ns(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+ns(e.fields[o])}return t+"}"}(e.mapValue):wa();var t,n}function rs(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function is(e){return!!e&&"integerValue"in e}function os(e){return!!e&&"arrayValue"in e}function as(e){return!!e&&"nullValue"in e}function ss(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function us(e){return!!e&&"mapValue"in e}function cs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Da(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=cs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=cs(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ls=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!us(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cs(t)},e.prototype.setAll=function(e){var t=this,n=Ma.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=cs(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());us(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Xa(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];us(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Da(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(cs(this.value))},e}();function fs(e){var t=[];return Da(e.fields,(function(e,n){var r=new Ma([e]);if(us(n)){var i=fs(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Fa(t)}var hs=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Pa.min(),ls.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ls.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ls.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ls.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ls.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ds=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function ps(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ds(e,t,n,r,i,o,a)}function vs(e){var t=Sa(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ts(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Wa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Cs(t.startAt)),t.endAt&&(n+="|ub:",n+=Cs(t.endAt)),t.h=n}return t.h}function ms(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!As(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Xa(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ns(e.startAt,t.startAt)&&Ns(e.endAt,t.endAt)}function ys(e){return $a.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var gs=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return d(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new bs(e,n,r):"array-contains"===n?new Es(e,r):"in"===n?new ks(e,r):"not-in"===n?new Ts(e,r):"array-contains-any"===n?new xs(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new ws(e,n):new _s(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Za(t,this.value)):null!==t&&Ya(this.value)===Ya(t)&&this.m(Za(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wa()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),bs=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=$a.fromName(r.referenceValue),i}return d(t,e),t.prototype.matches=function(e){var t=$a.comparator(e.key,this.key);return this.m(t)},t}(gs),ws=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Ss("in",n),r}return d(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(gs),_s=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Ss("not-in",n),r}return d(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(gs);function Ss(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return $a.fromName(e.referenceValue)}))}var Es=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return d(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return os(t)&&Ja(t.arrayValue,this.value)},t}(gs),ks=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return d(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Ja(this.value.arrayValue,t)},t}(gs),Ts=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return d(t,e),t.prototype.matches=function(e){if(Ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ja(this.value.arrayValue,t)},t}(gs),xs=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return d(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!os(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ja(t.value.arrayValue,e)}))},t}(gs),Is=function(e,t){this.position=e,this.before=t};function Cs(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ts(e)})).join(",")}var Ps=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function As(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ds(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?$a.comparator($a.fromName(a.referenceValue),n.key):Za(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ns(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xa(e.position[n],t.position[n]))return!1;return!0}var Rs=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Os(e,t,n,r,i,o,a,s){return new Rs(e,t,n,r,i,o,a,s)}function Ls(e){return new Rs(e)}function Ms(e){return!Wa(e.limit)&&"F"===e.limitType}function Fs(e){return!Wa(e.limit)&&"L"===e.limitType}function Vs(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Us(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function js(e){return null!==e.collectionGroup}function Bs(e){var t=Sa(e);if(null===t.p){t.p=[];var n=Us(t),r=Vs(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Ps(n)),t.p.push(new Ps(Ma.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ps(Ma.keyField(),u))}}}return t.p}function zs(e){var t=Sa(e);if(!t.T)if("F"===t.limitType)t.T=ps(t.path,t.collectionGroup,Bs(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Bs(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ps(o.field,a))}var s=t.endAt?new Is(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Is(t.startAt.position,!t.startAt.before):null;t.T=ps(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function qs(e,t,n){return new Rs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hs(e,t){return ms(zs(e),zs(t))&&e.limitType===t.limitType}function Ks(e){return vs(zs(e))+"|lt:"+e.limitType}function Ws(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ts(t.value);var t})).join(", ")+"]"),Wa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Cs(e.startAt)),e.endAt&&(t+=", endAt: "+Cs(e.endAt)),"Target("+t+")"}(zs(e))+"; limitType="+e.limitType+")"}function Gs(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$a.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ds(e.startAt,Bs(e),t))&&(!e.endAt||!Ds(e.endAt,Bs(e),t))}(e,t)}function Qs(e){return function(t,n){for(var r=!1,i=0,o=Bs(e);i<o.length;i++){var a=o[i],s=$s(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function $s(e,t,n){var r=e.field.isKeyField()?$a.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Za(r,i):wa()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wa()}}function Ys(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ga(t)?"-0":t}}function Xs(e){return{integerValue:""+e}}function Js(e,t){return Qa(t)?Xs(t):Ys(e,t)}var Zs=function(){this._=void 0};function eu(e,t,n){return e instanceof ru?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof iu?ou(e,t):e instanceof au?su(e,t):function(e,t){var n=nu(e,t),r=cu(n)+cu(e.A);return is(n)&&is(e.A)?Xs(r):Ys(e.R,r)}(e,t)}function tu(e,t,n){return e instanceof iu?ou(e,t):e instanceof au?su(e,t):n}function nu(e,t){return e instanceof uu?is(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ru=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t}(Zs),iu=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return d(t,e),t}(Zs);function ou(e,t){for(var n=lu(t),r=function(e){n.some((function(t){return Xa(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var au=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return d(t,e),t}(Zs);function su(e,t){for(var n=lu(t),r=function(e){n=n.filter((function(t){return!Xa(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var uu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return d(t,e),t}(Zs);function cu(e){return Ba(e.integerValue||e.doubleValue)}function lu(e){return os(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var fu=function(e,t){this.field=e,this.transform=t},hu=function(e,t){this.version=e,this.transformResults=t},du=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function pu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var vu=function(){};function mu(e,t,n){e instanceof _u?function(e,t,n){var r=e.value.clone(),i=ku(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Su?function(e,t,n){if(pu(e.precondition,t)){var r=ku(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Eu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yu(e,t,n){e instanceof _u?function(e,t,n){if(pu(e.precondition,t)){var r=e.value.clone(),i=Tu(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(wu(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Su?function(e,t,n){if(pu(e.precondition,t)){var r=Tu(e.fieldTransforms,n,t),i=t.data;i.setAll(Eu(e)),i.setAll(r),t.convertToFoundDocument(wu(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){pu(e.precondition,t)&&t.convertToNoDocument(Pa.min())}(e,t)}function gu(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=nu(o.transform,a||null);null!=s&&(null==n&&(n=ls.empty()),n.set(o.field,s))}return n||null}function bu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xa(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof iu&&t instanceof iu||e instanceof au&&t instanceof au?xa(e.elements,t.elements,Xa):e instanceof uu&&t instanceof uu?Xa(e.A,t.A):e instanceof ru&&t instanceof ru}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function wu(e){return e.isFoundDocument()?e.version:Pa.min()}var _u=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return d(t,e),t}(vu),Su=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return d(t,e),t}(vu);function Eu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ku(e,t,n){var r=new Map;_a(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,tu(a,s,n[i]))}return r}function Tu(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,eu(s,u,t))}return r}var xu,Iu,Cu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return d(t,e),t}(vu),Pu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return d(t,e),t}(vu),Au=function(e){this.count=e};function Du(e){switch(e){case ha.OK:return wa();case ha.CANCELLED:case ha.UNKNOWN:case ha.DEADLINE_EXCEEDED:case ha.RESOURCE_EXHAUSTED:case ha.INTERNAL:case ha.UNAVAILABLE:case ha.UNAUTHENTICATED:return!1;case ha.INVALID_ARGUMENT:case ha.NOT_FOUND:case ha.ALREADY_EXISTS:case ha.PERMISSION_DENIED:case ha.FAILED_PRECONDITION:case ha.ABORTED:case ha.OUT_OF_RANGE:case ha.UNIMPLEMENTED:case ha.DATA_LOSS:return!0;default:return wa()}}function Nu(e){if(void 0===e)return ya("GRPC error has no .code"),ha.UNKNOWN;switch(e){case xu.OK:return ha.OK;case xu.CANCELLED:return ha.CANCELLED;case xu.UNKNOWN:return ha.UNKNOWN;case xu.DEADLINE_EXCEEDED:return ha.DEADLINE_EXCEEDED;case xu.RESOURCE_EXHAUSTED:return ha.RESOURCE_EXHAUSTED;case xu.INTERNAL:return ha.INTERNAL;case xu.UNAVAILABLE:return ha.UNAVAILABLE;case xu.UNAUTHENTICATED:return ha.UNAUTHENTICATED;case xu.INVALID_ARGUMENT:return ha.INVALID_ARGUMENT;case xu.NOT_FOUND:return ha.NOT_FOUND;case xu.ALREADY_EXISTS:return ha.ALREADY_EXISTS;case xu.PERMISSION_DENIED:return ha.PERMISSION_DENIED;case xu.FAILED_PRECONDITION:return ha.FAILED_PRECONDITION;case xu.ABORTED:return ha.ABORTED;case xu.OUT_OF_RANGE:return ha.OUT_OF_RANGE;case xu.UNIMPLEMENTED:return ha.UNIMPLEMENTED;case xu.DATA_LOSS:return ha.DATA_LOSS;default:return wa()}}(Iu=xu||(xu={}))[Iu.OK=0]="OK",Iu[Iu.CANCELLED=1]="CANCELLED",Iu[Iu.UNKNOWN=2]="UNKNOWN",Iu[Iu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Iu[Iu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Iu[Iu.NOT_FOUND=5]="NOT_FOUND",Iu[Iu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Iu[Iu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Iu[Iu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Iu[Iu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Iu[Iu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Iu[Iu.ABORTED=10]="ABORTED",Iu[Iu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Iu[Iu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Iu[Iu.INTERNAL=13]="INTERNAL",Iu[Iu.UNAVAILABLE=14]="UNAVAILABLE",Iu[Iu.DATA_LOSS=15]="DATA_LOSS";var Ru=function(){function e(e,t){this.comparator=e,this.root=t||Lu.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Lu.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Lu.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ou(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ou(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ou(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ou(this.root,e,this.comparator,!0)},e}(),Ou=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Lu=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw wa();if(this.right.isRed())throw wa();var e=this.left.check();if(e!==this.right.check())throw wa();return e+(this.isRed()?0:1)},e}();Lu.EMPTY=null,Lu.RED=!0,Lu.BLACK=!1,Lu.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw wa()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw wa()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw wa()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw wa()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw wa()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Lu(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Mu=function(){function e(e){this.comparator=e,this.data=new Ru(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Fu(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Fu(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Fu=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Vu=new Ru($a.comparator);function Uu(){return Vu}var ju=new Ru($a.comparator);function Bu(){return ju}var zu=new Ru($a.comparator);function qu(){return zu}var Hu=new Mu($a.comparator);function Ku(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Hu,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Wu=new Mu(Ta);function Gu(){return Wu}var Qu=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,$u.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Pa.min(),r,Gu(),Uu(),Ku())},e}(),$u=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Va.EMPTY_BYTE_STRING,n,Ku(),Ku(),Ku())},e}(),Yu=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Xu=function(e,t){this.targetId=e,this.V=t},Ju=function(e,t,n,r){void 0===n&&(n=Va.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Zu=function(){function e(){this.S=0,this.D=nc(),this.C=Va.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=Ku(),t=Ku(),n=Ku();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wa()}})),new $u(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=nc()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ec=function(){function e(e){this.W=e,this.G=new Map,this.H=Uu(),this.J=tc(),this.Y=new Mu(Ta)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:wa()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(ys(i))if(0===n){var o=new $a(i.path);this.tt(t,o,hs.newNoDocument(o,Pa.min()))}else _a(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&ys(o.target)){var a=new $a(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,hs.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Ku();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Qu(e,n,this.Y,this.H,r);return this.H=Uu(),this.J=tc(),this.Y=new Mu(Ta),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Zu,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Mu(Ta),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||ma("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Zu),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function tc(){return new Ru($a.comparator)}function nc(){return new Ru($a.comparator)}var rc={asc:"ASCENDING",desc:"DESCENDING"},ic={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oc=function(e,t){this.databaseId=e,this.I=t};function ac(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function sc(e,t){return e.I?t.toBase64():t.toUint8Array()}function uc(e,t){return ac(e,t.toTimestamp())}function cc(e){return _a(!!e),Pa.fromTimestamp(function(e){var t=ja(e);return new Ca(t.seconds,t.nanos)}(e))}function lc(e,t){return function(e){return new Oa(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function fc(e){var t=Oa.fromString(e);return _a(Lc(t)),t}function hc(e,t){return lc(e.databaseId,t.path)}function dc(e,t){var n=fc(t);if(n.get(1)!==e.databaseId.projectId)throw new da(ha.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new da(ha.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $a(yc(n))}function pc(e,t){return lc(e.databaseId,t)}function vc(e){var t=fc(e);return 4===t.length?Oa.emptyPath():yc(t)}function mc(e){return new Oa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yc(e){return _a(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gc(e,t,n){return{name:hc(e,t),fields:n.value.mapValue.fields}}function bc(e,t,n){var r=dc(e,t.name),i=cc(t.updateTime),o=new ls({mapValue:{fields:t.fields}}),a=hs.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function wc(e,t){var n;if(t instanceof _u)n={update:gc(e,t.key,t.value)};else if(t instanceof Cu)n={delete:hc(e,t.key)};else if(t instanceof Su)n={update:gc(e,t.key,t.data),updateMask:Oc(t.fieldMask)};else{if(!(t instanceof Pu))return wa();n={verify:hc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ru)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof iu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof au)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uu)return{fieldPath:t.field.canonicalString(),increment:n.A};throw wa()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:uc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wa()}(e,t.precondition)),n}function _c(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?du.updateTime(cc(e.updateTime)):void 0!==e.exists?du.exists(e.exists):du.none()}(t.currentDocument):du.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)_a("REQUEST_TIME"===t.setToServerValue),n=new ru;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new iu(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new au(i)}else"increment"in t?n=new uu(e,t.increment):wa();var o=Ma.fromServerFormat(t.fieldPath);return new fu(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=dc(e,t.update.name),o=new ls({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Fa(t.map((function(e){return Ma.fromServerFormat(e)})))}(t.updateMask);return new Su(i,o,a,n,r)}return new _u(i,o,n,r)}if(t.delete){var s=dc(e,t.delete);return new Cu(s,n)}if(t.verify){var u=dc(e,t.verify);return new Pu(u,n)}return wa()}function Sc(e,t){return{documents:[pc(e,t.path)]}}function Ec(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=pc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=pc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ss(e.value))return{unaryFilter:{field:Ac(e.field),op:"IS_NAN"}};if(as(e.value))return{unaryFilter:{field:Ac(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ss(e.value))return{unaryFilter:{field:Ac(e.field),op:"IS_NOT_NAN"}};if(as(e.value))return{unaryFilter:{field:Ac(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ac(e.field),op:Pc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ac(e.field),direction:Cc(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Wa(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=xc(t.startAt)),t.endAt&&(n.structuredQuery.endAt=xc(t.endAt)),n}function kc(e){var t=vc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_a(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Tc(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ps(Dc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Wa(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Ic(n.startAt));var l=null;return n.endAt&&(l=Ic(n.endAt)),Os(t,i,s,a,u,"F",c,l)}function Tc(e){return e?void 0!==e.unaryFilter?[Rc(e)]:void 0!==e.fieldFilter?[Nc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Tc(e)})).reduce((function(e,t){return e.concat(t)})):wa():[]}function xc(e){return{before:e.before,values:e.position}}function Ic(e){var t=!!e.before,n=e.values||[];return new Is(n,t)}function Cc(e){return rc[e]}function Pc(e){return ic[e]}function Ac(e){return{fieldPath:e.canonicalString()}}function Dc(e){return Ma.fromServerFormat(e.fieldPath)}function Nc(e){return gs.create(Dc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wa()}}(e.fieldFilter.op),e.fieldFilter.value)}function Rc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Dc(e.unaryFilter.field);return gs.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Dc(e.unaryFilter.field);return gs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Dc(e.unaryFilter.field);return gs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Dc(e.unaryFilter.field);return gs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wa()}}function Oc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Lc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Mc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Vc(t)),t=Fc(e.get(n),t);return Vc(t)}function Fc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Vc(e){return e+"\x01\x01"}function Uc(e){var t=e.length;if(_a(t>=2),2===t)return _a("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Oa.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&wa(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:wa()}o=a+2}return new Oa(r)}var jc=function(e,t){this.seconds=e,this.nanoseconds=t},Bc=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Bc.store="owner",Bc.key="owner";var zc=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};zc.store="mutationQueues",zc.keyPath="userId";var qc=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};qc.store="mutations",qc.keyPath="batchId",qc.userMutationsIndex="userMutationsIndex",qc.userMutationsKeyPath=["userId","batchId"];var Hc=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Mc(t)]},e.key=function(e,t,n){return[e,Mc(t),n]},e}();Hc.store="documentMutations",Hc.PLACEHOLDER=new Hc;var Kc=function(e,t){this.path=e,this.readTime=t},Wc=function(e,t){this.path=e,this.version=t},Gc=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Gc.store="remoteDocuments",Gc.readTimeIndex="readTimeIndex",Gc.readTimeIndexPath="readTime",Gc.collectionReadTimeIndex="collectionReadTimeIndex",Gc.collectionReadTimeIndexPath=["parentPath","readTime"];var Qc=function(e){this.byteSize=e};Qc.store="remoteDocumentGlobal",Qc.key="remoteDocumentGlobalKey";var $c=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};$c.store="targets",$c.keyPath="targetId",$c.queryTargetsIndexName="queryTargetsIndex",$c.queryTargetsKeyPath=["canonicalId","targetId"];var Yc=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Yc.store="targetDocuments",Yc.keyPath=["targetId","path"],Yc.documentTargetsIndex="documentTargetsIndex",Yc.documentTargetsKeyPath=["path","targetId"];var Xc=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Xc.key="targetGlobalKey",Xc.store="targetGlobal";var Jc=function(e,t){this.collectionId=e,this.parent=t};Jc.store="collectionParents",Jc.keyPath=["collectionId","parent"];var Zc=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Zc.store="clientMetadata",Zc.keyPath="clientId";var el=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};el.store="bundles",el.keyPath="bundleId";var tl=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};tl.store="namedQueries",tl.keyPath="name";var nl=b(b([],b(b([],b(b([],b(b([],[zc.store,qc.store,Hc.store,Gc.store,$c.store,Bc.store,Xc.store,Yc.store]),[Zc.store])),[Qc.store])),[Jc.store])),[el.store,tl.store]),rl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",il=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),ol=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},al=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&wa(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),sl=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new ol,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new ll(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=vl(t.target.error);n.ft.reject(new ll(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ll(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(ma("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new hl(t)},e}(),ul=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(I())&&ya("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return ma("SimpleDb","Removing database:",e),dl(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=I(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Przemek8686/ilonagallery",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return v(this,void 0,void 0,(function(){var t,n=this;return m(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ma("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new ll(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new da(ha.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ll(e,n))},i.onupgradeneeded=function(e){ma("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){ma("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return v(this,void 0,void 0,(function(){var i,o,a,s,u;return m(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return m(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=sl.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),al.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,ma("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),cl=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return dl(this.Pt.delete())},e}(),ll=function(e){function t(t,n){var r=this;return(r=e.call(this,ha.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return d(t,e),t}(da);function fl(e){return"IndexedDbTransactionError"===e.name}var hl=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(ma("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ma("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),dl(n)},e.prototype.add=function(e){return ma("SimpleDb","ADD",this.store.name,e,e),dl(this.store.add(e))},e.prototype.get=function(e){var t=this;return dl(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ma("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return ma("SimpleDb","DELETE",this.store.name,e),dl(this.store.delete(e))},e.prototype.count=function(){return ma("SimpleDb","COUNT",this.store.name),dl(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){ma("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new al((function(n,r){t.onerror=function(e){var t=vl(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new al((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new cl(i),a=t(i.primaryKey,i.value,o);if(a instanceof al){var s=a.catch((function(e){return o.done(),al.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return al.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function dl(e){return new al((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=vl(e.target.error);n(t)}}))}var pl=!1;function vl(e){var t=ul._t(I());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new da("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return pl||(pl=!0,setTimeout((function(){throw r}),0)),r}}return e}var ml=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return d(t,e),t}(il);function yl(e,t){var n=Sa(e);return ul.It(n.Mt,t)}var gl=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&mu(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&yu(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&yu(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Pa.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ku())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&xa(this.mutations,e.mutations,(function(e,t){return bu(e,t)}))&&xa(this.baseMutations,e.baseMutations,(function(e,t){return bu(e,t)}))},e}(),bl=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){_a(t.mutations.length===r.length);for(var i=qu(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),wl=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Pa.min()),void 0===o&&(o=Pa.min()),void 0===a&&(a=Va.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),_l=function(e){this.Lt=e};function Sl(e,t){if(t.document)return bc(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=$a.fromSegments(t.noDocument.path),r=Il(t.noDocument.readTime),i=hs.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=$a.fromSegments(t.unknownDocument.path);return r=Il(t.unknownDocument.version),hs.newUnknownDocument(o,r)}return wa()}function El(e,t,n){var r=kl(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:hc(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ac(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Gc(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=xl(t.version);return a=t.hasCommittedMutations,new Gc(null,new Kc(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=xl(t.version);return new Gc(new Wc(c,l),null,null,!0,r,i)}return wa()}function kl(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Tl(e){var t=new Ca(e[0],e[1]);return Pa.fromTimestamp(t)}function xl(e){var t=e.toTimestamp();return new jc(t.seconds,t.nanoseconds)}function Il(e){var t=new Ca(e.seconds,e.nanoseconds);return Pa.fromTimestamp(t)}function Cl(e,t){for(var n=(t.baseMutations||[]).map((function(t){return _c(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return _c(e.Lt,t)})),s=Ca.fromMillis(t.localWriteTimeMs);return new gl(t.batchId,s,n,a)}function Pl(e){var t,n,r=Il(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Il(e.lastLimboFreeSnapshotVersion):Pa.min();return void 0!==e.query.documents?(_a(1===(n=e.query).documents.length),t=zs(Ls(vc(n.documents[0])))):t=function(e){return zs(kc(e))}(e.query),new wl(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Va.fromBase64String(e.resumeToken))}function Al(e,t){var n,r=xl(t.snapshotVersion),i=xl(t.lastLimboFreeSnapshotVersion);n=ys(t.target)?Sc(e.Lt,t.target):Ec(e.Lt,t.target);var o=t.resumeToken.toBase64();return new $c(t.targetId,vs(t.target),r,o,t.sequenceNumber,i,n)}function Dl(e){var t=kc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qs(t,t.limit,"L"):t}var Nl=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Rl(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Il(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Rl(e).put({bundleId:(n=t).id,createTime:xl(cc(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Ol(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Dl(t.bundledQuery),readTime:Il(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Ol(e).put(function(e){return{name:e.name,readTime:xl(cc(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Rl(e){return yl(e,el.store)}function Ol(e){return yl(e,tl.store)}var Ll=function(){function e(){this.Bt=new Ml}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),al.resolve()},e.prototype.getCollectionParents=function(e,t){return al.resolve(this.Bt.getEntries(t))},e}(),Ml=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mu(Oa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Mu(Oa.comparator)).toArray()},e}(),Fl=function(){function e(){this.qt=new Ml}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Mc(i)};return Vl(e).put(o)}return al.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ia(t),""],!1,!0);return Vl(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Uc(o.parent))}return n}))},e}();function Vl(e){return yl(e,Jc.store)}var Ul={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jl=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Bl(e,t,n){var r=e.store(qc.store),i=e.store(Hc.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){_a(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Hc.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return al.waitFor(o).next((function(){return c}))}function zl(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw wa();t=e.noDocument}return JSON.stringify(t).length}jl.DEFAULT_COLLECTION_PERCENTILE=10,jl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jl.DEFAULT=new jl(41943040,jl.DEFAULT_COLLECTION_PERCENTILE,jl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jl.DISABLED=new jl(-1,0,0);var ql=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return _a(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kl(e).$t({index:qc.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Wl(e),a=Kl(e);return a.add({}).next((function(s){_a("number"==typeof s);for(var u=new gl(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return wc(e.Lt,t)})),i=n.mutations.map((function(t){return wc(e.Lt,t)}));return new qc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new Mu((function(e,t){return Ta(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=Hc.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Hc.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),al.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Kl(e).get(t).next((function(e){return e?(_a(e.userId===n.userId),Cl(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?al.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Kl(e).$t({index:qc.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(_a(t.batchId>=r),o=Cl(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Kl(e).$t({index:qc.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kl(e).Nt(qc.userMutationsIndex,n).next((function(e){return e.map((function(e){return Cl(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Hc.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Wl(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Uc(u);if(s===n.userId&&t.path.isEqual(l))return Kl(e).get(c).next((function(e){if(!e)throw wa();_a(e.userId===n.userId),o.push(Cl(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Mu(Ta),i=[];return t.forEach((function(t){var o=Hc.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Wl(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Uc(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),al.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Hc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Mu(Ta);return Wl(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Uc(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Kl(e).get(t).next((function(e){if(null===e)throw wa();_a(e.userId===n.userId),r.push(Cl(n.R,e))})))})),al.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Bl(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),al.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return al.resolve();var r=IDBKeyRange.lowerBound(Hc.prefixForUser(t.userId)),i=[];return Wl(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Uc(e[1]);i.push(o)}else r.done()})).next((function(){_a(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Hl(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Gl(e).get(this.userId).next((function(e){return e||new zc(t.userId,-1,"")}))},e}();function Hl(e,t,n){var r=Hc.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Wl(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Kl(e){return yl(e,qc.store)}function Wl(e){return yl(e,Hc.store)}function Gl(e){return yl(e,zc.store)}var Ql=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),$l=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Ql(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Pa.fromTimestamp(new Ca(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Yl(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return _a(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Yl(e).$t((function(a,s){var u=Pl(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return al.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Yl(e).$t((function(e,n){var r=Pl(n);t(r)}))},e.prototype.Xt=function(e){return Xl(e).get(Xc.key).next((function(e){return _a(null!==e),e}))},e.prototype.Zt=function(e,t){return Xl(e).put(Xc.key,t)},e.prototype.te=function(e,t){return Yl(e).put(Al(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=vs(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Yl(e).$t({range:r,index:$c.queryTargetsIndexName},(function(e,n,r){var o=Pl(n);ms(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Jl(e);return t.forEach((function(t){var a=Mc(t.path);i.push(o.put(new Yc(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),al.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Jl(e);return al.forEach(t,(function(t){var o=Mc(t.path);return al.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Jl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Jl(e),i=Ku();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=Uc(e[1]),o=new $a(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Mc(t.path),r=IDBKeyRange.bound([n],[Ia(n)],!1,!0),i=0;return Jl(e).$t({index:Yc.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Yl(e).get(t).next((function(e){return e?Pl(e):null}))},e}();function Yl(e){return yl(e,$c.store)}function Xl(e){return yl(e,Xc.store)}function Jl(e){return yl(e,Yc.store)}function Zl(e){return v(this,void 0,void 0,(function(){return m(this,(function(t){if(e.code!==ha.FAILED_PRECONDITION||e.message!==rl)throw e;return ma("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function ef(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Ta(n,i);return 0===a?Ta(r,o):a}var tf=function(){function e(e){this.ne=e,this.buffer=new Mu(ef),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ef(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),nf=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;ma("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return v(t,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return fl(t=n.sent())?(ma("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Zl(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),rf=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return al.resolve(fa.o);var r=new tf(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ma("LruGarbageCollector","Garbage collection skipped; disabled"),al.resolve(Ul)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ma("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ul):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ma("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),va()<=q.DEBUG&&ma("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),al.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),of=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new rf(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return af(e,n)},e.prototype.removeReference=function(e,t,n){return af(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return af(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Gl(e).Ot((function(r){return Hl(e,r,t).next((function(e){return e&&(n=!0),al.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Jl(e).delete([0,Mc(a.path)])}))}));i.push(u)}})).next((function(){return al.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return af(e,t)},e.prototype.we=function(e,t){var n,r=Jl(e),i=fa.o;return r.$t({index:Yc.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==fa.o&&t(new $a(Uc(n)),i),i=s,n=a):i=fa.o})).next((function(){i!==fa.o&&t(new $a(Uc(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function af(e,t){return Jl(e).put(function(e,t){return new Yc(0,Mc(e.path),t)}(t,e.currentSequenceNumber))}var sf=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Da(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Na(this.inner)},e}(),uf=function(){function e(){this.changes=new sf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Pa.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:hs.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?al.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),cf=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return hf(e).put(df(t),n)},e.prototype.removeEntry=function(e,t){var n=hf(e),r=df(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return hf(e).get(df(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return hf(e).get(df(t)).next((function(e){return{document:n.ye(t,e),size:zl(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Uu();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Uu(),i=new Ru($a.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,zl(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return al.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return hf(e).$t({range:r},(function(e,t,r){for(var a=$a.fromSegments(e);o&&$a.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Uu(),o=t.path.length+1,a={};if(n.isEqual(Pa.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=kl(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Gc.collectionReadTimeIndex}return hf(e).$t(a,(function(e,n,a){if(e.length===o){var s=Sl(r.R,n);t.path.isPrefixOf(s.key.path)?Gs(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new lf(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return ff(e).get(Qc.key).next((function(e){return _a(!!e),e}))},e.prototype.me=function(e,t){return ff(e).put(Qc.key,t)},e.prototype.ye=function(e,t){if(t){var n=Sl(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Pa.min()))return n}return hs.newInvalidDocument(e)},e}(),lf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new sf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return d(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Mu((function(e,t){return Ta(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=El(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=zl(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=El(t.Ie.R,hs.newNoDocument(o,Pa.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),al.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(uf);function ff(e){return yl(e,Qc.store)}function hf(e){return yl(e,Gc.store)}function df(e){return e.path.toArray()}var pf=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;_a(n<r&&n>=0&&r<=11);var o=new sl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Bc.store)}(e),function(e){e.createObjectStore(zc.store,{keyPath:zc.keyPath}),e.createObjectStore(qc.store,{keyPath:qc.keyPath,autoIncrement:!0}).createIndex(qc.userMutationsIndex,qc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Hc.store)}(e),vf(e),function(e){e.createObjectStore(Gc.store)}(e));var a=al.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Yc.store),e.deleteObjectStore($c.store),e.deleteObjectStore(Xc.store)}(e),vf(e)),a=a.next((function(){return function(e){var t=e.store(Xc.store),n=new Xc(0,0,Pa.min().toTimestamp(),0);return t.put(Xc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(qc.store).Nt().next((function(n){e.deleteObjectStore(qc.store),e.createObjectStore(qc.store,{keyPath:qc.keyPath,autoIncrement:!0}).createIndex(qc.userMutationsIndex,qc.userMutationsKeyPath,{unique:!0});var r=t.store(qc.store),i=n.map((function(e){return r.put(e)}));return al.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Zc.store,{keyPath:Zc.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Qc.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Gc.store);t.createIndex(Gc.readTimeIndex,Gc.readTimeIndexPath,{unique:!1}),t.createIndex(Gc.collectionReadTimeIndex,Gc.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(el.store,{keyPath:el.keyPath})}(e),function(e){e.createObjectStore(tl.store,{keyPath:tl.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Gc.store).$t((function(e,n){t+=zl(n)})).next((function(){var n=new Qc(t);return e.store(Qc.store).put(Qc.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(zc.store),r=e.store(qc.store);return n.Nt().next((function(n){return al.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(qc.userMutationsIndex,i).next((function(r){return al.forEach(r,(function(r){_a(r.userId===n.userId);var i=Cl(t.R,r);return Bl(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Yc.store),n=e.store(Gc.store);return e.store(Xc.store).get(Xc.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Oa(n),a=function(e){return[0,Mc(e)]}(o);r.push(t.get(a).next((function(n){return n?al.resolve():function(n){return t.put(new Yc(0,Mc(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return al.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Jc.store,{keyPath:Jc.keyPath});var n=t.store(Jc.store),r=new Ml,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Mc(i)})}};return t.store(Gc.store).$t({Ft:!0},(function(e,t){var n=new Oa(e);return i(n.popLast())})).next((function(){return t.store(Hc.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Uc(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store($c.store);return n.$t((function(e,r){var i=Pl(r),o=Al(t.R,i);return n.put(o)}))},e}();function vf(e){e.createObjectStore(Yc.store,{keyPath:Yc.keyPath}).createIndex(Yc.documentTargetsIndex,Yc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore($c.store,{keyPath:$c.keyPath}).createIndex($c.queryTargetsIndexName,$c.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Xc.store)}var mf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yf=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new da(ha.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new of(this,i),this.Le=n+"main",this.R=new _l(u),this.Be=new ul(this.Le,11,new pf(this.R)),this.qe=new $l(this.referenceDelegate,this.R),this.Ut=new Fl,this.Ue=function(e,t){return new cf(e,t)}(this.R,this.Ut),this.Ke=new Nl,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&ya("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new da(ha.FAILED_PRECONDITION,mf);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new fa(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return v(t,void 0,void 0,(function(){return m(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return v(t,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return v(t,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return bf(t).put(new Zc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(fl(t))return ma("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ma("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return gf(e).get(Bc.key).next((function(e){return al.resolve(t.tn(e))}))},e.prototype.en=function(e){return bf(e).delete(this.clientId)},e.prototype.nn=function(){return v(this,void 0,void 0,(function(){var e,t,n,r,i=this;return m(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=yl(e,Zc.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return al.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?al.resolve(!0):gf(e).get(Bc.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new da(ha.FAILED_PRECONDITION,mf);return!1}}return!(!t.networkEnabled||!t.inForeground)||bf(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ma("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return v(this,void 0,void 0,(function(){var e=this;return m(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Bc.store,Zc.store],(function(t){var n=new ml(t,fa.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return bf(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return ql.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;ma("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,nl,(function(o){return i=new ml(o,r.Ne?r.Ne.next():fa.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw ya("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new da(ha.FAILED_PRECONDITION,rl);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return gf(e).get(Bc.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new da(ha.FAILED_PRECONDITION,mf)}))},e.prototype.Ze=function(e){var t=new Bc(this.clientId,this.allowTabSynchronization,Date.now());return gf(e).put(Bc.key,t)},e.yt=function(){return ul.yt()},e.prototype.Xe=function(e){var t=this,n=gf(e);return n.get(Bc.key).next((function(e){return t.tn(e)?(ma("IndexedDbPersistence","Releasing primary lease."),n.delete(Bc.key)):al.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(ya("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!C()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return ma("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return ya("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){ya("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function gf(e){return yl(e,Bc.store)}function bf(e){return yl(e,Zc.store)}function wf(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var _f=function(e,t){this.progress=e,this.wn=t},Sf=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return $a.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):js(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new $a(t)).next((function(e){var t=Bu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Bu();return this.Ut.getCollectionParents(e,i).next((function(a){return al.forEach(a,(function(a){var s=function(e,t){return new Rs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=hs.newInvalidDocument(c),r=r.insert(c,l)),yu(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Gs(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Ku(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Su&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Ef=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ku(),i=Ku(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),kf=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Pa.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Ms(t)||Fs(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(va()<=q.DEBUG&&ma("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ws(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Mu(Qs(e));return t.forEach((function(t,r){Gs(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return va()<=q.DEBUG&&ma("QueryEngine","Using full collection scan to execute query:",Ws(t)),this.Sn.getDocumentsMatchingQuery(e,t,Pa.min())},e}(),Tf=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Ru(Ta),this.Fn=new sf((function(e){return vs(e)}),ms),this.$n=Pa.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Sf(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function xf(e,t,n,r){return new Tf(e,t,n,r)}function If(e,t){return v(this,void 0,void 0,(function(){var n,r,i,o;return m(this,(function(a){switch(a.label){case 0:return n=Sa(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Sf(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Ku(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var m=0,y=v.mutations;m<y.length;m++){var g=y[m];a=a.add(g.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Cf(e,t){var n=Sa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=al.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);_a(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Pf(e){var t=Sa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Af(e,t){var n=Sa(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return _a(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Uu();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Df(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Pa.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return al.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function Df(e,t,n,r,i){var o=Ku();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Uu();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Pa.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):ma("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Nf(e,t){var n=Sa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Rf(e,t){var n=Sa(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,al.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new wl(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function Of(e,t,n){return v(this,void 0,void 0,(function(){var r,i,o,a;return m(this,(function(s){switch(s.label){case 0:r=Sa(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!fl(a=s.sent()))throw a;return ma("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function Lf(e,t,n){var r=Sa(e),i=Pa.min(),o=Ku();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Sa(e),i=r.Fn.get(n);return void 0!==i?al.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,zs(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Pa.min(),n?o:Ku())})).next((function(e){return{documents:e,Bn:o}}))}))}function Mf(e,t){var n=Sa(e),r=Sa(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Ff(e){var t=Sa(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Sa(e),i=Uu(),o=kl(n),a=hf(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Gc.readTimeIndex,range:s},(function(e,t){var n=Sl(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Tl(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Vf(e){return v(this,void 0,void 0,(function(){var t;return m(this,(function(n){return[2,(t=Sa(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=hf(e),n=Pa.min();return t.$t({index:Gc.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Tl(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Uf(e,t,n,r){return v(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return m(this,(function(p){switch(p.label){case 0:for(i=Sa(e),o=Ku(),a=Uu(),s=qu(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,Rf(i,function(e){return zs(Ls(Oa.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Df(e,h,a,Pa.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function jf(e,t,n){return void 0===n&&(n=Ku()),v(this,void 0,void 0,(function(){var r,i;return m(this,(function(o){switch(o.label){case 0:return[4,Rf(e,zs(Dl(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Sa(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=cc(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(Va.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Bf=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return al.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:cc(n.createTime)}),al.resolve()},e.prototype.getNamedQuery=function(e,t){return al.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Dl(e.bundledQuery),readTime:cc(e.readTime)}}(t)),al.resolve()},e}(),zf=function(){function e(){this.Wn=new Mu(qf.Gn),this.zn=new Mu(qf.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new qf(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new qf(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new $a(new Oa([])),r=new qf(n,e),i=new qf(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new $a(new Oa([])),n=new qf(t,e),r=new qf(t,e+1),i=Ku();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new qf(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),qf=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return $a.comparator(e.key,t.key)||Ta(e.ns,t.ns)},e.Hn=function(e,t){return Ta(e.ns,t.ns)||$a.comparator(e.key,t.key)},e}(),Hf=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Mu(qf.Gn)}return e.prototype.checkEmpty=function(e){return al.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new gl(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new qf(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return al.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return al.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return al.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return al.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return al.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new qf(t,0),i=new qf(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),al.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Mu(Ta);return t.forEach((function(e){var t=new qf(e,0),i=new qf(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),al.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;$a.isDocumentKey(i)||(i=i.child(""));var o=new qf(new $a(i),0),a=new Mu(Ta);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),al.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;_a(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return al.forEach(t.mutations,(function(i){var o=new qf(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new qf(t,0),r=this.rs.firstAfterOrEqual(n);return al.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,al.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Kf=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Ru($a.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return al.resolve(n?n.document.clone():hs.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Uu();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():hs.newInvalidDocument(e))})),al.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Uu(),i=new $a(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Gs(t,c)&&(r=r.insert(c.key,c.clone()))}return al.resolve(r)},e.prototype.fs=function(e,t){return al.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Wf(this)},e.prototype.getSize=function(e){return al.resolve(this.size)},e}(),Wf=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return d(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),al.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(uf),Gf=function(){function e(e){this.persistence=e,this.ds=new sf((function(e){return vs(e)}),ms),this.lastRemoteSnapshotVersion=Pa.min(),this.highestTargetId=0,this.ws=0,this._s=new zf,this.targetCount=0,this.ys=Ql.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),al.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return al.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return al.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),al.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),al.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Ql(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,al.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),al.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,al.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),al.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return al.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return al.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),al.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),al.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),al.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return al.resolve(n)},e.prototype.containsKey=function(e,t){return al.resolve(this._s.containsKey(t))},e}(),Qf=function(){function e(e,t){var n=this;this.gs={},this.Ne=new fa(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Gf(this),this.Ut=new Ll,this.Ue=function(e,t){return new Kf(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new _l(t),this.Ke=new Bf(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Hf(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;ma("MemoryPersistence","Starting transaction:",e);var i=new $f(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return al.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),$f=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return d(t,e),t}(il),Yf=function(){function e(e){this.persistence=e,this.As=new zf,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw wa()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),al.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),al.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),al.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return al.forEach(this.vs,(function(r){var i=$a.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return al.or([function(){return al.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Xf=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Jf(e,t){return"firestore_clients_"+e+"_"+t}function Zf(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function eh(e,t){return"firestore_targets_"+e+"_"+t}Xf.UNAUTHENTICATED=new Xf(null),Xf.GOOGLE_CREDENTIALS=new Xf("google-credentials-uid"),Xf.FIRST_PARTY=new Xf("first-party-uid"),Xf.MOCK_USER=new Xf("mock-user");var th=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new da(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(ya("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),nh=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new da(i.error.code,i.error.message)),o?new e(t,i.state,r):(ya("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),rh=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Gu(),a=0;i&&a<r.activeTargetIds.length;++a)i=Qa(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(ya("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ih=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ya("SharedClientState","Failed to parse online state: "+t),null)},e}(),oh=function(){function e(){this.activeTargetIds=Gu()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),ah=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ru(Ta),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Jf(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new oh),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return v(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return m(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Jf(this.persistenceKey,r)))&&(o=rh.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(eh(this.persistenceKey,e));if(n){var r=nh.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(eh(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return ma("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){ma("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){ma("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ma("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void ya("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return v(t,void 0,void 0,(function(){var e,t,r,i,o,a;return m(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=fa.o;if(null!=e)try{var n=JSON.parse(e);_a("number"==typeof n),t=n}catch(e){ya("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==fa.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new th(this.currentUser,e,t,n),i=Zf(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Zf(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=eh(this.persistenceKey,e),i=new nh(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return rh.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return th.Vs(new Xf(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return nh.Vs(r,t)},e.prototype.js=function(e){return ih.Vs(e)},e.prototype.ii=function(e){return v(this,void 0,void 0,(function(){return m(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(ma("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Gu();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),sh=function(){function e(){this.li=new oh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new oh,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),uh=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),ch=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ma("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){ma("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),lh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},fh=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),hh=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return d(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new la;a.listenOnce(oa.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case ia.NO_ERROR:var t=a.getResponseJson();ma("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ia.TIMEOUT:ma("Connection",'RPC "'+e+'" timed out'),o(new da(ha.DEADLINE_EXCEEDED,"Request time out"));break;case ia.HTTP_ERROR:var n=a.getStatus();if(ma("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ha).indexOf(t)>=0?t:ha.UNKNOWN}(r.status);o(new da(s,r.message))}else o(new da(ha.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new da(ha.UNAVAILABLE,"Connection failed."));break;default:wa()}}finally{ma("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=na(),i=ra(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ua({})),this.ki(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(I())||"object"===typeof navigator&&"ReactNative"===navigator.product||I().indexOf("Electron/")>=0||function(){var e=I();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||I().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");ma("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new fh({Ei:function(e){c?ma("Connection","Not sending because WebChannel is closed:",e):(u||(ma("Connection","Opening WebChannel transport."),s.open(),u=!0),ma("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,ca.EventType.OPEN,(function(){c||ma("Connection","WebChannel transport opened.")})),f(s,ca.EventType.CLOSE,(function(){c||(c=!0,ma("Connection","WebChannel transport closed"),l.Vi())})),f(s,ca.EventType.ERROR,(function(e){c||(c=!0,ga("Connection","WebChannel transport errored:",e),l.Vi(new da(ha.UNAVAILABLE,"The operation could not be completed")))})),f(s,ca.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];_a(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ma("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=xu[e];if(void 0!==t)return Nu(t)}(o),u=i.message;void 0===a&&(a=ha.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new da(a,u)),s.close()}else ma("Connection","WebChannel received:",n),l.Si(n)}})),f(i,aa.STAT_EVENT,(function(e){e.stat===sa.PROXY?ma("Connection","Detected buffering proxy"):e.stat===sa.NOPROXY&&ma("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);ma("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return ma("RestConnection","Received: ",e),e}),(function(t){throw ga("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=lh[e];return this.Di+"/v1/"+t+":"+n},e}());function dh(){return"undefined"!=typeof window?window:null}function ph(){return"undefined"!=typeof document?document:null}function vh(e){return new oc(e,!0)}var mh=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&ma("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),yh=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new mh(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return v(this,void 0,void 0,(function(){return m(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return v(this,void 0,void 0,(function(){return m(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===ha.RESOURCE_EXHAUSTED?(ya(t.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===ha.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new da(ha.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return v(e,void 0,void 0,(function(){return m(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return ma("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(ma("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),gh=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return d(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wa()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(_a(void 0===t||"string"==typeof t),Va.fromBase64String(t||"")):(_a(void 0===t||t instanceof Uint8Array),Va.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?ha.UNKNOWN:Nu(e.code);return new da(t,e.message||"")}(s);n=new Ju(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=dc(e,r.document.name),o=cc(r.document.updateTime);var s=new ls({mapValue:{fields:r.document.fields}}),u=(a=hs.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new Yu(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=dc(e,r.document),o=r.readTime?cc(r.readTime):Pa.min(),s=hs.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Yu([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=dc(e,r.document),o=r.removedTargetIds||[],n=new Yu([],o,i,null);else{if(!("filter"in t))return wa();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Au(r),o=l.targetId,n=new Xu(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Pa.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Pa.min():t.readTime?cc(t.readTime):Pa.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=mc(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=ys(r)?{documents:Sc(e,r)}:{query:Ec(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=sc(e,t.resumeToken):t.snapshotVersion.compareTo(Pa.min())>0&&(n.readTime=ac(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wa()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=mc(this.R),t.removeTarget=e,this.cr(t)},t}(yh),bh=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return d(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(_a(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(_a(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?cc(e.updateTime):cc(t);return n.isEqual(Pa.min())&&(n=cc(t)),new hu(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=cc(e.commitTime);return this.listener.Tr(n,t)}return _a(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=mc(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return wc(t.R,e)}))};this.cr(n)},t}(yh),wh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return d(t,e),t.prototype.br=function(){if(this.Rr)throw new da(ha.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ha.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new da(ha.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ha.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new da(ha.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),_h=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ya(t),this.Vr=!1):ma("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Sh=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return v(o,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return Dh(this)?(ma("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return v(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return(t=Sa(e)).Or.add(4),[4,kh(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Eh(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new _h(n,r)};function Eh(e){return v(this,void 0,void 0,(function(){var t,n;return m(this,(function(r){switch(r.label){case 0:if(!Dh(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function kh(e){return v(this,void 0,void 0,(function(){var t,n;return m(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Th(e,t){var n=Sa(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ah(n)?Ph(n):Wh(n).er()&&Ih(n,t))}function xh(e,t){var n=Sa(e),r=Wh(n);n.$r.delete(t),r.er()&&Ch(n,t),0===n.$r.size&&(r.er()?r.ir():Dh(n)&&n.Br.set("Unknown"))}function Ih(e,t){e.qr.U(t.targetId),Wh(e).mr(t)}function Ch(e,t){e.qr.U(t),Wh(e).yr(t)}function Ph(e){e.qr=new ec({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Wh(e).start(),e.Br.Sr()}function Ah(e){return Dh(e)&&!Wh(e).tr()&&e.$r.size>0}function Dh(e){return 0===Sa(e).Or.size}function Nh(e){e.qr=void 0}function Rh(e){return v(this,void 0,void 0,(function(){return m(this,(function(t){return e.$r.forEach((function(t,n){Ih(e,t)})),[2]}))}))}function Oh(e,t){return v(this,void 0,void 0,(function(){return m(this,(function(n){return Nh(e),Ah(e)?(e.Br.Nr(t),Ph(e)):e.Br.set("Unknown"),[2]}))}))}function Lh(e,t,n){return v(this,void 0,void 0,(function(){var r,i,o;return m(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Ju&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return v(this,void 0,void 0,(function(){var n,r,i,o;return m(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),ma("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Mh(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Yu?e.qr.X(t):t instanceof Xu?e.qr.rt(t):e.qr.et(t),n.isEqual(Pa.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Pf(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Va.EMPTY_BYTE_STRING,n.snapshotVersion)),Ch(e,t);var r=new wl(n.target,t,1,n.sequenceNumber);Ih(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ma("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Mh(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Mh(e,t,n){return v(this,void 0,void 0,(function(){var r=this;return m(this,(function(i){switch(i.label){case 0:if(!fl(t))throw t;return e.Or.add(1),[4,kh(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Pf(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return v(r,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return ma("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Eh(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Fh(e,t){return t().catch((function(n){return Mh(e,n,t)}))}function Vh(e){return v(this,void 0,void 0,(function(){var t,n,r,i,o;return m(this,(function(a){switch(a.label){case 0:t=Sa(e),n=Gh(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Dh(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Nf(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=Gh(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Mh(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Uh(t)&&jh(t),[2]}}))}))}function Uh(e){return Dh(e)&&!Gh(e).tr()&&e.Fr.length>0}function jh(e){Gh(e).start()}function Bh(e){return v(this,void 0,void 0,(function(){return m(this,(function(t){return Gh(e).Ar(),[2]}))}))}function zh(e){return v(this,void 0,void 0,(function(){var t,n,r,i;return m(this,(function(o){for(t=Gh(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function qh(e,t,n){return v(this,void 0,void 0,(function(){var r,i;return m(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=bl.from(r,t,n),[4,Fh(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Vh(e)];case 2:return o.sent(),[2]}}))}))}function Hh(e,t){return v(this,void 0,void 0,(function(){return m(this,(function(n){switch(n.label){case 0:return t&&Gh(e).pr?[4,function(e,t){return v(this,void 0,void 0,(function(){var n,r;return m(this,(function(i){switch(i.label){case 0:return Du(r=t.code)&&r!==ha.ABORTED?(n=e.Fr.shift(),Gh(e).sr(),[4,Fh(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Vh(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Uh(e)&&jh(e),[2]}}))}))}function Kh(e,t){return v(this,void 0,void 0,(function(){var n;return m(this,(function(r){switch(r.label){case 0:return n=Sa(e),t?(n.Or.delete(2),[4,Eh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,kh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Wh(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Sa(e);return r.br(),new gh(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Rh.bind(null,e),Ri:Oh.bind(null,e),_r:Lh.bind(null,e)}),e.Mr.push((function(n){return v(t,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Ah(e)?Ph(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Nh(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Gh(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Sa(e);return r.br(),new bh(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Bh.bind(null,e),Ri:Hh.bind(null,e),Ir:zh.bind(null,e),Tr:qh.bind(null,e)}),e.Mr.push((function(n){return v(t,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Vh(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(ma("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Qh=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ol,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new da(ha.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function $h(e,t){if(ya("AsyncQueue",t+": "+e),fl(e))return new da(ha.UNAVAILABLE,t+": "+e);throw e}var Yh=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||$a.comparator(t.key,n.key)}:function(e,t){return $a.comparator(e.key,t.key)},this.keyedMap=Bu(),this.sortedSet=new Ru(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Xh=function(){function e(){this.Qr=new Ru($a.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):wa():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Jh=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Yh.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Zh=function(){this.Wr=void 0,this.listeners=[]},ed=function(){this.queries=new sf((function(e){return Ks(e)}),Hs),this.onlineState="Unknown",this.Gr=new Set};function td(e,t){return v(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return m(this,(function(c){switch(c.label){case 0:if(n=Sa(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Zh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=$h(s,"Initialization of query '"+Ws(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&od(n),[2]}}))}))}function nd(e,t){return v(this,void 0,void 0,(function(){var n,r,i,o,a;return m(this,(function(s){return n=Sa(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function rd(e,t){for(var n=Sa(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&od(n)}function id(e,t,n){var r=Sa(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function od(e){e.Gr.forEach((function(e){e.next()}))}var ad=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Jh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Jh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),sd=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),ud=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return dc(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?bc(this.R,e.document,!1):hs.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return cc(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=cd(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new ud(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Ku()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return v(this,void 0,void 0,(function(){var e,t,n,r,i;return m(this,(function(o){switch(o.label){case 0:return[4,Uf(this.localStore,new ud(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,jf(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new _f(Object.assign({},this.progress),e))]}}))}))}}();function cd(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ld=function(e){this.key=e},fd=function(e){this.key=e},hd=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ku(),this.mutatedKeys=Ku(),this.lo=Qs(e),this.fo=new Yh(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Xh,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ms(this.query)&&i.size===this.query.limit?i.last():null,c=Fs(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Gs(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Ms(this.query)||Fs(this.query))for(;a.size>this.query.limit;){var l=Ms(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wa()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Jh(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Xh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ku(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new fd(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new ld(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ku();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Jh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),dd=function(e,t,n){this.query=e,this.targetId=t,this.view=n},pd=function(e){this.key=e,this.bo=!1},vd=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new sf((function(e){return Ks(e)}),Hs),this.Vo=new Map,this.So=new Set,this.Do=new Ru($a.comparator),this.Co=new Map,this.No=new zf,this.xo={},this.ko=new Map,this.Fo=Ql.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function md(e,t){return v(this,void 0,void 0,(function(){var n,r,i,o,a,s;return m(this,(function(u){switch(u.label){case 0:return n=Kd(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Rf(n.localStore,zs(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,yd(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Th(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function yd(e,t,n,r){return v(this,void 0,void 0,(function(){var i,o,a,s,u,c;return m(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return v(this,void 0,void 0,(function(){var i,o,a;return m(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Lf(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Ad(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Lf(e.localStore,t,!0)];case 1:return i=l.sent(),o=new hd(t,i.Bn),a=o._o(i.documents),s=$u.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Ad(e,n,u.To),c=new dd(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function gd(e,t){return v(this,void 0,void 0,(function(){var n,r,i;return m(this,(function(o){switch(o.label){case 0:return n=Sa(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Hs(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Of(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),xh(n.remoteStore,r.targetId),Cd(n,r.targetId)})).catch(Zl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Cd(n,r.targetId),[4,Of(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function bd(e,t,n){return v(this,void 0,void 0,(function(){var r,i,o,a;return m(this,(function(s){switch(s.label){case 0:r=Wd(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Sa(e),i=Ca.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ku());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=gu(c,n.get(c.key));null!=l&&a.push(new Su(c.key,l,fs(l.value.mapValue),du.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Ru(Ta)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Rd(r,i.changes)];case 3:return s.sent(),[4,Vh(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=$h(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function wd(e,t){return v(this,void 0,void 0,(function(){var n,r;return m(this,(function(i){switch(i.label){case 0:n=Sa(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Af(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(_a(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?_a(r.bo):e.removedDocuments.size>0&&(_a(r.bo),r.bo=!1))})),[4,Rd(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Zl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function _d(e,t,n){var r=Sa(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Sa(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&od(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Sd(e,t,n){return v(this,void 0,void 0,(function(){var r,i,o,a,s,u;return m(this,(function(c){switch(c.label){case 0:return(r=Sa(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Ru($a.comparator)).insert(o,hs.newNoDocument(o,Pa.min())),s=Ku().add(o),u=new Qu(Pa.min(),new Map,new Mu(Ta),a,s),[4,wd(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Nd(r),[3,4];case 2:return[4,Of(r.localStore,t,!1).then((function(){return Cd(r,t,n)})).catch(Zl)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Ed(e,t){return v(this,void 0,void 0,(function(){var n,r,i;return m(this,(function(o){switch(o.label){case 0:n=Sa(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Cf(n.localStore,t)];case 2:return i=o.sent(),Id(n,r,null),xd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Rd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Zl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function kd(e,t,n){return v(this,void 0,void 0,(function(){var r,i;return m(this,(function(o){switch(o.label){case 0:r=Sa(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Sa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return _a(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Id(r,t,n),xd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Rd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Zl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Td(e,t){return v(this,void 0,void 0,(function(){var n,r,i,o,a;return m(this,(function(s){switch(s.label){case 0:Dh((n=Sa(e)).remoteStore)||ma("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Sa(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=$h(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function xd(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function Id(e,t,n){var r=Sa(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Cd(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Pd(e,t)}))}function Pd(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(xh(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Nd(e))}function Ad(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ld?(e.No.addReference(o.key,t),Dd(e,o)):o instanceof fd?(ma("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Pd(e,o.key)):wa()}}function Dd(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(ma("SyncEngine","New document in limbo: "+n),e.So.add(r),Nd(e))}function Nd(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new $a(Oa.fromString(t)),r=e.Fo.next();e.Co.set(r,new pd(n)),e.Do=e.Do.insert(n,r),Th(e.remoteStore,new wl(zs(Ls(n.path)),r,2,fa.o))}}function Rd(e,t,n){return v(this,void 0,void 0,(function(){var r,i,o,a;return m(this,(function(s){switch(s.label){case 0:return r=Sa(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Ef.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return v(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return m(this,(function(f){switch(f.label){case 0:n=Sa(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return al.forEach(t,(function(t){return al.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return al.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!fl(r=f.sent()))throw r;return ma("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Od(e,t){return v(this,void 0,void 0,(function(){var n,r;return m(this,(function(i){switch(i.label){case 0:return(n=Sa(e)).currentUser.isEqual(t)?[3,3]:(ma("SyncEngine","User change. New user:",t.toKey()),[4,If(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new da(ha.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Rd(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ld(e,t){var n=Sa(e),r=n.Co.get(t);if(r&&r.bo)return Ku().add(r.key);var i=Ku(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Md(e,t){return v(this,void 0,void 0,(function(){var n,r,i;return m(this,(function(o){switch(o.label){case 0:return[4,Lf((n=Sa(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Ad(n,t.targetId,i.To),i)]}}))}))}function Fd(e){return v(this,void 0,void 0,(function(){var t;return m(this,(function(n){return[2,Ff((t=Sa(e)).localStore).then((function(e){return Rd(t,e)}))]}))}))}function Vd(e,t,n,r){return v(this,void 0,void 0,(function(){var i,o;return m(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Sa(e),r=Sa(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):al.resolve(null)}))}))}((i=Sa(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Vh(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Id(i,t,r||null),xd(i,t),function(e,t){Sa(Sa(e)._n).Gt(t)}(i.localStore,t)):wa(),a.label=4;case 4:return[4,Rd(i,o)];case 5:return a.sent(),[3,7];case 6:ma("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Ud(e,t){return v(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return m(this,(function(l){switch(l.label){case 0:return Kd(n=Sa(e)),Wd(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,jd(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Kh(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Th(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Cd(n,t),Of(n.localStore,t,!0)})),xh(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,jd(n,u)];case 5:return l.sent(),function(e){var t=Sa(e);t.Co.forEach((function(e,n){xh(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Ru($a.comparator)}(n),n.$o=!1,[4,Kh(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function jd(e,t,n){return v(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v;return m(this,(function(m){switch(m.label){case 0:n=Sa(e),r=[],i=[],o=0,a=t,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Rf(n.localStore,zs(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,f=c,m.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,Md(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Mf(n.localStore,s)];case 8:return v=m.sent(),[4,Rf(n.localStore,v)];case 9:return u=m.sent(),[4,yd(n,Bd(v),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Bd(e){return Os(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function zd(e){var t=Sa(e);return Sa(Sa(t.localStore).persistence).fn()}function qd(e,t,n,r){return v(this,void 0,void 0,(function(){var i,o,a;return m(this,(function(s){switch(s.label){case 0:return(i=Sa(e)).$o?(ma("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ff(i.localStore)];case 3:return o=s.sent(),a=Qu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Rd(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Of(i.localStore,t,!0)];case 6:return s.sent(),Cd(i,t,r),[3,8];case 7:wa(),s.label=8;case 8:return[2]}}))}))}function Hd(e,t,n){return v(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return m(this,(function(d){switch(d.label){case 0:if(!(r=Kd(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(ma("SyncEngine","Adding an already active target "+a),[3,5]):[4,Mf(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Rf(r.localStore,s)];case 3:return u=d.sent(),[4,yd(r,Bd(s),u.targetId,!1)];case 4:d.sent(),Th(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return m(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Of(r.localStore,e,!1).then((function(){xh(r.remoteStore,e),Cd(r,e)})).catch(Zl)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Kd(e){var t=Sa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ld.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sd.bind(null,t),t.vo._r=rd.bind(null,t.eventManager),t.vo.Mo=id.bind(null,t.eventManager),t}function Wd(e){var t=Sa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ed.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kd.bind(null,t),t}var Gd=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return v(this,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return this.R=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return xf(this.persistence,new kf,e.initialUser,this.R)},e.prototype.qo=function(e){return new Qf(Yf.bs,this.R)},e.prototype.Bo=function(e){return new sh},e.prototype.terminate=function(){return v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Qd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return d(t,e),t.prototype.initialize=function(t){return v(this,void 0,void 0,(function(){var n=this;return m(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Vf(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,Wd(this.Qo.syncEngine)];case 4:return r.sent(),[4,Vh(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return xf(this.persistence,new kf,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new nf(t,e.asyncQueue)},t.prototype.qo=function(e){var t=wf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jl.withCacheSize(this.cacheSizeBytes):jl.DEFAULT;return new yf(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,dh(),ph(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new sh},t}(Gd),$d=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return d(t,e),t.prototype.initialize=function(t){return v(this,void 0,void 0,(function(){var n,r=this;return m(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof ah?(this.sharedClientState.syncEngine={ui:Vd.bind(null,n),ai:qd.bind(null,n),hi:Hd.bind(null,n),fn:zd.bind(null,n),ci:Fd.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return v(r,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return[4,Ud(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=dh();if(!ah.yt(t))throw new da(ha.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ah(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Qd),Yd=function(){function e(){}return e.prototype.initialize=function(e,t){return v(this,void 0,void 0,(function(){var n=this;return m(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return _d(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Od.bind(null,this.syncEngine),[4,Kh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new ed},e.prototype.createDatastore=function(e){var t,n=vh(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new hh(t));return function(e,t,n){return new wh(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return _d(a.syncEngine,e,0)},o=ch.yt()?new ch:new uh,new Sh(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new vd(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return v(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return t=Sa(e),ma("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,kh(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var Xd=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Jd=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new ol,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return v(this,void 0,void 0,(function(){return m(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return v(this,void 0,void 0,(function(){var e,t,n,r;return m(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new sd(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return v(this,void 0,void 0,(function(){var e,t;return m(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return v(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return v(this,void 0,void 0,(function(){var e,t;return m(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return v(this,void 0,void 0,(function(){var t,n=this;return m(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new da(ha.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return v(this,void 0,void 0,(function(){var n,r,i,o,a,s;return m(this,(function(u){switch(u.label){case 0:return n=Sa(e),r=mc(n.R)+"/documents",i={documents:t.map((function(e){return hc(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){_a(!!t.found),t.found.name,t.found.updateTime;var n=dc(e,t.found.name),r=cc(t.found.updateTime),i=new ls({mapValue:{fields:t.found.fields}});return hs.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){_a(!!t.missing),_a(!!t.readTime);var n=dc(e,t.missing),r=cc(t.readTime);return hs.newNoDocument(n,r)}(e,t):wa()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());_a(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Cu(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return v(this,void 0,void 0,(function(){var e,t=this;return m(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=$a.fromPath(n);t.mutations.push(new Pu(r,t.precondition(r)))})),[4,function(e,t){return v(this,void 0,void 0,(function(){var n,r,i;return m(this,(function(o){switch(o.label){case 0:return n=Sa(e),r=mc(n.R)+"/documents",i={writes:t.map((function(e){return wc(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wa();t=Pa.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new da(ha.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?du.updateTime(t):du.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pa.min()))throw new da(ha.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return du.updateTime(t)}return du.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Zd=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new mh(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return v(e,void 0,void 0,(function(){var e,t,n=this;return m(this,(function(r){return e=new Jd(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Wa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Du(t)}return!1},e}(),ep=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Xf.UNAUTHENTICATED,this.clientId=ka.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return v(r,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return ma("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return v(this,void 0,void 0,(function(){return m(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new da(ha.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ol;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return v(e,void 0,void 0,(function(){var e,n;return m(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=$h(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function tp(e,t){return v(this,void 0,void 0,(function(){var n,r,i=this;return m(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ma("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return v(i,void 0,void 0,(function(){return m(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,If(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function np(e,t){return v(this,void 0,void 0,(function(){var n,r;return m(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,rp(e)];case 1:return n=i.sent(),ma("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return v(this,void 0,void 0,(function(){var n,r;return m(this,(function(i){switch(i.label){case 0:return(n=Sa(e)).asyncQueue.verifyOperationInProgress(),ma("RemoteStore","RemoteStore received new credentials"),r=Dh(n),n.Or.add(3),[4,kh(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Eh(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function rp(e){return v(this,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ma("FirestoreClient","Using default OfflineComponentProvider"),[4,tp(e,new Gd)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function ip(e){return v(this,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ma("FirestoreClient","Using default OnlineComponentProvider"),[4,np(e,new Yd)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function op(e){return rp(e).then((function(e){return e.persistence}))}function ap(e){return rp(e).then((function(e){return e.localStore}))}function sp(e){return ip(e).then((function(e){return e.remoteStore}))}function up(e){return ip(e).then((function(e){return e.syncEngine}))}function cp(e){return v(this,void 0,void 0,(function(){var t,n;return m(this,(function(r){switch(r.label){case 0:return[4,ip(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=md.bind(null,t.syncEngine),n.onUnlisten=gd.bind(null,t.syncEngine),n)]}}))}))}function lp(e,t,n){var r=this;void 0===n&&(n={});var i=new ol;return e.asyncQueue.enqueueAndForget((function(){return v(r,void 0,void 0,(function(){var r;return m(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Xd({next:function(o){t.enqueueAndForget((function(){return nd(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new da(ha.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new da(ha.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new ad(Ls(n.path),o,{includeMetadataChanges:!0,so:!0});return td(e,a)},[4,cp(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function fp(e,t,n){var r=this;void 0===n&&(n={});var i=new ol;return e.asyncQueue.enqueueAndForget((function(){return v(r,void 0,void 0,(function(){var r;return m(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Xd({next:function(n){t.enqueueAndForget((function(){return nd(e,a)})),n.fromCache&&"server"===r.source?i.reject(new da(ha.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new ad(n,o,{includeMetadataChanges:!0,so:!0});return td(e,a)},[4,cp(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var hp=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},dp=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),pp=new Map,vp=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},mp=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Xf.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),yp=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),gp=function(){function e(e){var t=this;this.currentUser=Xf.UNAUTHENTICATED,this.oc=new ol,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){ma("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(ma("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(ma("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_a("string"==typeof n.accessToken),new vp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return v(n,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return _a(null===e||"string"==typeof e),new Xf(e)},e}(),bp=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Xf.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),wp=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new bp(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Xf.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function _p(e,t,n){if(!n)throw new da(ha.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Sp(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new da(ha.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Ep(e,t,n,r){if(!0===t&&!0===r)throw new da(ha.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function kp(e){if(!$a.isDocumentKey(e))throw new da(ha.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Tp(e){if($a.isDocumentKey(e))throw new da(ha.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function xp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":wa()}function Ip(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new da(ha.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xp(e);throw new da(ha.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Cp(e,t){if(t<=0)throw new da(ha.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Pp=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new da(ha.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new da(ha.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ep("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Ap=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pp({}),this._settingsFrozen=!1,e instanceof dp?(this._databaseId=e,this._credentials=new mp):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new da(ha.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dp(e.options.projectId)}(e),this._credentials=new gp(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new da(ha.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new da(ha.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pp(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new mp;switch(e.type){case"gapi":var t=e.client;return _a(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new wp(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new da(ha.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=pp.get(this))&&(ma("ComponentProvider","Removing Datastore"),pp.delete(this),e.terminate()),Promise.resolve();var e},e}(),Dp=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Rp(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Np=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Rp=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ls(r))||this)._path=r,i.type="collection",i}return d(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Dp(this.firestore,null,new $a(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Np);function Op(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=M(e),_p("collection","path",t),e instanceof Ap)return Tp(n=Oa.fromString.apply(Oa,b([t],r))),new Rp(e,null,n);if(!(e instanceof Dp||e instanceof Rp))throw new da(ha.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Tp(n=Oa.fromString.apply(Oa,b([e.path],r)).child(Oa.fromString(t))),new Rp(e.firestore,null,n)}function Lp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=M(e),1===arguments.length&&(t=ka.u()),_p("doc","path",t),e instanceof Ap)return kp(n=Oa.fromString.apply(Oa,b([t],r))),new Dp(e,null,new $a(n));if(!(e instanceof Dp||e instanceof Rp))throw new da(ha.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kp(n=e._path.child(Oa.fromString.apply(Oa,b([t],r)))),new Dp(e.firestore,e instanceof Rp?e.converter:null,new $a(n))}function Mp(e,t){return e=M(e),t=M(t),(e instanceof Dp||e instanceof Rp)&&(t instanceof Dp||t instanceof Rp)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Fp(e,t){return e=M(e),t=M(t),e instanceof Np&&t instanceof Np&&e.firestore===t.firestore&&Hs(e._query,t._query)&&e.converter===t.converter}var Vp=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new mh(this,"async_queue_retry"),this.Ic=function(){var t=ph();t&&ma("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=ph();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=ph();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new ol;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return v(this,void 0,void 0,(function(){var e,t=this;return m(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!fl(e=n.sent()))throw e;return ma("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,ya("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Qh.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&wa()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return v(this,void 0,void 0,(function(){var e;return m(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Up(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new ol,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var jp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Vp,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return d(t,e),t.prototype._terminate=function(){return this._firestoreClient||zp(this),this._firestoreClient.terminate()},t}(Ap);function Bp(e){return e._firestoreClient||zp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new hp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ep(e._credentials,e._queue,r)}function qp(e,t,n){var r=this,i=new ol;return e.asyncQueue.enqueue((function(){return v(r,void 0,void 0,(function(){var r;return m(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,tp(e,n)];case 1:return o.sent(),[4,np(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===ha.FAILED_PRECONDITION||e.code===ha.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Hp(e){if(e._initialized||e._terminated)throw new da(ha.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Kp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new da(ha.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ma(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Wp=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Va.fromBase64String(t))}catch(t){throw new da(ha.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Va.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Gp=function(e){this._methodName=e},Qp=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new da(ha.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new da(ha.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Ta(this._lat,e._lat)||Ta(this._long,e._long)},e}(),$p=/^__.*__$/,Yp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Su(e,this.data,this.fieldMask,t,this.fieldTransforms):new _u(e,this.data,t,this.fieldTransforms)},e}(),Xp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Su(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Jp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wa()}}var Zp=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return bv(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(Jp(this.Nc)&&$p.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),ev=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||vh(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new Zp({Nc:e,methodName:t,qc:n,path:Ma.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function tv(e){var t=e._freezeSettings(),n=vh(e._databaseId);return new ev(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nv(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);vv("Data must be an object, but it was:",a,r);var s,u,c=dv(r,a);if(o.merge)s=new Fa(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=mv(t,h[f],n);if(!a.contains(d))throw new da(ha.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");wv(l,d)||l.push(d)}s=new Fa(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new Yp(new ls(c),s,u)}var rv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Gp);function iv(e,t,n){return new Zp({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var ov=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype._toFieldTransform=function(e){return new fu(e.path,new ru)},t.prototype.isEqual=function(e){return e instanceof t},t}(Gp),av=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return d(t,e),t.prototype._toFieldTransform=function(e){var t=iv(this,e,!0),n=this.Kc.map((function(e){return hv(e,t)})),r=new iu(n);return new fu(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Gp),sv=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return d(t,e),t.prototype._toFieldTransform=function(e){var t=iv(this,e,!0),n=this.Kc.map((function(e){return hv(e,t)})),r=new au(n);return new fu(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Gp),uv=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return d(t,e),t.prototype._toFieldTransform=function(e){var t=new uu(e.R,Js(e.R,this.Qc));return new fu(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Gp);function cv(e,t,n,r){var i=e.Uc(1,t,n);vv("Data must be an object, but it was:",i,r);var o=[],a=ls.empty();Da(r,(function(e,r){var s=gv(t,e,n);r=M(r);var u=i.Oc(s);if(r instanceof rv)o.push(s);else{var c=hv(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Fa(o);return new Xp(a,s,i.fieldTransforms)}function lv(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[mv(t,r,n)],u=[i];if(o.length%2!=0)throw new da(ha.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(mv(t,o[c])),u.push(o[c+1]);for(var l=[],f=ls.empty(),h=s.length-1;h>=0;--h)if(!wv(l,s[h])){var d=s[h],p=u[h];p=M(p);var v=a.Oc(d);if(p instanceof rv)l.push(d);else{var m=hv(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Fa(l);return new Xp(f,y,a.fieldTransforms)}function fv(e,t,n,r){return void 0===r&&(r=!1),hv(n,e.Uc(r?4:3,t))}function hv(e,t){if(pv(e=M(e)))return vv("Unsupported field value:",t,e),dv(e,t);if(e instanceof Gp)return function(e,t){if(!Jp(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=hv(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=M(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Js(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ca.fromDate(e);return{timestampValue:ac(t.R,n)}}if(e instanceof Ca)return n=new Ca(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:ac(t.R,n)};if(e instanceof Qp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wp)return{bytesValue:sc(t.R,e._byteString)};if(e instanceof Dp){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:lc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+xp(e))}(e,t)}function dv(e,t){var n={};return Na(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Da(e,(function(e,r){var i=hv(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function pv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ca||e instanceof Qp||e instanceof Wp||e instanceof Dp||e instanceof Gp)}function vv(e,t,n){if(!pv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=xp(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function mv(e,t,n){if((t=M(t))instanceof Kp)return t._internalPath;if("string"==typeof t)return gv(e,t);throw bv("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var yv=new RegExp("[~\\*/\\[\\]]");function gv(e,t,n){if(t.search(yv)>=0)throw bv("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Kp.bind.apply(Kp,b([void 0],t.split(".")))))._internalPath}catch(Sm){throw bv("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function bv(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new da(ha.INVALID_ARGUMENT,(s+=". ")+e+u)}function wv(e,t){return e.some((function(e){return e.isEqual(t)}))}var _v=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Dp(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Sv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Ev("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Sv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(_v);function Ev(e,t){return"string"==typeof t?gv(e,t):t instanceof Kp?t._internalPath:t._delegate._internalPath}var kv=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Tv=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return d(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new xv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Ev("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(_v),xv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Tv),Iv=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new kv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new xv(n._firestore,n._userDataWriter,r.key,r,new kv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new da(ha.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new xv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new xv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Cv(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Cv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wa()}}function Pv(e,t){return e instanceof Tv&&t instanceof Tv?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Iv&&t instanceof Iv&&e._firestore===t._firestore&&Fp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Av(e){if(Fs(e)&&0===e.explicitOrderBy.length)throw new da(ha.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dv=function(){};function Nv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var Rv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return d(t,e),t.prototype._apply=function(e){var t=tv(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new da(ha.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){jv(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(Uv(r,e,f))}s={arrayValue:{values:u}}}else s=Uv(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||jv(a,o),s=fv(n,"where",a,"in"===o||"not-in"===o);var h=gs.create(i,o,s);return function(e,t){if(t.g()){var n=Us(e);if(null!==n&&!n.isEqual(t.field))throw new da(ha.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Vs(e);null!==r&&Bv(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new da(ha.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new da(ha.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Np(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Rs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Dv),Ov=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return d(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new da(ha.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new da(ha.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ps(t,n);return function(e,t){if(null===Vs(e)){var n=Us(e);null!==n&&Bv(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Np(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Rs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Dv),Lv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return d(t,e),t.prototype._apply=function(e){return new Np(e.firestore,e.converter,qs(e._query,this.Hc,this.Jc))},t}(Dv),Mv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return d(t,e),t.prototype._apply=function(e){var t=Vv(e,this.type,this.Yc,this.Xc);return new Np(e.firestore,e.converter,function(e,t){return new Rs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Dv),Fv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return d(t,e),t.prototype._apply=function(e){var t=Vv(e,this.type,this.Yc,this.Xc);return new Np(e.firestore,e.converter,function(e,t){return new Rs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Dv);function Vv(e,t,n,r){if(n[0]=M(n[0]),n[0]instanceof _v)return function(e,t,n,r,i){if(!r)throw new da(ha.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Bs(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(rs(t,r.key));else{var c=r.data.field(u.field);if(qa(c))throw new da(ha.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new da(ha.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Is(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=tv(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new da(ha.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new da(ha.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!js(e)&&-1!==c.indexOf("/"))throw new da(ha.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Oa.fromString(c));if(!$a.isDocumentKey(l))throw new da(ha.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new $a(l);s.push(rs(t,f))}else{var h=fv(n,r,c);s.push(h)}}return new Is(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Uv(e,t,n){if("string"==typeof(n=M(n))){if(""===n)throw new da(ha.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!js(t)&&-1!==n.indexOf("/"))throw new da(ha.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Oa.fromString(n));if(!$a.isDocumentKey(r))throw new da(ha.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return rs(e,new $a(r))}if(n instanceof Dp)return rs(e,n._key);throw new da(ha.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xp(n)+".")}function jv(e,t){if(!Array.isArray(e)||0===e.length)throw new da(ha.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new da(ha.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bv(e,t,n){if(!n.isEqual(t))throw new da(ha.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var zv=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ba(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wa()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Da(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Qp(Ba(e.latitude),Ba(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Ha(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ka(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=ja(e);return new Ca(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Oa.fromString(e);_a(Lc(n));var r=new dp(n.get(1),n.get(3)),i=new $a(n.popFirst(5));return r.isEqual(t)||ya("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function qv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Hv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return d(t,e),t.prototype.convertBytes=function(e){return new Wp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dp(this.firestore,null,t)},t}(zv),Kv=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=tv(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Wv(e,this._firestore),i=qv(r.converter,t,n),o=nv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,du.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Wv(e,this._firestore);return o="string"==typeof(t=M(t))||t instanceof Kp?lv(this._dataReader,"WriteBatch.update",a._key,t,n,r):cv(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,du.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Wv(e,this._firestore);return this._mutations=this._mutations.concat(new Cu(t._key,du.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new da(ha.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Wv(e,t){if((e=M(e)).firestore!==t)throw new da(ha.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Gv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return d(t,e),t.prototype.convertBytes=function(e){return new Wp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dp(this.firestore,null,t)},t}(zv);function Qv(e,t,n){e=Ip(e,Dp);var r=Ip(e.firestore,jp),i=qv(e.converter,t,n);return Xv(r,[nv(tv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,du.none())])}function $v(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ip(e,Dp);var o=Ip(e.firestore,jp),a=tv(o);return Xv(o,[("string"==typeof(t=M(t))||t instanceof Kp?lv(a,"updateDoc",e._key,t,n,r):cv(a,"updateDoc",e._key,t)).toMutation(e._key,du.exists(!0))])}function Yv(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=M(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Up(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(Up(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof Dp)c=Ip(e.firestore,jp),l=Ls(e._key.path),u={next:function(t){i[s]&&i[s](Jv(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Ip(e,Np);c=Ip(d.firestore,jp),l=d._query;var p=new Gv(c);u={next:function(e){i[s]&&i[s](new Iv(c,p,d,e))},error:i[s+1],complete:i[s+2]},Av(e._query)}return function(e,t,n,r){var i=this,o=new Xd(r),a=new ad(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return v(i,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return t=td,[4,cp(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return v(i,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return t=nd,[4,cp(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Bp(c),l,f,u)}function Xv(e,t){return function(e,t){var n=this,r=new ol;return e.asyncQueue.enqueueAndForget((function(){return v(n,void 0,void 0,(function(){var n;return m(this,(function(i){switch(i.label){case 0:return n=bd,[4,up(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Bp(e),t)}function Jv(e,t,n){var r=n.docs.get(t._key),i=new Gv(e);return new Tv(e,i,t._key,r,new kv(n.hasPendingWrites,n.fromCache),t.converter)}var Zv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return d(t,e),t.prototype.get=function(t){var n=this,r=Wv(t,this._firestore),i=new Gv(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Tv(n._firestore,i,r._key,e._document,new kv(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=tv(e)}return e.prototype.get=function(e){var t=this,n=Wv(e,this._firestore),r=new Hv(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return wa();var i=e[0];if(i.isFoundDocument())return new _v(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new _v(t._firestore,r,n._key,null,n.converter);throw wa()}))},e.prototype.set=function(e,t,n){var r=Wv(e,this._firestore),i=qv(r.converter,t,n),o=nv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Wv(e,this._firestore);return o="string"==typeof(t=M(t))||t instanceof Kp?lv(this._dataReader,"Transaction.update",a._key,t,n,r):cv(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Wv(e,this._firestore);return this._transaction.delete(t._key),this},e}());function em(){if("undefined"==typeof Uint8Array)throw new da(ha.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tm(){if("undefined"==typeof atob)throw new da(ha.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var nm=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return tm(),new e(Wp.fromBase64String(t))},e.fromUint8Array=function(t){return em(),new e(Wp.fromUint8Array(t))},e.prototype.toBase64=function(){return tm(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return em(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),rm=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Hp(e=Ip(e,jp));var n=Bp(e),r=e._freezeSettings(),i=new Yd;return qp(n,i,new Qd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Hp(e=Ip(e,jp));var t=Bp(e),n=e._freezeSettings(),r=new Yd;return qp(t,r,new $d(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new da(ha.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ol;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return v(t,void 0,void 0,(function(){var t;return m(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return v(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return ul.yt()?(t=e+"main",[4,ul.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(wf(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),im=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof dp||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ga("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=Ip(e,Ap))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&ga("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=Xf.MOCK_USER;else{a=x(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new da(ha.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Xf(u)}e._credentials=new yp(new vp(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return v(t,void 0,void 0,(function(){var t,n;return m(this,(function(r){switch(r.label){case 0:return[4,op(e)];case 1:return t=r.sent(),[4,sp(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Sa(e);return t.Or.delete(0),Eh(t)}(n))]}}))}))}))}(Bp(Ip(this._delegate,jp)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return v(t,void 0,void 0,(function(){var t,n;return m(this,(function(r){switch(r.label){case 0:return[4,op(e)];case 1:return t=r.sent(),[4,sp(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return v(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return(t=Sa(e)).Or.add(0),[4,kh(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Bp(Ip(this._delegate,jp)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Ep("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new ol;return e.asyncQueue.enqueueAndForget((function(){return v(t,void 0,void 0,(function(){var t;return m(this,(function(r){switch(r.label){case 0:return t=Td,[4,up(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Bp(Ip(this._delegate,jp)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Xd(t);return e.asyncQueue.enqueueAndForget((function(){return v(n,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return t=function(e,t){Sa(e).Gr.add(t),t.next()},[4,cp(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return v(n,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return t=function(e,t){Sa(e).Gr.delete(t)},[4,cp(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Bp(e=Ip(e,jp)),Up(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new da(ha.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new gm(this,Op(this._delegate,e))}catch(e){throw lm(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new cm(this,Lp(this._delegate,e))}catch(e){throw lm(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new vm(this,function(e,t){if(e=Ip(e,Ap),_p("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new da(ha.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Np(e,null,function(e){return new Rs(Oa.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw lm(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new ol;return e.asyncQueue.enqueueAndForget((function(){return v(n,void 0,void 0,(function(){var n;return m(this,(function(i){switch(i.label){case 0:return[4,function(e){return ip(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Zd(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Bp(e),(function(n){return t(new Zv(e,n))}))}(this._delegate,(function(n){return e(new am(t,n))}))},e.prototype.batch=function(){var e=this;return Bp(this._delegate),new sm(new Kv(this._delegate,(function(t){return Xv(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new da(ha.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new da(ha.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),om=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return d(t,e),t.prototype.convertBytes=function(e){return new nm(new Wp(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return cm.eu(t,this.firestore,null)},t}(zv);var am=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new om(e)}return e.prototype.get=function(e){var t=this,n=bm(e);return this._delegate.get(n).then((function(e){return new dm(t._firestore,new Tv(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=bm(e);return n?(Sp("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=bm(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,b([a,t,n],i)),this},e.prototype.delete=function(e){var t=bm(e);return this._delegate.delete(t),this},e}(),sm=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=bm(e);return n?(Sp("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=bm(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,b([a,t,n],i)),this},e.prototype.delete=function(e){var t=bm(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),um=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new xv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pm(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new om(t),n),i.set(n,o)),o},e}();um.su=new WeakMap;var cm=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new om(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new da(ha.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Dp(n._delegate,r,new $a(t)))},e.eu=function(t,n,r){return new e(n,new Dp(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new gm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new gm(this.firestore,Op(this._delegate,e))}catch(e){throw lm(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=M(e))instanceof Dp&&Mp(this._delegate,e)},e.prototype.set=function(e,t){t=Sp("DocumentReference.set",t);try{return t?Qv(this._delegate,e,t):Qv(this._delegate,e)}catch(e){throw lm(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?$v(this._delegate,e):$v.apply(void 0,b([this._delegate,e,t],n))}catch(e){throw lm(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Xv(Ip((e=this._delegate).firestore,jp),[new Cu(e._key,du.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=fm(t),i=hm(t,(function(t){return new dm(e.firestore,new Tv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Yv(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Ip(e,Dp);var t=Ip(e.firestore,jp),n=Bp(t),r=new Gv(t);return function(e,t){var n=this,r=new ol;return e.asyncQueue.enqueueAndForget((function(){return v(n,void 0,void 0,(function(){var n;return m(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return v(this,void 0,void 0,(function(){var r,i;return m(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Sa(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new da(ha.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=$h(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,ap(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Tv(t,r,e._key,n,new kv(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Ip(e,Dp);var t=Ip(e.firestore,jp);return lp(Bp(t),e._key,{source:"server"}).then((function(n){return Jv(t,e,n)}))}(this._delegate):function(e){e=Ip(e,Dp);var t=Ip(e.firestore,jp);return lp(Bp(t),e._key).then((function(n){return Jv(t,e,n)}))}(this._delegate)).then((function(e){return new dm(t.firestore,new Tv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(um.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function lm(e,t,n){return e.message=e.message.replace(t,n),e}function fm(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Up(r))return r}return{}}function hm(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Up(e[0])?e[0]:Up(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var dm=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new cm(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Pv(this._delegate,e._delegate)},e}(),pm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(dm),vm=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new om(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Nv(this._delegate,function(e,t,n){var r=t,i=Ev("where",e);return new Rv(i,r,n)}(t,n,r)))}catch(t){throw lm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Nv(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Ev("orderBy",e);return new Ov(r,n)}(t,n)))}catch(t){throw lm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Nv(this._delegate,function(e){return Cp("limit",e),new Lv("limit",e,"F")}(t)))}catch(t){throw lm(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Nv(this._delegate,function(e){return Cp("limitToLast",e),new Lv("limitToLast",e,"L")}(t)))}catch(t){throw lm(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nv(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Mv("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw lm(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nv(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Mv("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw lm(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nv(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Fv("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw lm(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nv(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Fv("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw lm(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Fp(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Ip(e,Np);var t=Ip(e.firestore,jp),n=Bp(t),r=new Gv(t);return function(e,t){var n=this,r=new ol;return e.asyncQueue.enqueueAndForget((function(){return v(n,void 0,void 0,(function(){var n;return m(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return v(this,void 0,void 0,(function(){var r,i,o,a,s;return m(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Lf(e,t,!0)];case 1:return s=u.sent(),r=new hd(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=$h(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,ap(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Iv(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Ip(e,Np);var t=Ip(e.firestore,jp),n=Bp(t),r=new Gv(t);return fp(n,e._query,{source:"server"}).then((function(n){return new Iv(t,r,e,n)}))}(this._delegate):function(e){e=Ip(e,Np);var t=Ip(e.firestore,jp),n=Bp(t),r=new Gv(t);return Av(e._query),fp(n,e._query).then((function(n){return new Iv(t,r,e,n)}))}(this._delegate)).then((function(e){return new ym(t.firestore,new Iv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=fm(t),i=hm(t,(function(t){return new ym(e.firestore,new Iv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Yv(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(um.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),mm=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new pm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),ym=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new vm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new pm(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new mm(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new pm(n._firestore,r))}))},e.prototype.isEqual=function(e){return Pv(this._delegate,e._delegate)},e}(),gm=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return d(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new cm(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new cm(this.firestore,void 0===e?Lp(this._delegate):Lp(this._delegate,e))}catch(e){throw lm(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Ip(e.firestore,jp),r=Lp(e),i=qv(e.converter,t);return Xv(n,[nv(tv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,du.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new cm(t.firestore,e)}))},t.prototype.isEqual=function(e){return Mp(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(um.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(vm);function bm(e){return Ip(e,Dp)}var wm=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Kp.bind.apply(Kp,b([void 0],e)))}return e.documentId=function(){return new e(Ma.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=M(e))instanceof Kp&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),_m=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new ov("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new rv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new av("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new sv("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new uv("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var Sm,Em={Firestore:im,GeoPoint:Qp,Timestamp:Ca,Blob:nm,Transaction:am,WriteBatch:sm,DocumentReference:cm,DocumentSnapshot:dm,Query:vm,QueryDocumentSnapshot:pm,QuerySnapshot:ym,CollectionReference:gm,FieldPath:wm,FieldValue:_m,setLogLevel:function(e){var t;t=e,pa.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new F("firestore",(function(e){return function(e,t){return new im(e,new jp(e,t),new rm)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Em)))})(Sm=de),Sm.registerVersion("@firebase/firestore","2.4.1");de.initializeApp({apiKey:"AIzaSyCEjE6V1w21a20dNj3uvhfGYGRMbMCdT5s",authDomain:"ilonagallery.firebaseapp.com",projectId:"ilonagallery",storageBucket:"ilonagallery.appspot.com",messagingSenderId:"580006602943",appId:"1:580006602943:web:2e70fb83e6e62b98f8fe0a"});var km=de.storage(),Tm=de.firestore(),xm=de.firestore.FieldValue.serverTimestamp,Im=function(t){var n=o((0,e.useState)(0),2),r=n[0],i=n[1],a=o((0,e.useState)(null),2),s=a[0],u=a[1],l=o((0,e.useState)(null),2),h=l[0],d=l[1];return(0,e.useEffect)((function(){var e=km.ref(t.name),n=Tm.collection("images");e.put(t).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;i(t)}),(function(e){u(e)}),f(c().mark((function t(){var r,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getDownloadURL();case 2:return r=t.sent,i=xm(),t.next=6,n.add({url:r,createdAt:i});case 6:d(r);case 7:case"end":return t.stop()}}),t)}))))}),[t]),{progress:r,url:h,error:s}};function Cm(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}function Pm(e,t,n){return(t=Cm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Am(Object(n),!0).forEach((function(t){Pm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nm=(0,e.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),Rm=(0,e.createContext)({}),Om=(0,e.createContext)(null),Lm="undefined"!==typeof document,Mm=Lm?e.useLayoutEffect:e.useEffect,Fm=(0,e.createContext)({strict:!1});function Vm(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Um(e){return"string"===typeof e||Array.isArray(e)}function jm(e){return"object"===typeof e&&"function"===typeof e.start}var Bm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zm=["initial"].concat(Bm);function qm(e){return jm(e.animate)||zm.some((function(t){return Um(e[t])}))}function Hm(e){return Boolean(qm(e)||e.variants)}function Km(t){var n=function(e,t){if(qm(e)){var n=e.initial,r=e.animate;return{initial:!1===n||Um(n)?n:void 0,animate:Um(r)?r:void 0}}return!1!==e.inherit?t:{}}(t,(0,e.useContext)(Rm)),r=n.initial,i=n.animate;return(0,e.useMemo)((function(){return{initial:r,animate:i}}),[Wm(r),Wm(i)])}function Wm(e){return Array.isArray(e)?e.join(" "):e}var Gm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qm={},$m=function(e){Qm[e]={isEnabled:function(t){return Gm[e].some((function(e){return!!t[e]}))}}};for(var Ym in Gm)$m(Ym);var Xm=(0,e.createContext)({}),Jm=(0,e.createContext)({}),Zm=Symbol.for("motionComponentSymbol");function ey(t){var n=t.preloadedFeatures,r=t.createVisualElement,i=t.useRender,o=t.useVisualState,a=t.Component;n&&function(e){for(var t in e)Qm[t]=Dm(Dm({},Qm[t]),e[t])}(n);var s=(0,e.forwardRef)((function(t,s){var u,c=Dm(Dm(Dm({},(0,e.useContext)(Nm)),t),{},{layoutId:ty(t)}),l=c.isStatic,f=Km(t),h=o(t,l);if(!l&&Lm){f.visualElement=function(t,n,r,i){var o=(0,e.useContext)(Rm).visualElement,a=(0,e.useContext)(Fm),s=(0,e.useContext)(Om),u=(0,e.useContext)(Nm).reducedMotion,c=(0,e.useRef)();i=i||a.renderer,!c.current&&i&&(c.current=i(t,{visualState:n,parent:o,props:r,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));var l=c.current;(0,e.useInsertionEffect)((function(){l&&l.update(r,s)}));var f=(0,e.useRef)(Boolean(window.HandoffAppearAnimations));return Mm((function(){l&&(l.render(),f.current&&l.animationState&&l.animationState.animateChanges())})),(0,e.useEffect)((function(){l&&(l.updateFeatures(),!f.current&&l.animationState&&l.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,f.current=!1)})),l}(a,h,c,r);var d=(0,e.useContext)(Jm),p=(0,e.useContext)(Fm).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,p,n,d))}return e.createElement(Rm.Provider,{value:f},u&&f.visualElement?e.createElement(u,Dm({visualElement:f.visualElement},c)):null,i(a,t,function(t,n,r){return(0,e.useCallback)((function(e){e&&t.mount&&t.mount(e),n&&(e?n.mount(e):n.unmount()),r&&("function"===typeof r?r(e):Vm(r)&&(r.current=e))}),[n])}(h,f.visualElement,s),h,l,f.visualElement))}));return s[Zm]=a,s}function ty(t){var n=t.layoutId,r=(0,e.useContext)(Xm).id;return r&&void 0!==n?r+"-"+n:n}function ny(e){function t(t){return ey(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var ry=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iy(e){return"string"===typeof e&&!e.includes("-")&&!!(ry.indexOf(e)>-1||/[A-Z]/.test(e))}var oy={};var ay=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sy=new Set(ay);function uy(e,t){var n=t.layout,r=t.layoutId;return sy.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!oy[e]||"opacity"===e)}var cy=function(e){return Boolean(e&&e.getVelocity)},ly={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fy=ay.length;var hy=function(e){return function(t){return"string"===typeof t&&t.startsWith(e)}},dy=hy("--"),py=hy("var(--"),vy=function(e,t){return t&&"number"===typeof e?t.transform(e):e},my=function(e,t,n){return Math.min(Math.max(n,e),t)},yy={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},gy=Dm(Dm({},yy),{},{transform:function(e){return my(0,1,e)}}),by=Dm(Dm({},yy),{},{default:1}),wy=function(e){return Math.round(1e5*e)/1e5},_y=/(-)?([\d]*\.?[\d])+/g,Sy=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ey=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ky(e){return"string"===typeof e}var Ty=function(e){return{test:function(t){return ky(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},xy=Ty("deg"),Iy=Ty("%"),Cy=Ty("px"),Py=Ty("vh"),Ay=Ty("vw"),Dy=Dm(Dm({},Iy),{},{parse:function(e){return Iy.parse(e)/100},transform:function(e){return Iy.transform(100*e)}}),Ny=Dm(Dm({},yy),{},{transform:Math.round}),Ry={borderWidth:Cy,borderTopWidth:Cy,borderRightWidth:Cy,borderBottomWidth:Cy,borderLeftWidth:Cy,borderRadius:Cy,radius:Cy,borderTopLeftRadius:Cy,borderTopRightRadius:Cy,borderBottomRightRadius:Cy,borderBottomLeftRadius:Cy,width:Cy,maxWidth:Cy,height:Cy,maxHeight:Cy,size:Cy,top:Cy,right:Cy,bottom:Cy,left:Cy,padding:Cy,paddingTop:Cy,paddingRight:Cy,paddingBottom:Cy,paddingLeft:Cy,margin:Cy,marginTop:Cy,marginRight:Cy,marginBottom:Cy,marginLeft:Cy,rotate:xy,rotateX:xy,rotateY:xy,rotateZ:xy,scale:by,scaleX:by,scaleY:by,scaleZ:by,skew:xy,skewX:xy,skewY:xy,distance:Cy,translateX:Cy,translateY:Cy,translateZ:Cy,x:Cy,y:Cy,z:Cy,perspective:Cy,transformPerspective:Cy,opacity:gy,originX:Dy,originY:Dy,originZ:Cy,zIndex:Ny,fillOpacity:gy,strokeOpacity:gy,numOctaves:Ny};function Oy(e,t,n,r){var i=e.style,o=e.vars,a=e.transform,s=e.transformOrigin,u=!1,c=!1,l=!0;for(var f in t){var h=t[f];if(dy(f))o[f]=h;else{var d=Ry[f],p=vy(h,d);if(sy.has(f)){if(u=!0,a[f]=p,!l)continue;h!==(d.default||0)&&(l=!1)}else f.startsWith("origin")?(c=!0,s[f]=p):i[f]=p}}if(t.transform||(u||r?i.transform=function(e,t,n,r){for(var i=t.enableHardwareAcceleration,o=void 0===i||i,a=t.allowTransformNone,s=void 0===a||a,u="",c=0;c<fy;c++){var l=ay[c];if(void 0!==e[l]){var f=ly[l]||l;u+="".concat(f,"(").concat(e[l],") ")}}return o&&!e.z&&(u+="translateZ(0)"),u=u.trim(),r?u=r(e,n?"":u):s&&n&&(u="none"),u}(e.transform,n,l,r):i.transform&&(i.transform="none")),c){var v=s.originX,m=void 0===v?"50%":v,y=s.originY,g=void 0===y?"50%":y,b=s.originZ,w=void 0===b?0:b;i.transformOrigin="".concat(m," ").concat(g," ").concat(w)}}var Ly=function(){return{style:{},transform:{},transformOrigin:{},vars:{}}};function My(e,t,n){for(var r in t)cy(t[r])||uy(r,n)||(e[r]=t[r])}function Fy(t,n,r){var i={};return My(i,t.style||{},t),Object.assign(i,function(t,n,r){var i=t.transformTemplate;return(0,e.useMemo)((function(){var e=Ly();return Oy(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(t,n,r)),t.transformValues?t.transformValues(i):i}function Vy(e,t,n){var r={},i=Fy(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}var Uy=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function jy(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||Uy.has(e)}var By,zy=function(e){return!jy(e)};try{(By=require("@emotion/is-prop-valid").default)&&(zy=function(e){return e.startsWith("on")?!jy(e):By(e)})}catch(j){}function qy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hy(e,t,n){return"string"===typeof e?e:Cy.transform(t+n*e)}var Ky={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wy={offset:"strokeDashoffset",array:"strokeDasharray"};var Gy=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Qy(e,t,n,r,i){var o=t.attrX,a=t.attrY,s=t.attrScale,u=t.originX,c=t.originY,l=t.pathLength,f=t.pathSpacing,h=void 0===f?1:f,d=t.pathOffset,p=void 0===d?0:d;if(Oy(e,qy(t,Gy),n,i),r)e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);else{e.attrs=e.style,e.style={};var v=e.attrs,m=e.style,y=e.dimensions;v.transform&&(y&&(m.transform=v.transform),delete v.transform),y&&(void 0!==u||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){var r=Hy(t,e.x,e.width),i=Hy(n,e.y,e.height);return"".concat(r," ").concat(i)}(y,void 0!==u?u:.5,void 0!==c?c:.5)),void 0!==o&&(v.x=o),void 0!==a&&(v.y=a),void 0!==s&&(v.scale=s),void 0!==l&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var o=i?Ky:Wy;e[o.offset]=Cy.transform(-r);var a=Cy.transform(t),s=Cy.transform(n);e[o.array]="".concat(a," ").concat(s)}(v,l,h,p,!1)}}var $y=function(){return Dm(Dm({},Ly()),{},{attrs:{}})},Yy=function(e){return"string"===typeof e&&"svg"===e.toLowerCase()};function Xy(t,n,r,i){var o=(0,e.useMemo)((function(){var e=$y();return Qy(e,n,{enableHardwareAcceleration:!1},Yy(i),t.transformTemplate),Dm(Dm({},e.attrs),{},{style:Dm({},e.style)})}),[n]);if(t.style){var a={};My(a,t.style,t),o.style=Dm(Dm({},a),o.style)}return o}function Jy(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,r,i,o,a){var s=o.latestValues,u=(iy(n)?Xy:Vy)(r,s,a,n),c=function(e,t,n){var r={};for(var i in e)"values"===i&&"object"===typeof e.values||(zy(i)||!0===n&&jy(i)||!t&&!jy(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,t),l=Dm(Dm(Dm({},c),u),{},{ref:i}),f=r.children,h=(0,e.useMemo)((function(){return cy(f)?f.get():f}),[f]);return(0,e.createElement)(n,Dm(Dm({},l),{},{children:h}))}}var Zy=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function eg(e,t,n,r){var i=t.style,o=t.vars;for(var a in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),o)e.style.setProperty(a,o[a])}var tg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ng(e,t,n,r){for(var i in eg(e,t,void 0,r),t.attrs)e.setAttribute(tg.has(i)?i:Zy(i),t.attrs[i])}function rg(e,t){var n=e.style,r={};for(var i in n)(cy(n[i])||t.style&&cy(t.style[i])||uy(i,e))&&(r[i]=n[i]);return r}function ig(e,t){var n=rg(e,t);for(var r in e){if(cy(e[r])||cy(t[r]))n[-1!==ay.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function og(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var ag=function(e){return Array.isArray(e)},sg=function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)},ug=function(e){return ag(e)?e[e.length-1]||0:e};function cg(e){var t=cy(e)?e.get():e;return sg(t)?t.toValue():t}var lg=["transitionEnd","transition"];var fg=function(t){return function(n,r){var i=(0,e.useContext)(Rm),o=(0,e.useContext)(Om),a=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,o=e.createRenderState,a=e.onMount,s={latestValues:hg(t,n,r,i),renderState:o()};return a&&(s.mount=function(e){return a(t,e,s)}),s}(t,n,i,o)};return r?a():function(t){var n=(0,e.useRef)(null);return null===n.current&&(n.current=t()),n.current}(a)}};function hg(e,t,n,r){var i={},o=r(e,{});for(var a in o)i[a]=cg(o[a]);var s=e.initial,u=e.animate,c=qm(e),l=Hm(e);t&&l&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));var f=!!n&&!1===n.initial,h=(f=f||!1===s)?u:s;h&&"boolean"!==typeof h&&!jm(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var n=og(e,t);if(n){var r=n.transitionEnd,o=(n.transition,qy(n,lg));for(var a in o){var s=o[a];if(Array.isArray(s))s=s[f?s.length-1:0];null!==s&&(i[a]=s)}for(var u in r)i[u]=r[u]}}));return i}var dg=function(e){return e};function pg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cm(r.key),r)}}function mg(e,t,n){return t&&vg(e.prototype,t),n&&vg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var yg=function(){function e(){pg(this,e),this.order=[],this.scheduled=new Set}return mg(e,[{key:"add",value:function(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}},{key:"remove",value:function(e){var t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}},{key:"clear",value:function(){this.order.length=0,this.scheduled.clear()}}]),e}();var gg=["prepare","read","update","preRender","render","postRender"];var bg=function(e,t){var n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},o=gg.reduce((function(e,t){return e[t]=function(e){var t=new yg,n=new yg,r=0,i=!1,o=!1,a=new WeakSet,s={schedule:function(e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=o?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),s.add(e)&&o&&i&&(r=t.order.length),e},cancel:function(e){n.remove(e),a.delete(e)},process:function(u){if(i)o=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).clear(),r=t.order.length)for(var l=0;l<r;l++){var f=t.order[l];f(u),a.has(f)&&(s.schedule(f),e())}i=!1,o&&(o=!1,s.process(u))}}};return s}((function(){return n=!0})),e}),{}),a=function(e){return o[e].process(i)},s=function o(){var s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,gg.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(o))},u=gg.reduce((function(t,a){var u=o[a];return t[a]=function(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(s)),u.schedule(t,o,a)},t}),{});return{schedule:u,cancel:function(e){return gg.forEach((function(t){return o[t].cancel(e)}))},state:i,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:dg,!0),wg=bg.schedule,_g=bg.cancel,Sg=bg.state,Eg=bg.steps,kg={useVisualState:fg({scrapeMotionValuesFromProps:ig,createRenderState:$y,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;wg.read((function(){try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Sm){r.dimensions={x:0,y:0,width:0,height:0}}})),wg.render((function(){Qy(r,i,{enableHardwareAcceleration:!1},Yy(t.tagName),e.transformTemplate),ng(t,r)}))}})},Tg={useVisualState:fg({scrapeMotionValuesFromProps:rg,createRenderState:Ly})};function xg(e,t){return xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xg(e,t)}function Ig(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xg(e,t)}function Cg(e){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cg(e)}function Pg(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ag(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Sm){return!1}}();return function(){var n,r=Cg(e);if(t){var i=Cg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pg(this,n)}}function Dg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}var Ng=function(e){return"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary};function Rg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var Og=function(e){return function(t){return Ng(t)&&e(t,Rg(t))}};function Lg(e,t,n,r){return Dg(e,t,Og(n),r)}var Mg=function(e,t){return function(n){return t(e(n))}},Fg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Mg)};function Vg(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Ug=Vg("dragHorizontal"),jg=Vg("dragVertical");function Bg(e){var t=!1;if("y"===e)t=jg();else if("x"===e)t=Ug();else{var n=Ug(),r=jg();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function zg(){var e=Bg(!0);return!e||(e(),!1)}var qg=function(){function e(t){pg(this,e),this.isMounted=!1,this.node=t}return mg(e,[{key:"update",value:function(){}}]),e}();function Hg(e,t){var n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Lg(e.current,n,(function(n,i){if("touch"!==n.type&&!zg()){var o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&wg.update((function(){return o[r](n,i)}))}}),{passive:!e.getProps()[r]})}var Kg=function(e){Ig(n,e);var t=Ag(n);function n(){return pg(this,n),t.apply(this,arguments)}return mg(n,[{key:"mount",value:function(){this.unmount=Fg(Hg(this.node,!0),Hg(this.node,!1))}},{key:"unmount",value:function(){}}]),n}(qg),Wg=function(e){Ig(n,e);var t=Ag(n);function n(){var e;return pg(this,n),(e=t.apply(this,arguments)).isActive=!1,e}return mg(n,[{key:"onFocus",value:function(){var e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Sm){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}},{key:"onBlur",value:function(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}},{key:"mount",value:function(){var e=this;this.unmount=Fg(Dg(this.node.current,"focus",(function(){return e.onFocus()})),Dg(this.node.current,"blur",(function(){return e.onBlur()})))}},{key:"unmount",value:function(){}}]),n}(qg),Gg=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function Qg(e,t){if(t){var n=new PointerEvent("pointer"+e);t(n,Rg(n))}}var $g=function(e){Ig(n,e);var t=Ag(n);function n(){var e;return pg(this,n),(e=t.apply(this,arguments)).removeStartListeners=dg,e.removeEndListeners=dg,e.removeAccessibleListeners=dg,e.startPointerPress=function(t,n){if(e.removeEndListeners(),!e.isPressing){var r=e.node.getProps(),i=Lg(window,"pointerup",(function(t,n){if(e.checkPressEnd()){var r=e.node.getProps(),i=r.onTap,o=r.onTapCancel;wg.update((function(){Gg(e.node.current,t.target)?i&&i(t,n):o&&o(t,n)}))}}),{passive:!(r.onTap||r.onPointerUp)}),o=Lg(window,"pointercancel",(function(t,n){return e.cancelPress(t,n)}),{passive:!(r.onTapCancel||r.onPointerCancel)});e.removeEndListeners=Fg(i,o),e.startPress(t,n)}},e.startAccessiblePress=function(){var t=Dg(e.node.current,"keydown",(function(t){if("Enter"===t.key&&!e.isPressing){e.removeEndListeners(),e.removeEndListeners=Dg(e.node.current,"keyup",(function(t){"Enter"===t.key&&e.checkPressEnd()&&Qg("up",(function(t,n){var r=e.node.getProps().onTap;r&&wg.update((function(){return r(t,n)}))}))})),Qg("down",(function(t,n){e.startPress(t,n)}))}})),n=Dg(e.node.current,"blur",(function(){e.isPressing&&Qg("cancel",(function(t,n){return e.cancelPress(t,n)}))}));e.removeAccessibleListeners=Fg(t,n)},e}return mg(n,[{key:"startPress",value:function(e,t){this.isPressing=!0;var n=this.node.getProps(),r=n.onTapStart;n.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&wg.update((function(){return r(e,t)}))}},{key:"checkPressEnd",value:function(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zg()}},{key:"cancelPress",value:function(e,t){if(this.checkPressEnd()){var n=this.node.getProps().onTapCancel;n&&wg.update((function(){return n(e,t)}))}}},{key:"mount",value:function(){var e=this.node.getProps(),t=Lg(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Dg(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fg(t,n)}},{key:"unmount",value:function(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}]),n}(qg),Yg=["root"],Xg=new WeakMap,Jg=new WeakMap,Zg=function(e){var t=Xg.get(e.target);t&&t(e)},eb=function(e){e.forEach(Zg)};function tb(e,t,n){var r=function(e){var t=e.root,n=qy(e,Yg),r=t||document;Jg.has(r)||Jg.set(r,{});var i=Jg.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(eb,Dm({root:t},n))),i[o]}(t);return Xg.set(e,n),r.observe(e),function(){Xg.delete(e),r.unobserve(e)}}var nb={some:0,all:1},rb=function(e){Ig(n,e);var t=Ag(n);function n(){var e;return pg(this,n),(e=t.apply(this,arguments)).hasEnteredView=!1,e.isInView=!1,e}return mg(n,[{key:"startObserver",value:function(){var e=this;this.unmount();var t=this.node.getProps().viewport,n=void 0===t?{}:t,r=n.root,i=n.margin,o=n.amount,a=void 0===o?"some":o,s=n.once,u={root:r?r.current:void 0,rootMargin:i,threshold:"number"===typeof a?a:nb[a]};return tb(this.node.current,u,(function(t){var n=t.isIntersecting;if(e.isInView!==n&&(e.isInView=n,!s||n||!e.hasEnteredView)){n&&(e.hasEnteredView=!0),e.node.animationState&&e.node.animationState.setActive("whileInView",n);var r=e.node.getProps(),i=r.onViewportEnter,o=r.onViewportLeave,a=n?i:o;a&&a(t)}}))}},{key:"mount",value:function(){this.startObserver()}},{key:"update",value:function(){if("undefined"!==typeof IntersectionObserver){var e=this.node,t=e.props,n=e.prevProps,r=["amount","margin","root"].some(function(e){var t=e.viewport,n=void 0===t?{}:t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.viewport,o=void 0===i?{}:i;return function(e){return n[e]!==o[e]}}(t,n));r&&this.startObserver()}}},{key:"unmount",value:function(){}}]),n}(qg);var ib={inView:{Feature:rb},tap:{Feature:$g},focus:{Feature:Wg},hover:{Feature:Kg}};function ob(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ab(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function sb(e,t,n){var r=e.getProps();return og(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var ub="data-"+Zy("framerAppearId"),cb=dg,lb=dg;var fb=function(e){return 1e3*e},hb=function(e){return e/1e3},db=!1,pb=function(e){return Array.isArray(e)&&"number"===typeof e[0]};function vb(e){return Boolean(!e||"string"===typeof e&&yb[e]||pb(e)||Array.isArray(e)&&e.every(vb))}var mb=function(e){var t=o(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return"cubic-bezier(".concat(n,", ").concat(r,", ").concat(i,", ").concat(a,")")},yb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mb([0,.65,.55,1]),circOut:mb([.55,0,1,.45]),backIn:mb([.31,.01,.66,-.59]),backOut:mb([.33,1.53,.69,.99])};function gb(e){if(e)return pb(e)?mb(e):Array.isArray(e)?e.map(gb):yb[e]}var bb=function(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e},wb=1e-7,_b=12;function Sb(e,t,n,r){if(e===t&&n===r)return dg;var i=function(t){return function(e,t,n,r,i){var o,a,s=0;do{(o=bb(a=t+(n-t)/2,r,i)-e)>0?n=a:t=a}while(Math.abs(o)>wb&&++s<_b);return a}(t,0,1,e,n)};return function(e){return 0===e||1===e?e:bb(i(e),t,r)}}var Eb=Sb(.42,0,1,1),kb=Sb(0,0,.58,1),Tb=Sb(.42,0,.58,1),xb=function(e){return Array.isArray(e)&&"number"!==typeof e[0]},Ib=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},Cb=function(e){return function(t){return 1-e(1-t)}},Pb=function(e){return 1-Math.sin(Math.acos(e))},Ab=Cb(Pb),Db=Ib(Ab),Nb=Sb(.33,1.53,.69,.99),Rb=Cb(Nb),Ob=Ib(Rb),Lb={linear:dg,easeIn:Eb,easeInOut:Tb,easeOut:kb,circIn:Pb,circInOut:Db,circOut:Ab,backIn:Rb,backInOut:Ob,backOut:Nb,anticipate:function(e){return(e*=2)<1?.5*Rb(e):.5*(2-Math.pow(2,-10*(e-1)))}},Mb=function(e){if(Array.isArray(e)){lb(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=o(e,4);return Sb(t[0],t[1],t[2],t[3])}return"string"===typeof e?(lb(void 0!==Lb[e],"Invalid easing type '".concat(e,"'")),Lb[e]):e},Fb=function(e,t){return function(n){return Boolean(ky(n)&&Ey.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},Vb=function(e,t,n){return function(r){var i;if(!ky(r))return r;var a=o(r.match(_y),4),s=a[0],u=a[1],c=a[2],l=a[3];return Pm(i={},e,parseFloat(s)),Pm(i,t,parseFloat(u)),Pm(i,n,parseFloat(c)),Pm(i,"alpha",void 0!==l?parseFloat(l):1),i}},Ub=Dm(Dm({},yy),{},{transform:function(e){return Math.round(function(e){return my(0,255,e)}(e))}}),jb={test:Fb("rgb","red"),parse:Vb("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,o=void 0===i?1:i;return"rgba("+Ub.transform(t)+", "+Ub.transform(n)+", "+Ub.transform(r)+", "+wy(gy.transform(o))+")"}};var Bb={test:Fb("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:jb.transform},zb={test:Fb("hsl","hue"),parse:Vb("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,o=void 0===i?1:i;return"hsla("+Math.round(t)+", "+Iy.transform(wy(n))+", "+Iy.transform(wy(r))+", "+wy(gy.transform(o))+")"}},qb={test:function(e){return jb.test(e)||Bb.test(e)||zb.test(e)},parse:function(e){return jb.test(e)?jb.parse(e):zb.test(e)?zb.parse(e):Bb.parse(e)},transform:function(e){return ky(e)?e:e.hasOwnProperty("red")?jb.transform(e):zb.transform(e)}},Hb=function(e,t,n){return-n*e+n*t+e};function Kb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var Wb=function(e,t,n){var r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Gb=[Bb,jb,zb];function Qb(e){var t=function(e){return Gb.find((function(t){return t.test(e)}))}(e);lb(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));var n=t.parse(e);return t===zb&&(n=function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var o=0,a=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;o=Kb(c,u,t+1/3),a=Kb(c,u,t),s=Kb(c,u,t-1/3)}else o=a=s=r;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}(n)),n}var $b=function(e,t){var n=Qb(e),r=Qb(t),i=Dm({},n);return function(e){return i.red=Wb(n.red,r.red,e),i.green=Wb(n.green,r.green,e),i.blue=Wb(n.blue,r.blue,e),i.alpha=Hb(n.alpha,r.alpha,e),jb.transform(i)}};var Yb={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:dg},Xb={regex:Sy,countKey:"Colors",token:"${c}",parse:qb.parse},Jb={regex:_y,countKey:"Numbers",token:"${n}",parse:yy.parse};function Zb(e,t){var n,r=t.regex,i=t.countKey,o=t.token,a=t.parse,s=e.tokenised.match(r);s&&(e["num"+i]=s.length,e.tokenised=e.tokenised.replace(r,o),(n=e.values).push.apply(n,ob(s.map(a))))}function ew(e){var t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Zb(n,Yb),Zb(n,Xb),Zb(n,Jb),n}function tw(e){return ew(e).values}function nw(e){var t=ew(e),n=t.values,r=t.numColors,i=t.numVars,o=t.tokenised,a=n.length;return function(e){for(var t=o,n=0;n<a;n++)t=n<i?t.replace(Yb.token,e[n]):n<i+r?t.replace(Xb.token,qb.transform(e[n])):t.replace(Jb.token,wy(e[n]));return t}}var rw=function(e){return"number"===typeof e?0:e};var iw={test:function(e){var t,n;return isNaN(e)&&ky(e)&&((null===(t=e.match(_y))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Sy))||void 0===n?void 0:n.length)||0)>0},parse:tw,createTransformer:nw,getAnimatableNone:function(e){var t=tw(e);return nw(e)(t.map(rw))}},ow=function(e,t){return function(n){return"".concat(n>0?t:e)}};function aw(e,t){return"number"===typeof e?function(n){return Hb(e,t,n)}:qb.test(e)?$b(e,t):e.startsWith("var(")?ow(e,t):cw(e,t)}var sw=function(e,t){var n=ob(e),r=n.length,i=e.map((function(e,n){return aw(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},uw=function(e,t){var n=Dm(Dm({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=aw(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}},cw=function(e,t){var n=iw.createTransformer(t),r=ew(e),i=ew(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Fg(sw(r.values,i.values),n):(cb(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),ow(e,t))},lw=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},fw=function(e,t){return function(n){return Hb(e,t,n)}};function hw(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?fw:"string"===typeof e?qb.test(e)?$b:cw:Array.isArray(e)?sw:"object"===typeof e?uw:fw}(e[0]),o=e.length-1,a=0;a<o;a++){var s=i(e[a],e[a+1]);if(t){var u=Array.isArray(t)?t[a]||dg:t;s=Fg(u,s)}r.push(s)}return r}function dw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,o=n.ease,a=n.mixer,s=e.length;if(lb(s===t.length,"Both input and output ranges must be the same length"),1===s)return function(){return t[0]};e[0]>e[s-1]&&(e=ob(e).reverse(),t=ob(t).reverse());var u=hw(t,o,a),c=u.length,l=function(t){var n=0;if(c>1)for(;n<e.length-2&&!(t<e[n+1]);n++);var r=lw(e[n],e[n+1],t);return u[n](r)};return i?function(t){return l(my(e[0],e[s-1],t))}:l}function pw(e){var t=[0];return function(e,t){for(var n=e[e.length-1],r=1;r<=t;r++){var i=lw(0,t,r);e.push(Hb(n,1,i))}}(t,e.length-1),t}function vw(e){var t,n,r=e.duration,i=void 0===r?300:r,o=e.keyframes,a=e.times,s=e.ease,u=void 0===s?"easeInOut":s,c=xb(u)?u.map(Mb):Mb(u),l={done:!1,value:o[0]},f=function(e,t){return e.map((function(e){return e*t}))}(a&&a.length===o.length?a:pw(o),i),h=dw(f,o,{ease:Array.isArray(c)?c:(t=o,n=c,t.map((function(){return n||Tb})).splice(0,t.length-1))});return{calculatedDuration:i,next:function(e){return l.value=h(e),l.done=e>=i,l}}}function mw(e,t){return t?e*(1e3/t):0}var yw=5;function gw(e,t,n){var r=Math.max(t-yw,0);return mw(n-e(r),t-r)}var bw=.001,ww=.01,_w=10,Sw=.05,Ew=1;function kw(e){var t,n,r=e.duration,i=void 0===r?800:r,o=e.bounce,a=void 0===o?.25:o,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c;cb(i<=fb(_w),"Spring duration must be 10 seconds or less");var f=1-a;f=my(Sw,Ew,f),i=my(ww,_w,hb(i)),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,o=xw(e,f),a=Math.exp(-n);return bw-r/o*a},n=function(e){var n=e*f*i,r=n*u+u,o=Math.pow(f,2)*Math.pow(e,2)*i,a=Math.exp(-n),s=xw(Math.pow(e,2),f);return(-t(e)+bw>0?-1:1)*((r-o)*a)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-bw},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<Tw;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i=fb(i),isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}var Tw=12;function xw(e,t){return e*Math.sqrt(1-t*t)}var Iw=["keyframes","restDelta","restSpeed"],Cw=["duration","bounce"],Pw=["stiffness","damping","mass"];function Aw(e,t){return t.some((function(t){return void 0!==e[t]}))}function Dw(e){var t,n=e.keyframes,r=e.restDelta,i=e.restSpeed,o=qy(e,Iw),a=n[0],s=n[n.length-1],u={done:!1,value:a},c=function(e){var t=Dm({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Aw(e,Pw)&&Aw(e,Cw)){var n=kw(e);(t=Dm(Dm(Dm({},t),n),{},{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(o),l=c.stiffness,f=c.damping,h=c.mass,d=c.velocity,p=c.duration,v=c.isResolvedFromDuration,m=d?-hb(d):0,y=f/(2*Math.sqrt(l*h)),g=s-a,b=hb(Math.sqrt(l/h)),w=Math.abs(g)<5;if(i||(i=w?.01:2),r||(r=w?.005:.5),y<1){var _=xw(b,y);t=function(e){var t=Math.exp(-y*b*e);return s-t*((m+y*b*g)/_*Math.sin(_*e)+g*Math.cos(_*e))}}else if(1===y)t=function(e){return s-Math.exp(-b*e)*(g+(m+b*g)*e)};else{var S=b*Math.sqrt(y*y-1);t=function(e){var t=Math.exp(-y*b*e),n=Math.min(S*e,300);return s-t*((m+y*b*g)*Math.sinh(n)+S*g*Math.cosh(n))/S}}return{calculatedDuration:v&&p||null,next:function(e){var n=t(e);if(v)u.done=e>=p;else{var o=m;0!==e&&(o=y<1?gw(t,e,n):0);var a=Math.abs(o)<=i,c=Math.abs(s-n)<=r;u.done=a&&c}return u.value=u.done?s:n,u}}}function Nw(e){var t=e.keyframes,n=e.velocity,r=void 0===n?0:n,i=e.power,o=void 0===i?.8:i,a=e.timeConstant,s=void 0===a?325:a,u=e.bounceDamping,c=void 0===u?10:u,l=e.bounceStiffness,f=void 0===l?500:l,h=e.modifyTarget,d=e.min,p=e.max,v=e.restDelta,m=void 0===v?.5:v,y=e.restSpeed,g=t[0],b={done:!1,value:g},w=function(e){return void 0===d?p:void 0===p||Math.abs(d-e)<Math.abs(p-e)?d:p},_=o*r,S=g+_,E=void 0===h?S:h(S);E!==S&&(_=E-g);var k,T,x=function(e){return-_*Math.exp(-e/s)},I=function(e){return E+x(e)},C=function(e){var t=x(e),n=I(e);b.done=Math.abs(t)<=m,b.value=b.done?E:n},P=function(e){(function(e){return void 0!==d&&e<d||void 0!==p&&e>p})(b.value)&&(k=e,T=Dw({keyframes:[b.value,w(b.value)],velocity:gw(I,e,b.value),damping:c,stiffness:f,restDelta:m,restSpeed:y}))};return P(0),{calculatedDuration:null,next:function(e){var t=!1;return T||void 0!==k||(t=!0,C(e),P(e)),void 0!==k&&e>k?T.next(e-k):(!t&&C(e),b)}}}var Rw=function(e){var t=function(t){var n=t.timestamp;return e(n)};return{start:function(){return wg.update(t,!0)},stop:function(){return _g(t)},now:function(){return Sg.isProcessing?Sg.timestamp:performance.now()}}},Ow=2e4;function Lw(e){for(var t=0,n=e.next(t);!n.done&&t<Ow;)t+=50,n=e.next(t);return t>=Ow?1/0:t}var Mw=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],Fw={decay:Nw,inertia:Nw,tween:vw,keyframes:vw,spring:Dw};function Vw(e){var t,n,r,i=e.autoplay,o=void 0===i||i,a=e.delay,s=void 0===a?0:a,u=e.driver,c=void 0===u?Rw:u,l=e.keyframes,f=e.type,h=void 0===f?"keyframes":f,d=e.repeat,p=void 0===d?0:d,v=e.repeatDelay,m=void 0===v?0:v,y=e.repeatType,g=void 0===y?"loop":y,b=e.onPlay,w=e.onStop,_=e.onComplete,S=e.onUpdate,E=qy(e,Mw),k=1,T=!1,x=function(){n=new Promise((function(e){t=e}))};x();var I,C=Fw[h]||vw;C!==vw&&"number"!==typeof l[0]&&(I=dw([0,100],l,{clamp:!1}),l=[0,100]);var P,A=C(Dm(Dm({},E),{},{keyframes:l}));"mirror"===g&&(P=C(Dm(Dm({},E),{},{keyframes:ob(l).reverse(),velocity:-(E.velocity||0)})));var D="idle",N=null,R=null,O=null;null===A.calculatedDuration&&p&&(A.calculatedDuration=Lw(A));var L=A.calculatedDuration,M=1/0,F=1/0;null!==L&&(F=(M=L+m)*(p+1)-m);var V=0,U=function(e){if(null!==R){k>0&&(R=Math.min(R,e)),k<0&&(R=Math.min(e-F/k,R));var t=(V=null!==N?N:Math.round(e-R)*k)-s*(k>=0?1:-1),n=k>=0?t<0:t>F;V=Math.max(t,0),"finished"===D&&null===N&&(V=F);var r=V,i=A;if(p){var o=V/M,a=Math.floor(o),u=o%1;!u&&o>=1&&(u=1),1===u&&a--,a=Math.min(a,p+1);var c=Boolean(a%2);c&&("reverse"===g?(u=1-u,m&&(u-=m/M)):"mirror"===g&&(i=P));var f=my(0,1,u);V>F&&(f="reverse"===g&&c?1:0),r=f*M}var h=n?{done:!1,value:l[0]}:i.next(r);I&&(h.value=I(h.value));var d=h.done;n||null===L||(d=k>=0?V>=F:V<=0);var v=null===N&&("finished"===D||"running"===D&&d);return S&&S(h.value),v&&z(),h}},j=function(){r&&r.stop(),r=void 0},B=function(){D="idle",j(),t(),x(),R=O=null},z=function(){D="finished",_&&_(),j(),t()},q=function(){if(!T){r||(r=c(U));var e=r.now();b&&b(),null!==N?R=e-N:R&&"finished"!==D||(R=e),"finished"===D&&x(),O=R,N=null,D="running",r.start()}};o&&q();var H={then:function(e,t){return n.then(e,t)},get time(){return hb(V)},set time(e){e=fb(e),V=e,null===N&&r&&0!==k?R=r.now()-e/k:N=e},get duration(){var e=null===A.calculatedDuration?Lw(A):A.calculatedDuration;return hb(e)},get speed(){return k},set speed(e){e!==k&&r&&(k=e,H.time=hb(V))},get state(){return D},play:q,pause:function(){D="paused",N=V},stop:function(){T=!0,"idle"!==D&&(D="idle",w&&w(),B())},cancel:function(){null!==O&&U(O),B()},complete:function(){D="finished"},sample:function(e){return R=0,U(e)}};return H}var Uw=["onUpdate","onComplete"],jw=function(e){var t;return function(){return void 0===t&&(t=e()),t}}((function(){return Object.hasOwnProperty.call(Element.prototype,"animate")})),Bw=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function zw(e,t,n){n.onUpdate;var r=n.onComplete,i=qy(n,Uw);if(!(jw()&&Bw.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;var o,a,s=!1,u=function(){a=new Promise((function(e){o=e}))};u();var c=i.keyframes,l=i.duration,f=void 0===l?300:l,h=i.ease,d=i.times;if(function(e,t){return"spring"===t.type||"backgroundColor"===e||!vb(t.ease)}(t,i)){for(var p=Vw(Dm(Dm({},i),{},{repeat:0,delay:0})),v={done:!1,value:c[0]},m=[],y=0;!v.done&&y<2e4;)v=p.sample(y),m.push(v.value),y+=10;d=void 0,c=m,f=y-10,h="linear"}var g=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.delay,o=void 0===i?0:i,a=r.duration,s=r.repeat,u=void 0===s?0:s,c=r.repeatType,l=void 0===c?"loop":c,f=r.ease,h=r.times,d=Pm({},t,n);h&&(d.offset=h);var p=gb(f);return Array.isArray(p)&&(d.easing=p),e.animate(d,{delay:o,duration:a,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:u+1,direction:"reverse"===l?"alternate":"normal"})}(e.owner.current,t,c,Dm(Dm({},i),{},{duration:f,ease:h,times:d}));i.syncStart&&(g.startTime=Sg.isProcessing?Sg.timestamp:document.timeline?document.timeline.currentTime:performance.now());var b=function(){return g.cancel()},w=function(){wg.update(b),o(),u()};return g.onfinish=function(){e.set(function(e,t){var n=t.repeat,r=t.repeatType;return e[n&&"loop"!==(void 0===r?"loop":r)&&n%2===1?0:e.length-1]}(c,i)),r&&r(),w()},{then:function(e,t){return a.then(e,t)},attachTimeline:function(e){return g.timeline=e,g.onfinish=null,dg},get time(){return hb(g.currentTime||0)},set time(e){g.currentTime=fb(e)},get speed(){return g.playbackRate},set speed(e){g.playbackRate=e},get duration(){return hb(f)},play:function(){s||(g.play(),_g(b))},pause:function(){return g.pause()},stop:function(){if(s=!0,"idle"!==g.playState){var t=g.currentTime;if(t){var n=Vw(Dm(Dm({},i),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}w()}},complete:function(){return g.finish()},cancel:w}}var qw={type:"spring",stiffness:500,damping:25,restSpeed:10},Hw={type:"keyframes",duration:.8},Kw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ww=function(e,t){var n=t.keyframes;return n.length>2?Hw:sy.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:qw:Kw},Gw=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!iw.test(t)&&"0"!==t||t.startsWith("url(")))},Qw=new Set(["brightness","contrast","saturate","opacity"]);function $w(e){var t=o(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=o(r.match(_y)||[],1)[0];if(!i)return e;var a=r.replace(i,""),s=Qw.has(n)?1:0;return i!==r&&(s*=100),n+"("+s+a+")"}var Yw=/([a-z-]*)\(.*?\)/g,Xw=Dm(Dm({},iw),{},{getAnimatableNone:function(e){var t=e.match(Yw);return t?t.map($w).join(" "):e}}),Jw=Dm(Dm({},Ry),{},{color:qb,backgroundColor:qb,outlineColor:qb,fill:qb,stroke:qb,borderColor:qb,borderTopColor:qb,borderRightColor:qb,borderBottomColor:qb,borderLeftColor:qb,filter:Xw,WebkitFilter:Xw}),Zw=function(e){return Jw[e]};function e_(e,t){var n=Zw(e);return n!==Xw&&(n=iw),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var t_=function(e){return/^0[^.\s]+$/.test(e)};function n_(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||t_(e):void 0}var r_=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function i_(e,t){return e[t]||e.default||e}var o_=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){var o=i_(r,e)||{},a=o.delay||r.delay||0,s=r.elapsed,u=void 0===s?0:s;u-=fb(a);var c=function(e,t,n,r){var i,o=Gw(t,n);i=Array.isArray(n)?ob(n):[null,n];for(var a=void 0!==r.from?r.from:e.get(),s=void 0,u=[],c=0;c<i.length;c++)null===i[c]&&(i[c]=0===c?a:i[c-1]),n_(i[c])&&u.push(c),"string"===typeof i[c]&&"none"!==i[c]&&"0"!==i[c]&&(s=i[c]);if(o&&u.length&&s)for(var l=0;l<u.length;l++)i[u[l]]=e_(t,s);return i}(t,e,n,o),l=c[0],f=c[c.length-1],h=Gw(e,l),d=Gw(e,f);cb(h===d,"You are trying to animate ".concat(e,' from "').concat(l,'" to "').concat(f,'". ').concat(l," is not an animatable value - to enable this animation set ").concat(l," to a value animatable to ").concat(f," via the `style` property."));var p=Dm(Dm({keyframes:c,velocity:t.getVelocity(),ease:"easeOut"},o),{},{delay:-u,onUpdate:function(e){t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:function(){i(),o.onComplete&&o.onComplete()}});if(function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from,e.elapsed;var t=qy(e,r_);return!!Object.keys(t).length}(o)||(p=Dm(Dm({},p),Ww(e,p))),p.duration&&(p.duration=fb(p.duration)),p.repeatDelay&&(p.repeatDelay=fb(p.repeatDelay)),!h||!d||db||!1===o.type)return function(e){var t=e.keyframes,n=e.delay,r=e.onUpdate,i=e.onComplete,o=function(){return r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:dg,pause:dg,stop:dg,then:function(e){return e(),Promise.resolve()},cancel:dg,complete:dg}};return n?Vw({keyframes:[0,1],duration:0,delay:n,onComplete:o}):o()}(db?Dm(Dm({},p),{},{delay:0}):p);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){var v=zw(t,e,p);if(v)return v}return Vw(p)}};function a_(e){return Boolean(cy(e)&&e.add)}var s_=function(e){return/^\-?\d*\.?\d+$/.test(e)};function u_(e,t){-1===e.indexOf(t)&&e.push(t)}function c_(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var l_=function(){function e(){pg(this,e),this.subscriptions=[]}return mg(e,[{key:"add",value:function(e){var t=this;return u_(this.subscriptions,e),function(){return c_(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),f_={current:void 0},h_=function(){function e(t){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};pg(this,e),this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=Sg.delta,i=Sg.timestamp;r.lastUpdated!==i&&(r.timeDelta=n,r.lastUpdated=i,wg.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.events.change&&r.events.change.notify(r.current),r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()),t&&r.events.renderRequest&&r.events.renderRequest.notify(r.current)},this.scheduleVelocityCheck=function(){return wg.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=i.owner}return mg(e,[{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,t){var n=this;this.events[e]||(this.events[e]=new l_);var r=this.events[e].add(t);return"change"===e?function(){r(),wg.read((function(){n.events.change.getSize()||n.stop()}))}:r}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"setWithVelocity",value:function(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}},{key:"jump",value:function(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}},{key:"get",value:function(){return f_.current&&f_.current.push(this),this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?mw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.animation=e(n),t.events.animationStart&&t.events.animationStart.notify()})).then((function(){t.events.animationComplete&&t.events.animationComplete.notify(),t.clearAnimation()}))}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.animation}},{key:"clearAnimation",value:function(){delete this.animation}},{key:"destroy",value:function(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}]),e}();function d_(e,t){return new h_(e,t)}var p_=function(e){return function(t){return t.test(e)}},v_=[yy,Cy,Iy,xy,Ay,Py,{test:function(e){return"auto"===e},parse:function(e){return e}}],m_=function(e){return v_.find(p_(e))},y_=[].concat(ob(v_),[qb,iw]),g_=function(e){return y_.find(p_(e))},b_=["transitionEnd","transition"];function w_(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,d_(n))}function __(e,t){var n=sb(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,o=void 0===i?{}:i,a=(r.transition,qy(r,b_));for(var s in a=Dm(Dm({},a),o)){w_(e,s,ug(a[s]))}}function S_(e,t){if(t)return(t[e]||t.default||t).from}var E_=["transition","transitionEnd"];function k_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.delay,i=void 0===r?0:r,o=n.transitionOverride,a=n.type,s=e.makeTargetAnimatable(t),u=s.transition,c=void 0===u?e.getDefaultTransition():u,l=s.transitionEnd,f=qy(s,E_),h=e.getValue("willChange");o&&(c=o);var d=[],p=a&&e.animationState&&e.animationState.getState()[a],v=function(t){var n=e.getValue(t),r=f[t];if(!n||void 0===r||p&&function(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}(p,t))return 1;var o=Dm({delay:i,elapsed:0},c);if(window.HandoffAppearAnimations&&!n.hasAnimated){var a=e.getProps()[ub];a&&(o.elapsed=window.HandoffAppearAnimations(a,t,n,wg),o.syncStart=!0)}n.start(o_(t,n,r,e.shouldReduceMotion&&sy.has(t)?{type:!1}:o));var s=n.animation;a_(h)&&(h.add(t),s.then((function(){return h.remove(t)}))),d.push(s)};for(var m in f)v(m);return l&&Promise.all(d).then((function(){l&&__(e,l)})),d}function T_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=sb(e,t,n.custom),i=(r||{}).transition,a=void 0===i?e.getDefaultTransition()||{}:i;n.transitionOverride&&(a=n.transitionOverride);var s=r?function(){return Promise.all(k_(e,r,n))}:function(){return Promise.resolve()},u=e.variantChildren&&e.variantChildren.size?function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=a,o=i.delayChildren,s=void 0===o?0:o,u=i.staggerChildren,c=i.staggerDirection;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0,a=[],s=(e.variantChildren.size-1)*r,u=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(x_).forEach((function(e,r){e.notify("AnimationStart",t),a.push(T_(e,t,Dm(Dm({},o),{},{delay:n+u(r)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(a)}(e,t,s+r,u,c,n)}:function(){return Promise.resolve()},c=a.when;if(c){var l=o("beforeChildren"===c?[s,u]:[u,s],2),f=l[0],h=l[1];return f().then((function(){return h()}))}return Promise.all([s(),u(n.delay)])}function x_(e,t){return e.sortNodePosition(t)}var I_=["transition","transitionEnd"],C_=ob(Bm).reverse(),P_=Bm.length;function A_(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var i=t.map((function(t){return T_(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=T_(e,t,r);else{var o="function"===typeof t?sb(e,t,r.custom):t;n=Promise.all(k_(e,o,r))}return n.then((function(){return e.notify("AnimationComplete",t)}))}(e,n,r)})))}}function D_(e){var t=A_(e),n={animate:N_(!0),whileInView:N_(),whileHover:N_(),whileTap:N_(),whileDrag:N_(),whileFocus:N_(),exit:N_()},r=!0,i=function(t,n){var r=sb(e,n);if(r){r.transition;var i=r.transitionEnd,o=qy(r,I_);t=Dm(Dm(Dm({},t),o),i)}return t};function o(o,a){for(var s=e.getProps(),u=e.getVariantContext(!0)||{},c=[],l=new Set,f={},h=1/0,d=function(){var t=C_[p],d=n[t],v=void 0!==s[t]?s[t]:u[t],m=Um(v),y=t===a?d.isActive:null;!1===y&&(h=p);var g=v===u[t]&&v!==s[t]&&m;if(g&&r&&e.manuallyAnimateOnMount&&(g=!1),d.protectedKeys=Dm({},f),!d.isActive&&null===y||!v&&!d.prevProp||jm(v)||"boolean"===typeof v)return 1;var b=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!ab(t,e);return!1}(d.prevProp,v),w=b||t===a&&d.isActive&&!g&&m||p>h&&m,_=Array.isArray(v)?v:[v],S=_.reduce(i,{});!1===y&&(S={});var E=d.prevResolvedValues,k=void 0===E?{}:E,T=Dm(Dm({},k),S),x=function(e){w=!0,l.delete(e),d.needsAnimating[e]=!0};for(var I in T){var C=S[I],P=k[I];f.hasOwnProperty(I)||(C!==P?ag(C)&&ag(P)?!ab(C,P)||b?x(I):d.protectedKeys[I]=!0:void 0!==C?x(I):l.add(I):void 0!==C&&l.has(I)?x(I):d.protectedKeys[I]=!0)}d.prevProp=v,d.prevResolvedValues=S,d.isActive&&(f=Dm(Dm({},f),S)),r&&e.blockInitialAnimation&&(w=!1),w&&!g&&c.push.apply(c,ob(_.map((function(e){return{animation:e,options:Dm({type:t},o)}}))))},p=0;p<P_;p++)d();if(l.size){var v={};l.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(v[t]=n)})),c.push({animation:v})}var m=Boolean(c.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(c):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=o(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function N_(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var R_=function(e){Ig(n,e);var t=Ag(n);function n(e){var r;return pg(this,n),r=t.call(this,e),e.animationState||(e.animationState=D_(e)),r}return mg(n,[{key:"updateAnimationControlsSubscription",value:function(){var e=this.node.getProps().animate;this.unmount(),jm(e)&&(this.unmount=e.subscribe(this.node))}},{key:"mount",value:function(){this.updateAnimationControlsSubscription()}},{key:"update",value:function(){this.node.getProps().animate!==(this.node.prevProps||{}).animate&&this.updateAnimationControlsSubscription()}},{key:"unmount",value:function(){}}]),n}(qg),O_=0,L_=function(e){Ig(n,e);var t=Ag(n);function n(){var e;return pg(this,n),(e=t.apply(this,arguments)).id=O_++,e}return mg(n,[{key:"update",value:function(){var e=this;if(this.node.presenceContext){var t=this.node.presenceContext,n=t.isPresent,r=t.onExitComplete,i=t.custom,o=(this.node.prevPresenceContext||{}).isPresent;if(this.node.animationState&&n!==o){var a=this.node.animationState.setActive("exit",!n,{custom:null!==i&&void 0!==i?i:this.node.getProps().custom});r&&!n&&a.then((function(){return r(e.id)}))}}}},{key:"mount",value:function(){var e=(this.node.presenceContext||{}).register;e&&(this.unmount=e(this.id))}},{key:"unmount",value:function(){}}]),n}(qg),M_={animation:{Feature:R_},exit:{Feature:L_}},F_=function(e,t){return Math.abs(e-t)};var V_=function(){function e(t,n){var r=this,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transformPagePoint;if(pg(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=B_(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=function(e,t){var n=F_(e.x,t.x),r=F_(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,o=Sg.timestamp;r.history.push(Dm(Dm({},i),{},{timestamp:o}));var a=r.handlers,s=a.onStart,u=a.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=U_(t,r.transformPagePoint),wg.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){if(r.end(),r.lastMoveEvent&&r.lastMoveEventInfo){var n=r.handlers,i=n.onEnd,o=n.onSessionEnd,a=B_("pointercancel"===e.type?r.lastMoveEventInfo:U_(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,a),o&&o(e,a)}},Ng(t)){this.handlers=n,this.transformPagePoint=i;var o=U_(Rg(t),this.transformPagePoint),a=o.point,s=Sg.timestamp;this.history=[Dm(Dm({},a),{},{timestamp:s})];var u=n.onSessionStart;u&&u(t,B_(o,this.history)),this.removeListeners=Fg(Lg(window,"pointermove",this.handlePointerMove),Lg(window,"pointerup",this.handlePointerUp),Lg(window,"pointercancel",this.handlePointerUp))}}return mg(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),_g(this.updatePoint)}}]),e}();function U_(e,t){return t?{point:t(e.point)}:e}function j_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function B_(e,t){var n=e.point;return{point:n,delta:j_(n,q_(t)),offset:j_(n,z_(t)),velocity:H_(t,.1)}}function z_(e){return e[0]}function q_(e){return e[e.length-1]}function H_(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=q_(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>fb(t)));)n--;if(!r)return{x:0,y:0};var o=hb(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};var a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function K_(e){return e.max-e.min}function W_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function G_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Hb(t.min,t.max,e.origin),e.scale=K_(n)/K_(t),(W_(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Hb(n.min,n.max,e.origin)-e.originPoint,(W_(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Q_(e,t,n,r){G_(e.x,t.x,n.x,r?r.originX:void 0),G_(e.y,t.y,n.y,r?r.originY:void 0)}function $_(e,t,n){e.min=n.min+t.min,e.max=e.min+K_(t)}function Y_(e,t,n){e.min=t.min-n.min,e.max=e.min+K_(t)}function X_(e,t,n){Y_(e.x,t.x,n.x),Y_(e.y,t.y,n.y)}function J_(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Z_(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var eS=.35;function tS(e,t,n){return{min:nS(e,t),max:nS(e,n)}}function nS(e,t){return"number"===typeof e?e:e[t]||0}var rS=function(){return{x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}},iS=function(){return{x:{min:0,max:0},y:{min:0,max:0}}};function oS(e){return[e("x"),e("y")]}function aS(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function sS(e){return void 0===e||1===e}function uS(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!sS(t)||!sS(n)||!sS(r)}function cS(e){return uS(e)||lS(e)||e.z||e.rotate||e.rotateX||e.rotateY}function lS(e){return fS(e.x)||fS(e.y)}function fS(e){return e&&"0%"!==e}function hS(e,t,n){return n+t*(e-n)}function dS(e,t,n,r,i){return void 0!==i&&(e=hS(e,i,r)),hS(e,n,r)+t}function pS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=dS(e.min,t,n,r,i),e.max=dS(e.max,t,n,r,i)}function vS(e,t){var n=t.x,r=t.y;pS(e.x,n.translate,n.scale,n.originPoint),pS(e.y,r.translate,r.scale,r.originPoint)}function mS(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function yS(e,t){e.min=e.min+t,e.max=e.max+t}function gS(e,t,n){var r=o(n,3),i=r[0],a=r[1],s=r[2],u=void 0!==t[s]?t[s]:.5,c=Hb(e.min,e.max,u);pS(e,t[i],t[a],c,t.scale)}var bS=["x","scaleX","originX"],wS=["y","scaleY","originY"];function _S(e,t){gS(e.x,t,bS),gS(e.y,t,wS)}function SS(e,t){return aS(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var ES=new WeakMap,kS=function(){function e(t){pg(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=iS(),this.visualElement=t}return mg(e,[{key:"start",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).snapToCursor,r=void 0!==n&&n,i=this.visualElement.presenceContext;if(!i||!1!==i.isPresent){this.panSession=new V_(e,{onSessionStart:function(e){t.stopAnimation(),r&&t.snapToCursor(Rg(e,"page").point)},onStart:function(e,n){var r=t.getProps(),i=r.drag,o=r.dragPropagation,a=r.onDragStart;if(!i||o||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=Bg(i),t.openGlobalLock)){t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),oS((function(e){var n=t.getAxisMotionValue(e).get()||0;if(Iy.test(n)){var r=t.visualElement.projection;if(r&&r.layout){var i=r.layout.layoutBox[e];if(i)n=K_(i)*(parseFloat(n)/100)}}t.originPoint[e]=n})),a&&wg.update((function(){return a(e,n)}),!1,!0);var s=t.visualElement.animationState;s&&s.setActive("whileDrag",!0)}},onMove:function(e,n){var r=t.getProps(),i=r.dragPropagation,o=r.dragDirectionLock,a=r.onDirectionLock,s=r.onDrag;if(i||t.openGlobalLock){var u=n.offset;if(o&&null===t.currentDirection)return t.currentDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(u),void(null!==t.currentDirection&&a&&a(t.currentDirection));t.updateAxis("x",n.point,u),t.updateAxis("y",n.point,u),t.visualElement.render(),s&&s(e,n)}},onSessionEnd:function(e,n){return t.stop(e,n)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;i&&wg.update((function(){return i(e,t)}))}}},{key:"cancel",value:function(){this.isDragging=!1;var e=this.visualElement,t=e.projection,n=e.animationState;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&TS(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?Hb(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Hb(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,o=this.constraints;n&&Vm(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,o=t.right;return{x:J_(e.x,r,o),y:J_(e.y,n,i)}}(i.layoutBox,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eS;return!1===e?e=0:!0===e&&(e=eS),{x:tS(e,"left","right"),y:tS(e,"top","bottom")}}(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&oS((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!Vm(t))return!1;var r=t.current;lb(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var o=function(e,t,n){var r=SS(e,n),i=t.scroll;return i&&(yS(r.x,i.offset.x),yS(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),a=function(e,t){return{x:Z_(e.x,t.x),y:Z_(e.y,t.y)}}(i.layout.layoutBox,o);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!s,s&&(a=aS(s))}return a}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,o=n.dragElastic,a=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,c=this.constraints||{},l=oS((function(n){if(TS(n,r,t.currentDirection)){var u=c&&c[n]||{};s&&(u={min:0,max:0});var l=o?200:1e6,f=o?40:1e7,h=Dm(Dm({type:"inertia",velocity:i?e[n]:0,bounceStiffness:l,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10},a),u);return t.startAxisValueAnimation(n,h)}}));return Promise.all(l).then(u)}},{key:"startAxisValueAnimation",value:function(e,t){var n=this.getAxisMotionValue(e);return n.start(o_(e,n,0,t))}},{key:"stopAnimation",value:function(){var e=this;oS((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}},{key:"snapToCursor",value:function(e){var t=this;oS((function(n){if(TS(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var o=r.layout.layoutBox[n],a=o.min,s=o.max;i.set(e[n]-Hb(a,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e=this;if(this.visualElement.current){var t=this.getProps(),n=t.drag,r=t.dragConstraints,i=this.visualElement.projection;if(Vm(r)&&i&&this.constraints){this.stopAnimation();var o={x:0,y:0};oS((function(t){var n=e.getAxisMotionValue(t);if(n){var r=n.get();o[t]=function(e,t){var n=.5,r=K_(e),i=K_(t);return i>r?n=lw(t.min,t.max-r,e.min):r>i&&(n=lw(e.min,e.max-i,t.min)),my(0,1,n)}({min:r,max:r},e.constraints[t])}}));var a=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),oS((function(t){if(TS(t,n,null)){var r=e.getAxisMotionValue(t),i=e.constraints[t],a=i.min,s=i.max;r.set(Hb(a,s,o[t]))}}))}}}},{key:"addListeners",value:function(){var e=this;if(this.visualElement.current){ES.set(this.visualElement,this);var t=Lg(this.visualElement.current,"pointerdown",(function(t){var n=e.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&e.start(t)})),n=function(){Vm(e.getProps().dragConstraints)&&(e.constraints=e.resolveRefConstraints())},r=this.visualElement.projection,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();var o=Dg(window,"resize",(function(){return e.scalePositionWithinConstraints()})),a=r.addEventListener("didUpdate",(function(t){var n=t.delta,r=t.hasLayoutChanged;e.isDragging&&r&&(oS((function(t){var r=e.getAxisMotionValue(t);r&&(e.originPoint[t]+=n[t].translate,r.set(r.get()+n[t].translate))})),e.visualElement.render())}));return function(){o(),t(),i(),a&&a()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,o=e.dragPropagation,a=void 0!==o&&o,s=e.dragConstraints,u=void 0!==s&&s,c=e.dragElastic,l=void 0===c?eS:c,f=e.dragMomentum,h=void 0===f||f;return Dm(Dm({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:u,dragElastic:l,dragMomentum:h})}}]),e}();function TS(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var xS=function(e){Ig(n,e);var t=Ag(n);function n(e){var r;return pg(this,n),(r=t.call(this,e)).removeGroupControls=dg,r.removeListeners=dg,r.controls=new kS(e),r}return mg(n,[{key:"mount",value:function(){var e=this.node.getProps().dragControls;e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dg}},{key:"unmount",value:function(){this.removeGroupControls(),this.removeListeners()}}]),n}(qg),IS=function(e){return function(t,n){e&&wg.update((function(){return e(t,n)}))}},CS=function(e){Ig(n,e);var t=Ag(n);function n(){var e;return pg(this,n),(e=t.apply(this,arguments)).removePointerDownListener=dg,e}return mg(n,[{key:"onPointerDown",value:function(e){this.session=new V_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}},{key:"createPanHandlers",value:function(){var e=this,t=this.node.getProps(),n=t.onPanSessionStart,r=t.onPanStart,i=t.onPan,o=t.onPanEnd;return{onSessionStart:IS(n),onStart:IS(r),onMove:i,onEnd:function(t,n){delete e.session,o&&wg.update((function(){return o(t,n)}))}}}},{key:"mount",value:function(){var e=this;this.removePointerDownListener=Lg(this.node.current,"pointerdown",(function(t){return e.onPointerDown(t)}))}},{key:"update",value:function(){this.session&&this.session.updateHandlers(this.createPanHandlers())}},{key:"unmount",value:function(){this.removePointerDownListener(),this.session&&this.session.end()}}]),n}(qg);var PS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var DS={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!Cy.test(e))return e;e=parseFloat(e)}var n=AS(e,t.target.x),r=AS(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},NS={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,o=iw.parse(e);if(o.length>5)return i;var a=iw.createTransformer(e),s="number"!==typeof o[0]?1:0,u=r.x.scale*n.x,c=r.y.scale*n.y;o[0+s]/=u,o[1+s]/=c;var l=Hb(u,c,.5);return"number"===typeof o[2+s]&&(o[2+s]/=l),"number"===typeof o[3+s]&&(o[3+s]/=l),a(o)}},RS=function(e){Ig(n,e);var t=Ag(n);function n(){return pg(this,n),t.apply(this,arguments)}return mg(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,o=n.switchLayoutGroup,a=n.layoutId,s=r.projection;e=LS,Object.assign(oy,e),s&&(i.group&&i.group.add(s),o&&o.register&&a&&o.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(Dm(Dm({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),PS.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,o=n.drag,a=n.isPresent,s=i.projection;return s?(s.isPresent=a,o||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||wg.postRender((function(){var e=s.getStack();e&&e.members.length||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.visualElement.projection;t&&(t.root.didUpdate(),queueMicrotask((function(){!t.currentAnimation&&t.isLead()&&e.safeToRemove()})))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;e&&e()}},{key:"render",value:function(){return null}}]),n}(e.Component);function OS(t){var n=function(){var t=(0,e.useContext)(Om);if(null===t)return[!0,null];var n=t.isPresent,r=t.onExitComplete,i=t.register,o=(0,e.useId)();return(0,e.useEffect)((function(){return i(o)}),[]),!n&&r?[!1,function(){return r&&r(o)}]:[!0]}(),r=o(n,2),i=r[0],a=r[1],s=(0,e.useContext)(Xm);return e.createElement(RS,Dm(Dm({},t),{},{layoutGroup:s,switchLayoutGroup:(0,e.useContext)(Jm),isPresent:i,safeToRemove:a}))}var LS={borderRadius:Dm(Dm({},DS),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:DS,borderTopRightRadius:DS,borderBottomLeftRadius:DS,borderBottomRightRadius:DS,boxShadow:NS},MS=["TopLeft","TopRight","BottomLeft","BottomRight"],FS=MS.length,VS=function(e){return"string"===typeof e?parseFloat(e):e},US=function(e){return"number"===typeof e||Cy.test(e)};function jS(e,t){return void 0!==e[t]?e[t]:e.borderRadius}var BS=qS(0,.5,Ab),zS=qS(.5,.95,dg);function qS(e,t,n){return function(r){return r<e?0:r>t?1:n(lw(e,t,r))}}function HS(e,t){e.min=t.min,e.max=t.max}function KS(e,t){HS(e.x,t.x),HS(e.y,t.y)}function WS(e,t,n,r,i){return e=hS(e-=t,1/n,r),void 0!==i&&(e=hS(e,1/i,r)),e}function GS(e,t,n,r,i){var a=o(n,3),s=a[0],u=a[1],c=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(Iy.test(t)&&(t=parseFloat(t),t=Hb(a.min,a.max,t/100)-a.min),"number"===typeof t){var s=Hb(o.min,o.max,r);e===o&&(s-=t),e.min=WS(e.min,t,n,s,i),e.max=WS(e.max,t,n,s,i)}}(e,t[s],t[u],t[c],t.scale,r,i)}var QS=["x","scaleX","originX"],$S=["y","scaleY","originY"];function YS(e,t,n,r){GS(e.x,t,QS,n?n.x:void 0,r?r.x:void 0),GS(e.y,t,$S,n?n.y:void 0,r?r.y:void 0)}function XS(e){return 0===e.translate&&1===e.scale}function JS(e){return XS(e.x)&&XS(e.y)}function ZS(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function eE(e){return K_(e.x)/K_(e.y)}var tE=function(){function e(){pg(this,e),this.members=[]}return mg(e,[{key:"add",value:function(e){u_(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(c_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n=this.lead;e!==n&&(this.prevLead=n,this.lead=e,e.show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t=e.options,n=e.resumingFrom;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function nE(e,t,n){var r="",i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){var a=n.rotate,s=n.rotateX,u=n.rotateY;a&&(r+="rotate(".concat(a,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),u&&(r+="rotateY(".concat(u,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return 1===c&&1===l||(r+="scale(".concat(c,", ").concat(l,")")),r||"none"}var rE=function(e,t){return e.depth-t.depth},iE=function(){function e(){pg(this,e),this.children=[],this.isDirty=!1}return mg(e,[{key:"add",value:function(e){u_(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){c_(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(rE),this.isDirty=!1,this.children.forEach(e)}}]),e}();var oE=["","X","Y","Z"],aE=0,sE={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function uE(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,o=e.resetTransform;return function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();pg(this,e),this.id=aE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=function(){t.isUpdating&&(t.isUpdating=!1,t.clearAllSnapshots())},this.updateProjection=function(){var e;sE.totalNodes=sE.resolvedTargetDeltas=sE.recalculatedProjection=0,t.nodes.forEach(fE),t.nodes.forEach(gE),t.nodes.forEach(bE),t.nodes.forEach(hE),e=sE,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=i?i.root||i:this,this.path=i?[].concat(ob(i.path),[i]):[],this.parent=i,this.depth=i?i.depth+1:0;for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new iE)}return mg(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new l_),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"mount",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(!this.instance){var i;this.isSVG=(i=e)instanceof SVGElement&&"svg"!==i.tagName,this.instance=e;var o=this.options,a=o.layoutId,s=o.layout,u=o.visualElement;if(u&&!u.current&&u.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(s||a)&&(this.isLayoutDirty=!0),t){var c,l=function(){return n.root.updateBlockedByResize=!1};t(e,(function(){n.root.updateBlockedByResize=!0,c&&c(),c=function(e,t){var n=performance.now(),r=function r(i){var o=i.timestamp-n;o>=t&&(_g(r),e(o-t))};return wg.read(r,!0),function(){return _g(r)}}(l,250),PS.hasAnimatedSinceResize&&(PS.hasAnimatedSinceResize=!1,n.nodes.forEach(yE))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&u&&(a||s)&&this.addEventListener("didUpdate",(function(e){var t=e.delta,r=e.hasLayoutChanged,i=e.hasRelativeTargetChanged,o=e.layout;if(n.isTreeAnimationBlocked())return n.target=void 0,void(n.relativeTarget=void 0);var a=n.options.transition||u.getDefaultTransition()||TE,s=u.getProps(),c=s.onLayoutAnimationStart,l=s.onLayoutAnimationComplete,f=!n.targetLayout||!ZS(n.targetLayout,o)||i,h=!r&&i;if(n.options.layoutRoot||n.resumeFrom&&n.resumeFrom.instance||h||r&&(f||!n.currentAnimation)){n.resumeFrom&&(n.resumingFrom=n.resumeFrom,n.resumingFrom.resumingFrom=void 0),n.setAnimationOrigin(t,h);var d=Dm(Dm({},i_(a,"layout")),{},{onPlay:c,onComplete:l});(u.shouldReduceMotion||n.options.layoutRoot)&&(d.delay=0,d.type=!1),n.startAnimation(d)}else r||yE(n),n.isLead()&&n.options.onExitComplete&&n.options.onExitComplete();n.targetLayout=o}))}}},{key:"unmount",value:function(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);var e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_g(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}},{key:"startUpdate",value:function(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wE),this.animationId++)}},{key:"getTransformTemplate",value:function(){var e=this.options.visualElement;return e&&e.getProps().transformTemplate}},{key:"willUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())this.options.onExitComplete&&this.options.onExitComplete();else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t=0;t<this.path.length;t++){var n=this.path[t];n.shouldResetTransform=!0,n.updateScroll("snapshot"),n.options.layoutRoot&&n.willUpdate(!1)}var r=this.options,i=r.layoutId,o=r.layout;if(void 0!==i||o){var a=this.getTransformTemplate();this.prevTransformTemplateValue=a?a(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}}},{key:"update",value:function(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(pE);this.isUpdating||this.nodes.forEach(vE),this.isUpdating=!1,this.nodes.forEach(mE),this.nodes.forEach(cE),this.nodes.forEach(lE),this.clearAllSnapshots();var e=performance.now();Sg.delta=my(0,1e3/60,e-Sg.timestamp),Sg.timestamp=e,Sg.isProcessing=!0,Eg.update.process(Sg),Eg.preRender.process(Sg),Eg.render.process(Sg),Sg.isProcessing=!1}},{key:"didUpdate",value:function(){var e=this;this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((function(){return e.update()})))}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(dE),this.sharedNodes.forEach(_E)}},{key:"scheduleUpdateProjection",value:function(){wg.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;wg.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=iS(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);var n=this.options.visualElement;n&&n.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}},{key:"resetTransform",value:function(){if(o){var e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!JS(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||cS(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.measurePageBox(),r=this.removeElementScroll(n);return t&&(r=this.removeTransform(r)),CE((e=r).x),CE(e.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return iS();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(yS(t.x,n.offset.x),yS(t.y,n.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t=iS();KS(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,o=r.options;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){KS(t,e);var a=this.root.scroll;a&&(yS(t.x,-a.offset.x),yS(t.y,-a.offset.y))}yS(t.x,i.offset.x),yS(t.y,i.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=iS();KS(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_S(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),cS(i.latestValues)&&_S(n,i.latestValues)}return cS(this.latestValues)&&_S(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t=iS();KS(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n];if(r.instance&&cS(r.latestValues)){uS(r.latestValues)&&r.updateSnapshot();var i=iS();KS(i,r.measurePageBox()),YS(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}}return cS(this.latestValues)&&YS(t,this.latestValues),t}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}},{key:"setOptions",value:function(e){this.options=Dm(Dm(Dm({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"forceRelativeParentToResolveTarget",value:function(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sg.timestamp&&this.relativeParent.resolveTargetDelta(!0)}},{key:"resolveTargetDelta",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);var r=Boolean(this.resumingFrom)||this!==n;if(!!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget)){var i=this.options,o=i.layout,a=i.layoutId;if(this.layout&&(o||a)){if(this.resolvedRelativeTargetAt=Sg.timestamp,!this.targetDelta&&!this.relativeTarget){var s=this.getClosestProjectingParent();s&&s.layout&&1!==this.animationProgress?(this.relativeParent=s,this.forceRelativeParentToResolveTarget(),this.relativeTarget=iS(),this.relativeTargetOrigin=iS(),X_(this.relativeTargetOrigin,this.layout.layoutBox,s.layout.layoutBox),KS(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var u,c,l;if(this.target||(this.target=iS(),this.targetWithTransforms=iS()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u=this.target,c=this.relativeTarget,l=this.relativeParent.target,$_(u.x,c.x,l.x),$_(u.y,c.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):KS(this.target,this.layout.layoutBox),vS(this.target,this.targetDelta)):KS(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var f=this.getClosestProjectingParent();f&&Boolean(f.resumingFrom)===Boolean(this.resumingFrom)&&!f.options.layoutScroll&&f.target&&1!==this.animationProgress?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=iS(),this.relativeTargetOrigin=iS(),X_(this.relativeTargetOrigin,this.target,f.target),KS(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sE.resolvedTargetDeltas++}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!uS(this.parent.latestValues)&&!lS(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}},{key:"isProjecting",value:function(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}},{key:"calcProjection",value:function(){var e,t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Sg.timestamp&&(r=!1),!r){var i=this.options,o=i.layout,a=i.layoutId;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(o||a)){KS(this.layoutCorrected,this.layout.layoutBox);var s=this.treeScale.x,u=this.treeScale.y;!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n.length;if(i){var o,a;t.x=t.y=1;for(var s=0;s<i;s++){a=(o=n[s]).projectionDelta;var u=o.instance;u&&u.style&&"contents"===u.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&_S(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,vS(e,a)),r&&cS(o.latestValues)&&_S(e,o.latestValues))}t.x=mS(t.x),t.y=mS(t.y)}}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);var c=t.target;if(c){this.projectionDelta||(this.projectionDelta=rS(),this.projectionDeltaWithTransform=rS());var l=this.projectionTransform;Q_(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=nE(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===s&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),sE.recalculatedProjection++}else this.projectionTransform&&(this.projectionDelta=rS(),this.projectionTransform="none",this.scheduleRender())}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){var t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.snapshot,i=r?r.latestValues:{},o=Dm({},this.latestValues),a=rS();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;var s,u=iS(),c=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),f=!l||l.members.length<=1,h=Boolean(c&&!f&&!0===this.options.crossfade&&!this.path.some(kE));this.animationProgress=0,this.mixTargetDelta=function(n){var r=n/1e3;SE(a.x,e.x,r),SE(a.y,e.y,r),t.setTargetDelta(a),t.relativeTarget&&t.relativeTargetOrigin&&t.layout&&t.relativeParent&&t.relativeParent.layout&&(X_(u,t.layout.layoutBox,t.relativeParent.layout.layoutBox),function(e,t,n,r){EE(e.x,t.x,n.x,r),EE(e.y,t.y,n.y,r)}(t.relativeTarget,t.relativeTargetOrigin,u,r),s&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(t.relativeTarget,s)&&(t.isProjectionDirty=!1),s||(s=iS()),KS(s,t.relativeTarget)),c&&(t.animationValues=o,function(e,t,n,r,i,o){i?(e.opacity=Hb(0,void 0!==n.opacity?n.opacity:1,BS(r)),e.opacityExit=Hb(void 0!==t.opacity?t.opacity:1,0,zS(r))):o&&(e.opacity=Hb(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(var a=0;a<FS;a++){var s="border".concat(MS[a],"Radius"),u=jS(t,s),c=jS(n,s);void 0===u&&void 0===c||(u||(u=0),c||(c=0),0===u||0===c||US(u)===US(c)?(e[s]=Math.max(Hb(VS(u),VS(c),r),0),(Iy.test(c)||Iy.test(u))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=Hb(t.rotate||0,n.rotate||0,r))}(o,i,t.latestValues,r,h,f)),t.root.scheduleUpdateProjection(),t.scheduleRender(),t.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}},{key:"startAnimation",value:function(e){var t=this;this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_g(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wg.update((function(){PS.hasAnimatedSinceResize=!0,t.currentAnimation=function(e,t,n){var r=cy(e)?e:d_(e);return r.start(o_("",r,t,n)),r.animation}(0,1e3,Dm(Dm({},e),{},{onUpdate:function(n){t.mixTargetDelta(n),e.onUpdate&&e.onUpdate(n)},onComplete:function(){e.onComplete&&e.onComplete(),t.completeAnimation()}})),t.resumingFrom&&(t.resumingFrom.currentAnimation=t.currentAnimation),t.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);var e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&PE(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||iS();var o=K_(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+o;var a=K_(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+a}KS(t,n),_S(t,i),Q_(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new tE),this.sharedNodes.get(e).add(t);var n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,n=e.latestValues;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),t){for(var r={},i=0;i<oE.length;i++){var o="rotate"+oE[i];n[o]&&(r[o]=n[o],e.setStaticValue(o,0))}for(var a in e.render(),r)e.setStaticValue(a,r[a]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";var i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=cg(n.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;var o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){var a={};return this.options.layoutId&&(a.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,a.pointerEvents=cg(n.pointerEvents)||""),this.hasProjected&&!cS(this.latestValues)&&(a.transform=i?i({},""):"none",this.hasProjected=!1),a}var s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=nE(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));var u=this.projectionDelta,c=u.x,l=u.y;for(var f in r.transformOrigin="".concat(100*c.origin,"% ").concat(100*l.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(t=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==t?t:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,oy)if(void 0!==s[f]){var h=oy[f],d=h.correct,p=h.applyTo,v="none"===r.transform?s[f]:d(s[f],o);if(p)for(var m=p.length,y=0;y<m;y++)r[p[y]]=v;else r[f]=v}return this.options.layoutId&&(r.pointerEvents=o===this?cg(n.pointerEvents)||"":"none"),r}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(pE),this.root.sharedNodes.clear()}}]),e}()}function cE(e){e.updateLayout()}function lE(e){var t,n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){var r=e.layout,i=r.layoutBox,o=r.measuredBox,a=e.options.animationType,s=n.source!==e.layout.source;"size"===a?oS((function(e){var t=s?n.measuredBox[e]:n.layoutBox[e],r=K_(t);t.min=i[e].min,t.max=t.min+r})):PE(a,n.layoutBox,i)&&oS((function(t){var r=s?n.measuredBox[t]:n.layoutBox[t],o=K_(i[t]);r.max=r.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[t].max=e.relativeTarget[t].min+o)}));var u=rS();Q_(u,i,n.layoutBox);var c=rS();s?Q_(c,e.applyTransform(o,!0),n.measuredBox):Q_(c,i,n.layoutBox);var l=!JS(u),f=!1;if(!e.resumeFrom){var h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){var d=h.snapshot,p=h.layout;if(d&&p){var v=iS();X_(v,n.layoutBox,d.layoutBox);var m=iS();X_(m,i,p.layoutBox),ZS(v,m)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:l,hasRelativeTargetChanged:f})}else if(e.isLead()){var y=e.options.onExitComplete;y&&y()}e.options.transition=void 0}function fE(e){sE.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dE(e){e.clearSnapshot()}function pE(e){e.clearMeasurements()}function vE(e){e.isLayoutDirty=!1}function mE(e){var t=e.options.visualElement;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function yE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function gE(e){e.resolveTargetDelta()}function bE(e){e.calcProjection()}function wE(e){e.resetRotation()}function _E(e){e.removeLeadSnapshot()}function SE(e,t,n){e.translate=Hb(t.translate,0,n),e.scale=Hb(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function EE(e,t,n,r){e.min=Hb(t.min,n.min,r),e.max=Hb(t.max,n.max,r)}function kE(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var TE={duration:.45,ease:[.4,0,.1,1]},xE=function(e){return"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e)},IE=xE("applewebkit/")&&!xE("chrome/")?Math.round:dg;function CE(e){e.min=IE(e.min),e.max=IE(e.max)}function PE(e,t,n){return"position"===e||"preserve-aspect"===e&&!W_(eE(t),eE(n),.2)}var AE=uE({attachResizeListener:function(e,t){return Dg(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),DE={current:void 0},NE=uE({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!DE.current){var e=new AE({});e.mount(window),e.setOptions({layoutScroll:!0}),DE.current=e}return DE.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),RE={pan:{Feature:CS},drag:{Feature:xS,ProjectionNode:NE,MeasureLayout:OS}};var OE=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var LE=4;function ME(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;lb(n<=LE,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var r=function(e){var t=OE.exec(e);if(!t)return[,];var n=o(t,3);return[n[1],n[2]]}(e),i=o(r,2),a=i[0],s=i[1];if(a){var u=window.getComputedStyle(t).getPropertyValue(a);if(u){var c=u.trim();return s_(c)?parseFloat(c):c}return py(s)?ME(s,t,n+1):s}}function FE(e,t,n){var r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var o in n&&(n=Dm({},n)),e.values.forEach((function(e){var t=e.get();if(py(t)){var n=ME(t,i);n&&e.set(n)}})),r){var a=r[o];if(py(a)){var s=ME(a,i);s&&(r[o]=s,n||(n={}),void 0===n[o]&&(n[o]=a))}}return{target:r,transitionEnd:n}}var VE=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),UE=function(e){return VE.has(e)},jE=function(e){return e===yy||e===Cy},BE=function(e,t){return parseFloat(e.split(", ")[t])},zE=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return BE(o[1],t);var a=i.match(/^matrix\((.+)\)$/);return a?BE(a[1],e):0}},qE=new Set(["x","y","z"]),HE=ay.filter((function(e){return!qE.has(e)}));var KE={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,o=t.paddingRight,a=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(a)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,o=t.paddingBottom,a=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(a)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:zE(4,13),y:zE(5,14)};KE.translateX=KE.x,KE.translateY=KE.y;var WE=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Dm({},t),r=Dm({},r);var i=Object.keys(t).filter(UE),a=[],s=!1,u=[];if(i.forEach((function(i){var o=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=m_(l),h=t[i];if(ag(h)){var d=h.length,p=null===h[0]?1:0;l=h[p],f=m_(l);for(var v=p;v<d&&null!==h[v];v++)c?lb(m_(h[v])===c,"All keyframes must be of the same type"):(c=m_(h[v]),lb(c===f||jE(f)&&jE(c),"Keyframes must be of the same dimension as the current value"))}else c=m_(h);if(f!==c)if(jE(f)&&jE(c)){var m=o.get();"string"===typeof m&&o.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&c===Cy&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===h)?0===l?o.set(c.transform(l)):t[i]=f.transform(h):(s||(a=function(e){var t=[];return HE.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),s=!0),u.push(i),r[i]=void 0!==r[i]?r[i]:t[i],o.jump(h))}})),u.length){var c=u.indexOf("height")>=0?window.pageYOffset:null,l=function(e,t,n){var r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),a=o.display,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=KE[e](r,o)})),t.render();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);r&&r.jump(s[n]),e[n]=KE[n](u,o)})),e}(t,e,u);return a.length&&a.forEach((function(t){var n=o(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.render(),Lm&&null!==c&&window.scrollTo({top:c}),{target:l,transitionEnd:r}}return{target:t,transitionEnd:r}};function GE(e,t,n,r){return function(e){return Object.keys(e).some(UE)}(t)?WE(e,t,n,r):{target:t,transitionEnd:r}}var QE={current:null},$E={current:!1};var YE=new WeakMap,XE=["willChange"],JE=["children"],ZE=Object.keys(Qm),ek=ZE.length,tk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nk=zm.length,rk=function(){function e(t){var n=this,r=t.parent,i=t.props,o=t.presenceContext,a=t.reducedMotionConfig,s=t.visualState,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};pg(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return n.notify("Update",n.latestValues)},this.render=function(){n.current&&(n.triggerBuild(),n.renderInstance(n.current,n.renderState,n.props.style,n.projection))},this.scheduleRender=function(){return wg.render(n.render,!1,!0)};var c=s.latestValues,l=s.renderState;this.latestValues=c,this.baseTarget=Dm({},c),this.initialValues=i.initial?Dm({},c):{},this.renderState=l,this.parent=r,this.props=i,this.presenceContext=o,this.depth=r?r.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.isControllingVariants=qm(i),this.isVariantNode=Hm(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(r&&r.current);var f=this.scrapeMotionValuesFromProps(i,{}),h=f.willChange,d=qy(f,XE);for(var p in d){var v=d[p];void 0!==c[p]&&cy(v)&&(v.set(c[p],!1),a_(h)&&h.add(p))}}return mg(e,[{key:"scrapeMotionValuesFromProps",value:function(e,t){return{}}},{key:"mount",value:function(e){var t=this;this.current=e,YE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((function(e,n){return t.bindToMotionValue(n,e)})),$E.current||function(){if($E.current=!0,Lm)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return QE.current=e.matches};e.addListener(t),t()}else QE.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||QE.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}},{key:"unmount",value:function(){for(var e in YE.delete(this.current),this.projection&&this.projection.unmount(),_g(this.notifyUpdate),_g(this.render),this.valueSubscriptions.forEach((function(e){return e()})),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(var t in this.features)this.features[t].unmount();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var n=this,r=sy.has(e),i=t.on("change",(function(t){n.latestValues[e]=t,n.props.onUpdate&&wg.update(n.notifyUpdate,!1,!0),r&&n.projection&&(n.projection.isTransformDirty=!0)})),o=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(function(){i(),o()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,t,n,r){for(var i,o,a=this,s=(e.children,qy(e,JE)),u=0;u<ek;u++){var c=ZE[u],l=Qm[c],f=l.isEnabled,h=l.Feature,d=l.ProjectionNode,p=l.MeasureLayout;d&&(i=d),f(s)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),p&&(o=p))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);var v=s.layoutId,m=s.layout,y=s.drag,g=s.dragConstraints,b=s.layoutScroll,w=s.layoutRoot;this.projection.setOptions({layoutId:v,layout:m,alwaysMeasureLayout:Boolean(y)||g&&Vm(g),visualElement:this,scheduleRender:function(){return a.scheduleRender()},animationType:"string"===typeof m?m:"both",initialPromotionConfig:r,layoutScroll:b,layoutRoot:w})}return o}},{key:"updateFeatures",value:function(){for(var e in this.features){var t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):iS()}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}},{key:"update",value:function(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(var n=0;n<tk.length;n++){var r=tk[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);var i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,t,n){var r=t.willChange;for(var i in t){var o=t[i],a=n[i];if(cy(o))e.addValue(i,o),a_(r)&&r.add(i);else if(cy(a))e.addValue(i,d_(o,{owner:e})),a_(r)&&r.remove(i);else if(a!==o)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(o)}else{var u=e.getStaticValue(i);e.addValue(i,d_(void 0!==u?u:o,{owner:e}))}}for(var c in n)void 0===t[c]&&e.removeValue(c);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){return this.props.variants?this.props.variants[e]:void 0}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}},{key:"getVariantContext",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){var e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}for(var t={},n=0;n<nk;n++){var r=zm[n],i=this.props[r];(Um(i)||!1===i)&&(t[r]=i)}return t}},{key:"addVariantChild",value:function(e){var t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),function(){return t.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}},{key:"removeValue",value:function(e){this.values.delete(e);var t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=d_(t,{owner:this}),this.addValue(e,n)),n}},{key:"readValue",value:function(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,n=this.props.initial,r="string"===typeof n||"object"===typeof n?null===(t=og(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;var i=this.getBaseTargetFromProps(this.props,e);return void 0===i||cy(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new l_),this.events[e].add(t)}},{key:"notify",value:function(e){if(this.events[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.events[e]).notify.apply(t,r)}}}]),e}(),ik=["transition","transitionEnd"],ok=function(e){Ig(n,e);var t=Ag(n);function n(){return pg(this,n),t.apply(this,arguments)}return mg(n,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){return e.style?e.style[t]:void 0}},{key:"removeValueFromRenderState",value:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t,n){var r=e.transition,i=e.transitionEnd,o=qy(e,ik),a=t.transformValues,s=function(e,t,n){var r={};for(var i in e){var o=S_(i,t);if(void 0!==o)r[i]=o;else{var a=n.getValue(i);a&&(r[i]=a.get())}}return r}(o,r||{},this);if(a&&(i&&(i=a(i)),o&&(o=a(o)),s&&(s=a(s))),n){!function(e,t,n){var r,i,o=Object.keys(t).filter((function(t){return!e.hasValue(t)})),a=o.length;if(a)for(var s=0;s<a;s++){var u=o[s],c=t[u],l=null;Array.isArray(c)&&(l=c[0]),null===l&&(l=null!==(i=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==i?i:t[u]),void 0!==l&&null!==l&&("string"===typeof l&&(s_(l)||t_(l))?l=parseFloat(l):!g_(l)&&iw.test(c)&&(l=e_(u,c)),e.addValue(u,d_(l,{owner:e})),void 0===n[u]&&(n[u]=l),null!==l&&e.setBaseTarget(u,l))}}(this,o,s);var u=function(e,t,n,r){var i=FE(e,t,r);return GE(e,t=i.target,n,r=i.transitionEnd)}(this,o,s,i);i=u.transitionEnd,o=u.target}return Dm({transition:r,transitionEnd:i},o)}}]),n}(rk);var ak=function(e){Ig(n,e);var t=Ag(n);function n(){return pg(this,n),t.apply(this,arguments)}return mg(n,[{key:"readValueFromInstance",value:function(e,t){if(sy.has(t)){var n=Zw(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),o=(dy(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof o?o.trim():o}},{key:"measureInstanceViewportBox",value:function(e,t){return SS(e,t.transformPagePoint)}},{key:"build",value:function(e,t,n,r){Oy(e,t,n,r.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return rg(e,t)}},{key:"handleChildMotionValue",value:function(){var e=this;this.childSubscription&&(this.childSubscription(),delete this.childSubscription);var t=this.props.children;cy(t)&&(this.childSubscription=t.on("change",(function(t){e.current&&(e.current.textContent="".concat(t))})))}},{key:"renderInstance",value:function(e,t,n,r){eg(e,t,n,r)}}]),n}(ok);function sk(){return sk="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cg(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},sk.apply(this,arguments)}var uk=function(e){Ig(n,e);var t=Ag(n);function n(){var e;return pg(this,n),(e=t.apply(this,arguments)).isSVGTag=!1,e}return mg(n,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){if(sy.has(t)){var n=Zw(t);return n&&n.default||0}return t=tg.has(t)?t:Zy(t),e.getAttribute(t)}},{key:"measureInstanceViewportBox",value:function(){return iS()}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return ig(e,t)}},{key:"build",value:function(e,t,n,r){Qy(e,t,n,this.isSVGTag,r.transformTemplate)}},{key:"renderInstance",value:function(e,t,n,r){ng(e,t,0,r)}},{key:"mount",value:function(e){this.isSVGTag=Yy(e.tagName),sk(Cg(n.prototype),"mount",this).call(this,e)}}]),n}(ok),ck=function(e,t){return iy(e)?new uk(t,{enableHardwareAcceleration:!1}):new ak(t,{enableHardwareAcceleration:!0})},lk={layout:{ProjectionNode:NE,MeasureLayout:OS}},fk=Dm(Dm(Dm(Dm({},M_),ib),RE),lk),hk=ny((function(e,t){return function(e,t,n,r){var i=t.forwardMotionProps,o=void 0!==i&&i;return Dm(Dm({},iy(e)?kg:Tg),{},{preloadedFeatures:n,useRender:Jy(o),createVisualElement:r,Component:e})}(e,t,fk,ck)}));var dk=function(t){var n=t.file,r=t.setFile,i=Im(n),o=i.progress,s=i.url;return(0,e.useEffect)((function(){s&&r(null)}),[s,r]),(0,a.jsx)(hk.div,{className:"progress-bar",initial:{width:0},animate:{width:o+"%"}})},pk=function(){var t=o((0,e.useState)(null),2),n=t[0],r=t[1],i=o((0,e.useState)(null),2),s=i[0],u=i[1],c=["image/png","image/jpeg"];return(0,a.jsxs)("form",{children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&c.includes(t.type)?(r(t),u("")):(r(null),u("Please select an image file (png or jpg)"))}}),(0,a.jsx)("span",{children:"+"})]}),(0,a.jsxs)("div",{className:"output",children:[s&&(0,a.jsx)("div",{className:"error",children:s}),n&&(0,a.jsx)("div",{children:n.name}),n&&(0,a.jsx)(dk,{file:n,setFile:r})]})]})},vk=function(t){var n=o((0,e.useState)([]),2),r=n[0],i=n[1];return(0,e.useEffect)((function(){var e=Tm.collection(t).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Dm(Dm({},e.data()),{},{id:e.id}))})),i(t)}));return function(){return e()}}),[t]),{docs:r}},mk=function(e){var t=e.setSelectedImg,n=vk("images").docs;return(0,a.jsx)("div",{className:"img-grid",children:n&&n.map((function(e){return(0,a.jsx)(hk.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},s:!0,onClick:function(){return t(e.url)},children:(0,a.jsx)(hk.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})},yk=function(e){var t=e.setSelectedImg,n=e.selectedImg;return(0,a.jsx)(hk.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&t(null)},initial:{opacity:0},animate:{opacity:1},children:(0,a.jsx)(hk.img,{src:n,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})};var gk=function(){var t=o((0,e.useState)(null),2),n=t[0],r=t[1];return(0,a.jsxs)("div",{className:"App",children:[(0,a.jsx)(s,{}),(0,a.jsx)(pk,{}),(0,a.jsx)(mk,{setSelectedImg:r}),n&&(0,a.jsx)(yk,{selectedImg:n,setSelectedImg:r})]})};t.render((0,a.jsx)(e.StrictMode,{children:(0,a.jsx)(gk,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.61722066.js.map